// COPYRIGHT Â© 2020 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.16/esri/copyright.txt for details.

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Ajv=e()}}((function(){return function e(r,t,a){function s(i,n){if(!t[i]){if(!r[i]){var l="function"==typeof require&&require;if(!n&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var h=t[i]={exports:{}};r[i][0].call(h.exports,(function(e){var t=r[i][1][e];return s(t||e)}),h,h.exports,e,r,t,a)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)s(a[i]);return s}({1:[function(e,r,t){"use strict";r.exports={setup:function e(r,t){!1!==t&&(t=!0);var a,s=r.async,c=r.transpile;switch(typeof c){case"string":var h=n[c];if(!h)throw new Error("bad transpiler: "+c);return r._transpileFunc=h(r,t);case"undefined":case"boolean":if("string"==typeof s){if(!(a=i[s]))throw new Error("bad async mode: "+s);return r.transpile=a(r,t)}for(var u=0;u<l.length;u++){var f=l[u];if(e(f,!1))return o.copy(f,r),r.transpile}throw new Error("generators, nodent and regenerator are not available");case"function":return r._transpileFunc=r.transpile;default:throw new Error("bad transpiler: "+c)}},compile:function(e,r){var t,a=this;try{t=this._addSchema(e)}catch(e){return void setTimeout((function(){r(e)}))}if(t.validate)setTimeout((function(){r(null,t.validate)}));else{if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");!function e(r,t,s){var o;try{o=a.compile(r)}catch(e){return void(e.missingSchema?i(e):n(e))}function i(s){var o=s.missingSchema;if(a._refs[o]||a._schemas[o])return t(new Error("Schema "+o+" is loaded but "+s.missingRef+" cannot be resolved"));var i=a._loadingSchemas[o];function n(s,i){if(s)return t(s);if(!a._refs[o]&&!a._schemas[o])try{a.addSchema(i,o)}catch(e){return void t(e)}e(r,t)}i?"function"==typeof i?a._loadingSchemas[o]=[i,n]:i[i.length]=n:(a._loadingSchemas[o]=n,a._opts.loadSchema(o,(function(e,r){var t=a._loadingSchemas[o];if(delete a._loadingSchemas[o],"function"==typeof t)t(e,r);else for(var s=0;s<t.length;s++)t[s](e,r)})))}function n(e,r){if(!s)return t(e,r);setTimeout((function(){t(e,r)}))}n(null,o)}(e,r,!0)}}};var a,s,o=e("./compile/util"),i={"*":c,"co*":c,es7:function(e,r){try{return new Function("(async function(){})()")(),!0}catch(e){if(r)throw new Error("es7 async functions not supported")}}},n={nodent:function(r,t){try{if(!s){s=e("nodent")({log:!1,dontInstallRequireHook:!0})}return"es7"!=r.async&&(r.async&&!0!==r.async&&console.warn("nodent transpiles only es7 async functions"),r.async="es7"),u}catch(e){if(t)throw new Error("nodent not available")}},regenerator:function(r,t){try{if(!a){(a=e("regenerator")).runtime()}return r.async&&!0!==r.async||(r.async="es7"),h}catch(e){if(t)throw new Error("regenerator not available")}}},l=[{async:"co*"},{async:"es7",transpile:"nodent"},{async:"co*",transpile:"regenerator"}];function c(e,r){try{return new Function("(function*(){})()")(),!0}catch(e){if(r)throw new Error("generators not supported")}}function h(e){return a.compile(e).code}function u(e){return s.compile(e,"",{promises:!0,sourcemap:!1}).code}},{"./compile/util":11}],2:[function(e,r,t){"use strict";var a=r.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},{}],3:[function(e,r,t){"use strict";r.exports={$ref:e("../dotjs/ref"),allOf:e("../dotjs/allOf"),anyOf:e("../dotjs/anyOf"),dependencies:e("../dotjs/dependencies"),enum:e("../dotjs/enum"),format:e("../dotjs/format"),items:e("../dotjs/items"),maximum:e("../dotjs/_limit"),minimum:e("../dotjs/_limit"),maxItems:e("../dotjs/_limitItems"),minItems:e("../dotjs/_limitItems"),maxLength:e("../dotjs/_limitLength"),minLength:e("../dotjs/_limitLength"),maxProperties:e("../dotjs/_limitProperties"),minProperties:e("../dotjs/_limitProperties"),multipleOf:e("../dotjs/multipleOf"),not:e("../dotjs/not"),oneOf:e("../dotjs/oneOf"),pattern:e("../dotjs/pattern"),properties:e("../dotjs/properties"),required:e("../dotjs/required"),uniqueItems:e("../dotjs/uniqueItems"),validate:e("../dotjs/validate")}},{"../dotjs/_limit":14,"../dotjs/_limitItems":15,"../dotjs/_limitLength":16,"../dotjs/_limitProperties":17,"../dotjs/allOf":18,"../dotjs/anyOf":19,"../dotjs/dependencies":22,"../dotjs/enum":23,"../dotjs/format":24,"../dotjs/items":25,"../dotjs/multipleOf":26,"../dotjs/not":27,"../dotjs/oneOf":28,"../dotjs/pattern":29,"../dotjs/properties":31,"../dotjs/ref":32,"../dotjs/required":33,"../dotjs/uniqueItems":35,"../dotjs/validate":36}],4:[function(e,r,t){"use strict";r.exports=function e(r,t){if(r===t)return!0;var a,s=Array.isArray(r),o=Array.isArray(t);if(s&&o){if(r.length!=t.length)return!1;for(a=0;a<r.length;a++)if(!e(r[a],t[a]))return!1;return!0}if(s!=o)return!1;if(r&&t&&"object"==typeof r&&"object"==typeof t){var i=Object.keys(r);if(i.length!==Object.keys(t).length)return!1;var n=r instanceof Date,l=t instanceof Date;if(n&&l)return r.getTime()==t.getTime();if(n!=l)return!1;var c=r instanceof RegExp,h=t instanceof RegExp;if(c&&h)return r.toString()==t.toString();if(c!=h)return!1;for(a=0;a<i.length;a++)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=0;a<i.length;a++)if(!e(r[i[a]],t[i[a]]))return!1;return!0}return!1}},{}],5:[function(e,r,t){"use strict";var a=e("./util"),s=/^\d\d\d\d-(\d\d)-(\d\d)$/,o=[0,31,29,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,n=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,u=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function f(e){e="full"==e?"full":"fast";var r=a.copy(f[e]);for(var t in f.compare)r[t]={validate:r[t],compare:f.compare[t]};return r}function d(e){var r=e.match(s);if(!r)return!1;var t=+r[1],a=+r[2];return t>=1&&t<=12&&a>=1&&a<=o[t]}function p(e,r){var t=e.match(i);if(!t)return!1;var a=t[1],s=t[2],o=t[3],n=t[5];return a<=23&&s<=59&&o<=59&&(!r||n)}r.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:y,uuid:c,"json-pointer":h,"relative-json-pointer":u},f.full={date:d,time:p,"date-time":function(e){var r=e.split(m);return 2==r.length&&d(r[0])&&p(r[1],!0)},uri:function(e){return v.test(e)&&l.test(e)},email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&n.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:y,uuid:c,"json-pointer":h,"relative-json-pointer":u},f.compare={date:g,time:P,"date-time":function(e,r){if(!e||!r)return;e=e.split(m),r=r.split(m);var t=g(e[0],r[0]);if(void 0===t)return;return t||P(e[1],r[1])}};var m=/t|\s/i;var v=/\/|\:/;function y(e){try{return new RegExp(e),!0}catch(e){return!1}}function g(e,r){if(e&&r)return e>r?1:e<r?-1:e===r?0:void 0}function P(e,r){if(e&&r&&(e=e.match(i),r=r.match(i),e&&r))return(e=e[1]+e[2]+e[3]+(e[4]||""))>(r=r[1]+r[2]+r[3]+(r[4]||""))?1:e<r?-1:e===r?0:void 0}},{"./util":11}],6:[function(e,r,t){"use strict";var a,s=e("./resolve"),o=e("./util"),i=e("json-stable-stringify"),n=e("../async");var l=e("../dotjs/validate"),c=e("co"),h=o.ucs2length,u=e("./equal"),f=e("./validation_error");function d(e,r,t){var a=m.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function p(e,r,t){var a=m.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function m(e,r,t){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==e&&s.root==r&&s.baseId==t)return a}return-1}function v(e,r){return"var pattern"+e+" = new RegExp("+o.toQuotedString(r[e])+");"}function y(e){return"var default"+e+" = defaults["+e+"];"}function g(e,r){return r[e]?"var refVal"+e+" = refVal["+e+"];":""}function P(e){return"var customRule"+e+" = customRules["+e+"];"}function E(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}r.exports=function r(t,m,b,w){var j=this,S=this._opts,$=[void 0],x={},_=[],O={},R=[],I={},A=[],k=!1!==S.sourceCode;m=m||{schema:t,refVal:$,refs:x};var q=d.call(this,t,m,w),D=this._compilations[q.index];if(q.compiling)return D.callValidate=function e(){var r=D.validate,t=r.apply(null,arguments);return e.errors=r.errors,t};var L=this._formats,Q=this.RULES;try{var C=z(t,m,b,w);D.validate=C;var V=D.callValidate;return V&&(V.schema=C.schema,V.errors=null,V.refs=C.refs,V.refVal=C.refVal,V.root=C.root,V.$async=C.$async,k&&(V.sourceCode=C.sourceCode)),C}finally{p.call(this,t,m,w)}function z(t,i,d,p){var b=!i||i&&i.schema==t;if(i.schema!=m.schema)return r.call(j,t,i,d,p);var w=!0===t.$async;w&&!S.transpile&&n.setup(S);var O=l({isTop:!0,schema:t,isRoot:b,baseId:p,root:i,schemaPath:"",errSchemaPath:"#",errorPath:'""',RULES:Q,validate:l,util:o,resolve:s,resolveRef:U,usePattern:N,useDefault:F,useCustomRule:H,opts:S,formats:L,self:j});O=E($,g)+E(_,v)+E(R,y)+E(A,P)+O,S.beautify&&(!function(){if(void 0===a){try{a=e("js-beautify").js_beautify}catch(e){a=!1}}}(),a?O=a(O,S.beautify):console.error('"npm install js-beautify" to use beautify option'));var I,q,D=S._transpileFunc;try{q=w&&D?D(O):O,I=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",q)(j,Q,L,m,$,R,A,c,u,h,f),$[0]=I}catch(e){throw console.error("Error compiling schema, function code:",q),e}return I.schema=t,I.errors=null,I.refs=x,I.refVal=$,I.root=b?I:i,w&&(I.$async=!0),k&&(I.sourceCode=O),!0===S.sourceCode&&(I.source={patterns:_,defaults:R}),I}function U(e,t,a){t=s.url(e,t);var o,i,n=x[t];if(void 0!==n)return M(o=$[n],i="refVal["+n+"]");if(!a&&m.refs){var l=m.refs[t];if(void 0!==l)return M(o=m.refVal[l],i=T(t,o))}i=T(t);var c=s.call(j,z,m,t);if(!c){var h=b&&b[t];h&&(c=s.inlineRef(h,S.inlineRefs)?h:r.call(j,h,m,b,e))}return c?(function(e,r){var t=x[e];$[t]=r}(t,c),M(c,i)):void 0}function T(e,r){var t=$.length;return $[t]=r,x[e]=t,"refVal"+t}function M(e,r){return"object"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&e.$async}}function N(e){var r=O[e];return void 0===r&&(r=O[e]=_.length,_[r]=e),"pattern"+r}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return o.toQuotedString(e);case"object":if(null===e)return"null";var r=i(e),t=I[r];return void 0===t&&(t=I[r]=R.length,R[t]=e),"default"+t}}function H(e,r,t,a){var s=e.definition.validateSchema;if(s&&!1!==j._opts.validateSchema&&!s(r)){var o="keyword schema is invalid: "+j.errorsText(s.errors);if("log"!=j._opts.validateSchema)throw new Error(o);console.error(o)}var i,n=e.definition.compile,l=e.definition.inline,c=e.definition.macro;n?i=n.call(j,r,t,a):c?(i=c.call(j,r,t,a),!1!==S.validateSchema&&j.validateSchema(i,!0)):i=l?l.call(j,a,e.keyword,r,t):e.definition.validate;var h=A.length;return A[h]=i,{code:"customRule"+h,validate:i}}}},{"../async":1,"../dotjs/validate":36,"./equal":4,"./resolve":7,"./util":11,"./validation_error":12,co:41,"json-stable-stringify":42}],7:[function(e,r,t){"use strict";var a=e("url"),s=e("./equal"),o=e("./util"),i=e("./schema_obj");function n(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return n.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof i)return d(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s,o,c,h=l.call(this,r,t);return h&&(s=h.schema,r=h.root,c=h.baseId),s instanceof i?o=s.validate||e.call(this,s.schema,r,void 0,c):s&&(o=d(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,c)),o}function l(e,r){var t=a.parse(r,!1,!0),s=m(t),o=p(e.schema.id);if(s!==o){var n=y(s),l=this._refs[n];if("string"==typeof l)return c.call(this,e,l,t);if(l instanceof i)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[n])instanceof i))return;if(l.validate||this._compile(l),n==y(r))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=p(e.schema.id)}return u.call(this,t,o,e.schema,e)}function c(e,r,t){var a=l.call(this,e,r);if(a){var s=a.schema,o=a.baseId;return e=a.root,s.id&&(o=g(o,s.id)),u.call(this,t,o,s,e)}}r.exports=n,n.normalizeId=y,n.fullPath=p,n.url=g,n.ids=function(e){var r=y(e.id),t={};return function e(r,i,n){if(Array.isArray(r))for(var l=0;l<r.length;l++)e.call(this,r[l],i+"/"+l,n);else if(r&&"object"==typeof r){if("string"==typeof r.id){var c=n=n?a.resolve(n,r.id):r.id;c=y(c);var h=this._refs[c];if("string"==typeof h&&(h=this._refs[h]),h&&h.schema){if(!s(r,h.schema))throw new Error('id "'+c+'" resolves to more than one schema')}else if(c!=y(i))if("#"==c[0]){if(t[c]&&!s(r,t[c]))throw new Error('id "'+c+'" resolves to more than one schema');t[c]=r}else this._refs[c]=i}for(var u in r)e.call(this,r[u],i+"/"+o.escapeFragment(u),n)}}.call(this,e,p(r,!1),r),t},n.inlineRef=d,n.schema=l;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function u(e,r,t,a){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var s=e.hash.split("/"),i=1;i<s.length;i++){var n=s[i];if(n){if(!(t=t[n=o.unescapeFragment(n)]))break;if(t.id&&!h[n]&&(r=g(r,t.id)),t.$ref){var c=g(r,t.$ref),u=l.call(this,a,c);u&&(t=u.schema,a=u.root,r=u.baseId)}}}return t&&t!=a.schema?{schema:t,root:a,baseId:r}:void 0}}var f=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,r){return!1!==r&&(void 0===r||!0===r?function e(r){var t;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if("object"==typeof(t=r[a])&&!e(t))return!1}else for(var s in r){if("$ref"==s)return!1;if("object"==typeof(t=r[s])&&!e(t))return!1}return!0}(e):r?function e(r){var t,a=0;if(Array.isArray(r)){for(var s=0;s<r.length;s++)if("object"==typeof(t=r[s])&&(a+=e(t)),a==1/0)return 1/0}else for(var o in r){if("$ref"==o)return 1/0;if(f[o])a++;else if("object"==typeof(t=r[o])&&(a+=e(t)+1),a==1/0)return 1/0}return a}(e)<=r:void 0)}function p(e,r){return!1!==r&&(e=y(e)),m(a.parse(e,!1,!0))}function m(e){var r=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+r+(e.host||"")+(e.path||"")+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function g(e,r){return r=y(r),a.resolve(e,r)}},{"./equal":4,"./schema_obj":9,"./util":11,url:50}],8:[function(e,r,t){"use strict";var a=e("./_rules"),s=e("./util").toHash;r.exports=function(){var e=[{type:"number",rules:["maximum","minimum","multipleOf"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","properties"]},{rules:["$ref","enum","not","anyOf","oneOf","allOf"]}],r=["type","additionalProperties","patternProperties"];return e.all=s(r),e.forEach((function(t){t.rules=t.rules.map((function(t){return r.push(t),e.all[t]={keyword:t,code:a[t]}}))})),e.keywords=s(r.concat(["additionalItems","$schema","id","title","description","default"])),e.types=s(["number","integer","string","array","object","boolean","null"]),e.custom={},e}},{"./_rules":3,"./util":11}],9:[function(e,r,t){"use strict";var a=e("./util");r.exports=function(e){a.copy(e,this)}},{"./util":11}],10:[function(e,r,t){"use strict";r.exports=function(e){for(var r,t=0,a=e.length,s=0;s<a;)t++,(r=e.charCodeAt(s++))>=55296&&r<=56319&&s<a&&56320==(64512&(r=e.charCodeAt(s)))&&s++;return t}},{}],11:[function(e,r,t){"use strict";function a(e,r,t){var a=t?" !== ":" === ",s=t?" || ":" && ",o=t?"!":"",i=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+s+"typeof "+r+a+'"object"'+s+i+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+s+i+"("+r+" % 1)"+s+r+a+r+")";default:return"typeof "+r+a+'"'+e+'"'}}r.exports={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:a,checkDataTypes:function(e,r){switch(e.length){case 1:return a(e[0],r,!0);default:var t="",s=o(e);for(var i in s.array&&s.object&&(t=s.null?"(":"(!"+r+" || ",t+="typeof "+r+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)t+=(t?" && ":"")+a(i,r,!0);return t}},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var o=r[a];s[o]?t[t.length]=o:"array"===e&&"array"===o&&(t[t.length]=o)}if(t.length)return t}else{if(s[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:o,getProperty:l,escapeQuotes:c,ucs2length:e("./ucs2length"),varOccurences:function(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},cleanUpCode:function(e){return e.replace(h,"").replace(u,"").replace(f,"if (!($1))")},cleanUpVarErrors:function(e,r){var t=e.match(d);return t&&2===t.length?r?e.replace(m,"").replace(v,"return true;"):e.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;"):e},schemaHasRules:function(e,r){for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){for(var a in e)if(a!=t&&r[a])return!0},stableStringify:e("json-stable-stringify"),toQuotedString:y,getPathExpr:function(e,r,t,a){return E(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){var a=y(t?"/"+b(r):l(r));return E(e,a)},getData:function(e,r,t){var a,s,o,i;if(""===e)return"rootData";if("/"==e[0]){if(!g.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,o="rootData"}else{if(!(i=e.match(P)))throw new Error("Invalid JSON-pointer: "+e);if(a=+i[1],"#"==(s=i[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(o="data"+(r-a||""),!s)return o}for(var n=o,c=s.split("/"),h=0;h<c.length;h++){var u=c[h];u&&(o+=l(w(u)),n+=" && "+o)}return n},unescapeFragment:function(e){return w(decodeURIComponent(e))},escapeFragment:function(e){return encodeURIComponent(b(e))},escapeJsonPointer:b};var s=o(["string","number","integer","boolean","null"]);function o(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var i=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":i.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(n,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var h=/else\s*{\s*}/g,u=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,f=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var d=/[^v\.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v=/if \(errors === 0\) return true;\s*else throw new ValidationError\(vErrors\);/;function y(e){return"'"+c(e)+"'"}var g=/^\/(?:[^~]|~0|~1)*$/,P=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function E(e,r){return'""'==e?r:(e+" + "+r).replace(/' \+ '/g,"")}function b(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function w(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":10,"json-stable-stringify":42}],12:[function(e,r,t){"use strict";function a(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}r.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},{}],13:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a;if(t+="var "+h+" = undefined;",!1===e.opts.format)return t+=" "+h+" = true; ";var u=e.schema.format,f=e.opts.v5&&u.$data,d="";if(f){t+=" var "+(p="format"+a)+" = formats["+e.util.getData(u.$data,s,e.dataPathArr)+"] , "+(m="compare"+a)+" = "+p+" && "+p+".compare;"}else{var p;if(!(p=e.formats[u])||!p.compare)return t+="  "+h+" = true; ";var m="formats"+e.util.getProperty(u)+".compare"}var v,y="formatMaximum"==r,g="formatExclusive"+(y?"Maximum":"Minimum"),P=e.schema[g],E=e.opts.v5&&P&&P.$data,b=y?"<":">",w="result"+a,j=e.opts.v5&&o&&o.$data;if(j?(t+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",v="schema"+a):v=o,E){var S=e.util.getData(P.$data,s,e.dataPathArr),$="exclusive"+a,x="' + "+(R="op"+a)+" + '";t+=" var schemaExcl"+a+" = "+S+"; ",t+=" if (typeof "+(S="schemaExcl"+a)+" != 'boolean' && "+S+" !== undefined) { "+h+" = false; ";var _=g;(I=I||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: '"+(_||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var O=t;t=I.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+O+"]); ":t+=" validate.errors = ["+O+"]; return false; ":t+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }  ",l&&(d+="}",t+=" else { "),j&&(t+=" if ("+v+" === undefined) "+h+" = true; else if (typeof "+v+" != 'string') "+h+" = false; else { ",d+="}"),f&&(t+=" if (!"+m+") "+h+" = true; else { ",d+="}"),t+=" var "+w+" = "+m+"("+c+",  ",t+=j?""+v:""+e.util.toQuotedString(o),t+=" ); if ("+w+" === undefined) "+h+" = false; var "+$+" = "+S+" === true; if ("+h+" === undefined) { "+h+" = "+$+" ? "+w+" "+b+" 0 : "+w+" "+b+"= 0; } if (!"+h+") var op"+a+" = "+$+" ? '"+b+"' : '"+b+"=';"}else{x=b;($=!0===P)||(x+="=");var R="'"+x+"'";j&&(t+=" if ("+v+" === undefined) "+h+" = true; else if (typeof "+v+" != 'string') "+h+" = false; else { ",d+="}"),f&&(t+=" if (!"+m+") "+h+" = true; else { ",d+="}"),t+=" var "+w+" = "+m+"("+c+",  ",t+=j?""+v:""+e.util.toQuotedString(o),t+=" ); if ("+w+" === undefined) "+h+" = false; if ("+h+" === undefined) "+h+" = "+w+" "+b,$||(t+="="),t+=" 0;"}t+=d+"if (!"+h+") { ";var I;_=r;(I=I||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: '"+(_||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { comparison: "+R+", limit:  ",t+=j?""+v:""+e.util.toQuotedString(o),t+=" , exclusive: "+$+" } ",!1!==e.opts.messages&&(t+=" , message: 'should be "+x+' "',t+=j?"' + "+v+" + '":""+e.util.escapeQuotes(o),t+="\"' "),e.opts.verbose&&(t+=" , schema:  ",t+=j?"validate.schema"+i:""+e.util.toQuotedString(o),t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";O=t;return t=I.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+O+"]); ":t+=" validate.errors = ["+O+"]; return false; ":t+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="}"}},{}],14:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i;var f="maximum"==r,d=f?"exclusiveMaximum":"exclusiveMinimum",p=e.schema[d],m=f?"<":">",v=f?">":"<";if(e.opts.v5&&p&&p.$data){var y=e.util.getData(p.$data,o,e.dataPathArr),g="exclusive"+s,P="' + "+(w="op"+s)+" + '";a+=" var schemaExcl"+s+" = "+y+"; ",a+=" var exclusive"+s+"; if (typeof "+(y="schemaExcl"+s)+" != 'boolean' && typeof "+y+" != 'undefined') { ";var E=d;(j=j||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var b=a;a=j.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" ((exclusive"+s+" = "+y+" === true) ? "+h+" "+v+"= "+t+" : "+h+" "+v+" "+t+") || "+h+" !== "+h+") { var op"+s+" = exclusive"+s+" ? '"+m+"' : '"+m+"=';"}else{P=m;(g=!0===p)||(P+="=");var w="'"+P+"'";a+=" if ( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+h+" "+v,g&&(a+="="),a+=" "+t+" || "+h+" !== "+h+") {"}var j;E=r;(j=j||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+w+", limit: "+t+", exclusive: "+g+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+P+" ",a+=u?"' + "+t:i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";b=a;return a=j.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a}},{}],15:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i,a+="if ( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+h+".length "+("maxItems"==r?">":"<")+" "+t+") { ";var f=r,d=d||[];d.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==r?"more":"less",a+=" than ",a+=u?"' + "+t+" + '":""+i,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var p=a;return a=d.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",c&&(a+=" else { "),a}},{}],16:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i;var f="maxLength"==r?">":"<";a+="if ( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),!1===e.opts.unicode?a+=" "+h+".length ":a+=" ucs2length("+h+") ",a+=" "+f+" "+t+") { ";var d=r,p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==r?"longer":"shorter",a+=" than ",a+=u?"' + "+t+" + '":""+i,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var m=a;return a=p.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",c&&(a+=" else { "),a}},{}],17:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i,a+="if ( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" Object.keys("+h+").length "+("maxProperties"==r?">":"<")+" "+t+") { ";var f=r,d=d||[];d.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==r?"more":"less",a+=" than ",a+=u?"' + "+t+" + '":""+i,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var p=a;return a=d.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",c&&(a+=" else { "),a}},{}],18:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.schema[r],s=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,i=!e.opts.allErrors,n=e.util.copy(e),l="";n.level++;var c="valid"+n.level,h=n.baseId,u=!0,f=a;if(f)for(var d,p=-1,m=f.length-1;p<m;)d=f[p+=1],e.util.schemaHasRules(d,e.RULES.all)&&(u=!1,n.schema=d,n.schemaPath=s+"["+p+"]",n.errSchemaPath=o+"/"+p,t+="  "+e.validate(n)+" ",n.baseId=h,i&&(t+=" if ("+c+") { ",l+="}"));return i&&(t+=u?" if (true) { ":" "+l.slice(0,-1)+" "),t=e.util.cleanUpCode(t)}},{}],19:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="errs__"+a,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level;if(o.every((function(r){return e.util.schemaHasRules(r,e.RULES.all)}))){var m=f.baseId;t+=" var "+u+" = errors; var "+h+" = false;  ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=o;if(y)for(var g,P=-1,E=y.length-1;P<E;)g=y[P+=1],f.schema=g,f.schemaPath=i+"["+P+"]",f.errSchemaPath=n+"/"+P,t+="  "+e.validate(f)+" ",f.baseId=m,t+=" "+h+" = "+h+" || "+p+"; if (!"+h+") { ",d+="}";e.compositeRule=f.compositeRule=v,t+=" "+d+" if (!"+h+") {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(t+=" } "),t=e.util.cleanUpCode(t)}else l&&(t+=" if (true) { ");return t}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u=e.opts.v5&&o&&o.$data;u&&(t+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; "),u||(t+=" var schema"+a+" = validate.schema"+i+";"),t+="var "+h+" = equal("+c+", schema"+a+"); if (!"+h+") {   ";var f=f||[];f.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'constant' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should be equal to constant' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var d=t;return t=f.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+d+"]); ":t+=" validate.errors = ["+d+"]; return false; ":t+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }"}},{}],21:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f="valid"+o,d="errs__"+o,p=e.opts.v5&&n&&n.$data;p?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var m,v,y,g,P,E="definition"+o,b=this.definition;if(p&&b.$data){P="keywordValidate"+o;var w=b.validateSchema;s+=" var "+E+" = RULES.custom['"+r+"'].definition; var "+P+" = "+E+".validate;"}else a="validate.schema"+l,P=(g=e.useCustomRule(this,n,e.schema,e)).code,m=b.compile,v=b.inline,y=b.macro;var j=P+".errors",S="i"+o,$="ruleErr"+o,x=b.async;if(x&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(s+=j+" = null;"),s+="var "+d+" = errors;var "+f+";",w&&(s+=" "+f+" = "+E+".validateSchema("+a+"); if ("+f+") {"),v)b.statements?s+=" "+g.validate+" ":s+=" "+f+" = "+g.validate+"; ";else if(y){var _=e.util.copy(e);_.level++;var O="valid"+_.level;_.schema=g.validate,_.schemaPath="";var R=e.compositeRule;e.compositeRule=_.compositeRule=!0;var I=e.validate(_).replace(/validate\.schema/g,P);e.compositeRule=_.compositeRule=R,s+=" "+I}else{(D=D||[]).push(s),s="",s+="  "+P+".call( ",e.opts.passContext?s+="this":s+="self",m||!1===b.schema?s+=" , "+u+" ":s+=" , "+a+" , "+u+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var A=i?"data"+(i-1||""):"parentData",k=i?e.dataPathArr[i]:"parentDataProperty",q=s+=" , "+A+" , "+k+" , rootData )  ";s=D.pop(),!1===b.errors?(s+=" "+f+" = ",x&&(s+=""+e.yieldAwait),s+=q+"; "):s+=x?" var "+(j="customErrors"+o)+" = null; try { "+f+" = "+e.yieldAwait+q+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+j+" = e.errors; else throw e; } ":" "+j+" = null; "+f+" = "+q+"; "}if(b.modifying&&(s+=" "+u+" = "+A+"["+k+"];"),w&&(s+=" }"),b.valid)h&&(s+=" if (true) { ");else{var D;s+=" if ( ",void 0===b.valid?(s+=" !",s+=y?""+O:""+f):s+=" "+!b.valid+" ",s+=") { ",t=this.keyword,(D=D||[]).push(s),s="",(D=D||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var L=s;s=D.pop(),!e.compositeRule&&h?e.async?s+=" throw new ValidationError(["+L+"]); ":s+=" validate.errors = ["+L+"]; return false; ":s+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Q=s;s=D.pop(),v?b.errors?"full"!=b.errors&&(s+="  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+$+" = vErrors["+S+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+$+".schema = "+a+"; "+$+".data = "+u+"; "),s+=" } "):!1===b.errors?s+=" "+Q+" ":(s+=" if ("+d+" == errors) { "+Q+" } else {  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+$+" = vErrors["+S+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+$+".schema = "+a+"; "+$+".data = "+u+"; "),s+=" } } "):y?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===b.errors?s+=" "+Q+" ":(s+=" if (Array.isArray("+j+")) { if (vErrors === null) vErrors = "+j+"; else vErrors = vErrors.concat("+j+"); errors = vErrors.length;  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+$+" = vErrors["+S+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+";  "+$+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(s+=" "+$+".schema = "+a+"; "+$+".data = "+u+"; "),s+=" } } else { "+Q+" } "),s+=" } ",h&&(s+=" else { ")}return s}},{}],22:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="errs__"+a,u=e.util.copy(e),f="";u.level++;var d="valid"+u.level,p={},m={};for(P in o){var v=o[P],y=Array.isArray(v)?m:p;y[P]=v}t+="var "+h+" = errors;";var g=e.errorPath;for(var P in t+="var missing"+a+";",m){if(y=m[P],t+=" if ("+c+e.util.getProperty(P)+" !== undefined ",l){t+=" && ( ";var E=y;if(E)for(var b,w=-1,j=E.length-1;w<j;){b=E[w+=1],w&&(t+=" || "),t+=" ( "+c+(k=e.util.getProperty(b))+" === undefined && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?b:k)+") ) "}t+=")) {  ";var S="missing"+a,$="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(g,S,!0):g+" + "+S);var x=x||[];x.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+$+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should have ",1==y.length?t+="property "+e.util.escapeQuotes(y[0]):t+="properties "+e.util.escapeQuotes(y.join(", ")),t+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var _=t;t=x.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+_+"]); ":t+=" validate.errors = ["+_+"]; return false; ":t+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{t+=" ) { ";var O=y;if(O)for(var R,I=-1,A=O.length-1;I<A;){R=O[I+=1];var k=e.util.getProperty(R);$=e.util.escapeQuotes(R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(g,R,e.opts.jsonPointers)),t+=" if ("+c+k+" === undefined) {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+$+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should have ",1==y.length?t+="property "+e.util.escapeQuotes(y[0]):t+="properties "+e.util.escapeQuotes(y.join(", ")),t+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t+=" }   ",l&&(f+="}",t+=" else { ")}e.errorPath=g;var q=u.baseId;for(var P in p){v=p[P];e.util.schemaHasRules(v,e.RULES.all)&&(t+=" "+d+" = true; if ("+c+e.util.getProperty(P)+" !== undefined) { ",u.schema=v,u.schemaPath=i+e.util.getProperty(P),u.errSchemaPath=n+"/"+e.util.escapeFragment(P),t+="  "+e.validate(u)+" ",u.baseId=q,t+=" }  ",l&&(t+=" if ("+d+") { ",f+="}"))}return l&&(t+="   "+f+" if ("+h+" == errors) {"),t=e.util.cleanUpCode(t)}},{}],23:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u=e.opts.v5&&o&&o.$data;u&&(t+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var f="i"+a,d="schema"+a;u||(t+=" var "+d+" = validate.schema"+i+";"),t+="var "+h+";",u&&(t+=" if (schema"+a+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+a+")) "+h+" = false; else {"),t+=h+" = false;for (var "+f+"=0; "+f+"<"+d+".length; "+f+"++) if (equal("+c+", "+d+"["+f+"])) { "+h+" = true; break; }",u&&(t+="  }  "),t+=" if (!"+h+") {   ";var p=p||[];p.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(t+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var m=t;return t=p.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+m+"]); ":t+=" validate.errors = ["+m+"]; return false; ":t+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",l&&(t+=" else { "),t}},{}],24:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||"");if(!1===e.opts.format)return l&&(t+=" if (true) { "),t;var h,u=e.opts.v5&&o&&o.$data;u?(t+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",h="schema"+a):h=o;var f=e.opts.unknownFormats,d=Array.isArray(f);if(u){t+=" var "+(p="format"+a)+" = formats["+h+"]; var isObject"+a+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; if (isObject"+a+") { ",e.async&&(t+=" var async"+a+" = "+p+".async; "),t+=" "+p+" = "+p+".validate; } if (  ",u&&(t+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),t+=" (",(!0===f||d)&&(t+=" ("+h+" && !"+p+" ",d&&(t+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),t+=") || "),t+=" ("+p+" && !(typeof "+p+" == 'function' ? ",e.async?t+=" (async"+a+" ? "+e.yieldAwait+" "+p+"("+c+") : "+p+"("+c+")) ":t+=" "+p+"("+c+") ",t+=" : "+p+".test("+c+"))))) {"}else{var p;if(!(p=e.formats[o])){if(!0===f||d&&-1==f.indexOf(o))throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"');return d||(console.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),"ignore"!==f&&console.warn("In the next major version it will throw exception. See option unknownFormats for more information")),l&&(t+=" if (true) { "),t}var m="object"==typeof p&&!(p instanceof RegExp)&&p.validate;if(m){var v=!0===p.async;p=p.validate}if(v){if(!e.async)throw new Error("async format in sync schema");var y="formats"+e.util.getProperty(o)+".validate";t+=" if (!("+e.yieldAwait+" "+y+"("+c+"))) { "}else{t+=" if (! ";y="formats"+e.util.getProperty(o);m&&(y+=".validate"),t+="function"==typeof p?" "+y+"("+c+") ":" "+y+".test("+c+") ",t+=") { "}}var g=g||[];g.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { format:  ",t+=u?""+h:""+e.util.toQuotedString(o),t+="  } ",!1!==e.opts.messages&&(t+=" , message: 'should match format \"",t+=u?"' + "+h+" + '":""+e.util.escapeQuotes(o),t+="\"' "),e.opts.verbose&&(t+=" , schema:  ",t+=u?"validate.schema"+i:""+e.util.toQuotedString(o),t+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var P=t;return t=g.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+P+"]); ":t+=" validate.errors = ["+P+"]; return false; ":t+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",l&&(t+=" else { "),t}},{}],25:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="errs__"+a,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m="i"+a,v=f.dataLevel=e.dataLevel+1,y="data"+v,g=e.baseId;if(t+="var "+u+" = errors;var "+h+";",Array.isArray(o)){var P=e.schema.additionalItems;if(!1===P){t+=" "+h+" = "+c+".length <= "+o.length+"; ";var E=n;n=e.errSchemaPath+"/additionalItems",t+="  if (!"+h+") {   ";var b=b||[];b.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var w=t;t=b.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",n=E,l&&(d+="}",t+=" else { ")}var j=o;if(j)for(var S,$=-1,x=j.length-1;$<x;)if(S=j[$+=1],e.util.schemaHasRules(S,e.RULES.all)){t+=" "+p+" = true; if ("+c+".length > "+$+") { ";var _=c+"["+$+"]";f.schema=S,f.schemaPath=i+"["+$+"]",f.errSchemaPath=n+"/"+$,f.errorPath=e.util.getPathExpr(e.errorPath,$,e.opts.jsonPointers,!0),f.dataPathArr[v]=$;var O=e.validate(f);f.baseId=g,e.util.varOccurences(O,y)<2?t+=" "+e.util.varReplace(O,y,_)+" ":t+=" var "+y+" = "+_+"; "+O+" ",t+=" }  ",l&&(t+=" if ("+p+") { ",d+="}")}if("object"==typeof P&&e.util.schemaHasRules(P,e.RULES.all)){f.schema=P,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",t+=" "+p+" = true; if ("+c+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+c+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);_=c+"["+m+"]";f.dataPathArr[v]=m;O=e.validate(f);f.baseId=g,e.util.varOccurences(O,y)<2?t+=" "+e.util.varReplace(O,y,_)+" ":t+=" var "+y+" = "+_+"; "+O+" ",l&&(t+=" if (!"+p+") break; "),t+=" } }  ",l&&(t+=" if ("+p+") { ",d+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=i,f.errSchemaPath=n,t+="  for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);_=c+"["+m+"]";f.dataPathArr[v]=m;O=e.validate(f);f.baseId=g,e.util.varOccurences(O,y)<2?t+=" "+e.util.varReplace(O,y,_)+" ":t+=" var "+y+" = "+_+"; "+O+" ",l&&(t+=" if (!"+p+") break; "),t+=" }  ",l&&(t+=" if ("+p+") { ",d+="}")}return l&&(t+=" "+d+" if ("+u+" == errors) {"),t=e.util.cleanUpCode(t)}},{}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i,a+="var division"+s+";if (",u&&(a+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),a+=" (division"+s+" = "+h+" / "+t+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+s+" !== parseInt(division"+s+") ",a+=" ) ",u&&(a+="  )  "),a+=" ) {   ";var f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=u?"' + "+t:i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var d=a;return a=f.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+d+"]); ":a+=" validate.errors = ["+d+"]; return false; ":a+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",c&&(a+=" else { "),a}},{}],27:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="errs__"+a,u=e.util.copy(e);u.level++;var f="valid"+u.level;if(e.util.schemaHasRules(o,e.RULES.all)){u.schema=o,u.schemaPath=i,u.errSchemaPath=n,t+=" var "+h+" = errors;  ";var d,p=e.compositeRule;e.compositeRule=u.compositeRule=!0,u.createErrors=!1,u.opts.allErrors&&(d=u.opts.allErrors,u.opts.allErrors=!1),t+=" "+e.validate(u)+" ",u.createErrors=!0,d&&(u.opts.allErrors=d),e.compositeRule=u.compositeRule=p,t+=" if ("+f+") {   ";var m=m||[];m.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should NOT be valid' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var v=t;t=m.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+v+"]); ":t+=" validate.errors = ["+v+"]; return false; ":t+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(t+=" } ")}else t+="  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should NOT be valid' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(t+=" if (false) { ");return t}},{}],28:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="errs__"+a,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level;t+="var "+u+" = errors;var prevValid"+a+" = false;var "+h+" = false;";var m=f.baseId,v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=o;if(y)for(var g,P=-1,E=y.length-1;P<E;)g=y[P+=1],e.util.schemaHasRules(g,e.RULES.all)?(f.schema=g,f.schemaPath=i+"["+P+"]",f.errSchemaPath=n+"/"+P,t+="  "+e.validate(f)+" ",f.baseId=m):t+=" var "+p+" = true; ",P&&(t+=" if ("+p+" && prevValid"+a+") "+h+" = false; else { ",d+="}"),t+=" if ("+p+") "+h+" = prevValid"+a+" = true;";e.compositeRule=f.compositeRule=v,t+=d+"if (!"+h+") {   ";var b=b||[];b.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var w=t;return t=b.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }",e.opts.allErrors&&(t+=" } "),t}},{}],29:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u=e.opts.v5&&i&&i.$data;u?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i,a+="if ( ",u&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),a+=" !"+(u?"(new RegExp("+t+"))":e.usePattern(i))+".test("+h+") ) {   ";var f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",a+=u?""+t:""+e.util.toQuotedString(i),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=u?"' + "+t+" + '":""+e.util.escapeQuotes(i),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+e.util.toQuotedString(i),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var d=a;return a=f.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+d+"]); ":a+=" validate.errors = ["+d+"]; return false; ":a+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",c&&(a+=" else { "),a}},{}],30:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="key"+a,f="patternMatched"+a,d="",p=e.opts.ownProperties;t+="var "+h+" = true;";var m=o;if(m)for(var v,y=-1,g=m.length-1;y<g;){v=m[y+=1],t+=" var "+f+" = false; for (var "+u+" in "+c+") {  ",p&&(t+=" if (!Object.prototype.hasOwnProperty.call("+c+", "+u+")) continue; "),t+=" "+f+" = "+e.usePattern(v)+".test("+u+"); if ("+f+") break; } ";var P=e.util.escapeQuotes(v);t+=" if (!"+f+") { "+h+" = false;  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingPattern: '"+P+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should have property matching pattern \\'"+P+"\\'' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",l&&(d+="}",t+=" else { ")}return t+=""+d}},{}],31:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="errs__"+a,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m="key"+a,v=f.dataLevel=e.dataLevel+1,y="data"+v,g=Object.keys(o||{}),P=e.schema.patternProperties||{},E=Object.keys(P),b=e.schema.additionalProperties,w=g.length||E.length,j=!1===b,S="object"==typeof b&&Object.keys(b).length,$=e.opts.removeAdditional,x=j||S||$,_=e.opts.ownProperties,O=e.baseId,R=e.schema.required;if(R&&(!e.opts.v5||!R.$data)&&R.length<e.opts.loopRequired)var I=e.util.toHash(R);if(e.opts.v5)var A=e.schema.patternGroups||{},k=Object.keys(A);if(t+="var "+u+" = errors;var "+p+" = true;",x){if(t+=" for (var "+m+" in "+c+") {  ",_&&(t+=" if (!Object.prototype.hasOwnProperty.call("+c+", "+m+")) continue; "),w){if(t+=" var isAdditional"+a+" = !(false ",g.length)if(g.length>5)t+=" || validate.schema"+i+"["+m+"] ";else{var q=g;if(q)for(var D=-1,L=q.length-1;D<L;)Z=q[D+=1],t+=" || "+m+" == "+e.util.toQuotedString(Z)+" "}if(E.length){var Q=E;if(Q)for(var C=-1,V=Q.length-1;C<V;)oe=Q[C+=1],t+=" || "+e.usePattern(oe)+".test("+m+") "}if(e.opts.v5&&k&&k.length){var z=k;if(z){C=-1;for(var U=z.length-1;C<U;)ce=z[C+=1],t+=" || "+e.usePattern(ce)+".test("+m+") "}}t+=" ); if (isAdditional"+a+") { "}if("all"==$)t+=" delete "+c+"["+m+"]; ";else{var T=e.errorPath,M="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),j)if($)t+=" delete "+c+"["+m+"]; ";else{t+=" "+p+" = false; ";var N=n;n=e.errSchemaPath+"/additionalProperties",(ge=ge||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { additionalProperty: '"+M+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var F=t;t=ge.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+F+"]); ":t+=" validate.errors = ["+F+"]; return false; ":t+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=N,l&&(t+=" break; ")}else if(S)if("failing"==$){t+=" var "+u+" = errors;  ";var H=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=b,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var J=c+"["+m+"]";f.dataPathArr[v]=m;var G=e.validate(f);f.baseId=O,e.util.varOccurences(G,y)<2?t+=" "+e.util.varReplace(G,y,J)+" ":t+=" var "+y+" = "+J+"; "+G+" ",t+=" if (!"+p+") { errors = "+u+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=f.compositeRule=H}else{f.schema=b,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);J=c+"["+m+"]";f.dataPathArr[v]=m;G=e.validate(f);f.baseId=O,e.util.varOccurences(G,y)<2?t+=" "+e.util.varReplace(G,y,J)+" ":t+=" var "+y+" = "+J+"; "+G+" ",l&&(t+=" if (!"+p+") break; ")}e.errorPath=T}w&&(t+=" } "),t+=" }  ",l&&(t+=" if ("+p+") { ",d+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(g.length){var B=g;if(B)for(var Z,Y=-1,W=B.length-1;Y<W;){var X=o[Z=B[Y+=1]];if(e.util.schemaHasRules(X,e.RULES.all)){var ee=e.util.getProperty(Z),re=(J=c+ee,K&&void 0!==X.default);f.schema=X,f.schemaPath=i+ee,f.errSchemaPath=n+"/"+e.util.escapeFragment(Z),f.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),f.dataPathArr[v]=e.util.toQuotedString(Z);G=e.validate(f);if(f.baseId=O,e.util.varOccurences(G,y)<2){G=e.util.varReplace(G,y,J);var te=J}else{te=y;t+=" var "+y+" = "+J+"; "}if(re)t+=" "+G+" ";else{if(I&&I[Z]){t+=" if ("+te+" === undefined) { "+p+" = false; ";T=e.errorPath,N=n;var ae=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,Z,e.opts.jsonPointers)),n=e.errSchemaPath+"/required",(ge=ge||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+ae+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+ae+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";F=t;t=ge.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+F+"]); ":t+=" validate.errors = ["+F+"]; return false; ":t+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=N,e.errorPath=T,t+=" } else { "}else t+=l?" if ("+te+" === undefined) { "+p+" = true; } else { ":" if ("+te+" !== undefined) { ";t+=" "+G+" } "}}l&&(t+=" if ("+p+") { ",d+="}")}}var se=E;if(se)for(var oe,ie=-1,ne=se.length-1;ie<ne;){X=P[oe=se[ie+=1]];if(e.util.schemaHasRules(X,e.RULES.all)){f.schema=X,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),t+=" for (var "+m+" in "+c+") {  ",_&&(t+=" if (!Object.prototype.hasOwnProperty.call("+c+", "+m+")) continue; "),t+=" if ("+e.usePattern(oe)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);J=c+"["+m+"]";f.dataPathArr[v]=m;G=e.validate(f);f.baseId=O,e.util.varOccurences(G,y)<2?t+=" "+e.util.varReplace(G,y,J)+" ":t+=" var "+y+" = "+J+"; "+G+" ",l&&(t+=" if (!"+p+") break; "),t+=" } ",l&&(t+=" else "+p+" = true; "),t+=" }  ",l&&(t+=" if ("+p+") { ",d+="}")}}if(e.opts.v5){var le=k;if(le)for(var ce,he=-1,ue=le.length-1;he<ue;){var fe=A[ce=le[he+=1]];X=fe.schema;if(e.util.schemaHasRules(X,e.RULES.all)){f.schema=X,f.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(ce)+".schema",f.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(ce)+"/schema",t+=" var pgPropCount"+a+" = 0; for (var "+m+" in "+c+") {  ",_&&(t+=" if (!Object.prototype.hasOwnProperty.call("+c+", "+m+")) continue; "),t+=" if ("+e.usePattern(ce)+".test("+m+")) { pgPropCount"+a+"++; ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);J=c+"["+m+"]";f.dataPathArr[v]=m;G=e.validate(f);f.baseId=O,e.util.varOccurences(G,y)<2?t+=" "+e.util.varReplace(G,y,J)+" ":t+=" var "+y+" = "+J+"; "+G+" ",l&&(t+=" if (!"+p+") break; "),t+=" } ",l&&(t+=" else "+p+" = true; "),t+=" }  ",l&&(t+=" if ("+p+") { ",d+="}");var de=fe.minimum,pe=fe.maximum;if(void 0!==de||void 0!==pe){t+=" var "+h+" = true; ";N=n;if(void 0!==de){var me=de,ve="minimum",ye="less";t+=" "+h+" = pgPropCount"+a+" >= "+de+"; ",n=e.errSchemaPath+"/patternGroups/minimum",t+="  if (!"+h+") {   ",(ge=ge||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { reason: '"+ve+"', limit: "+me+", pattern: '"+e.util.escapeQuotes(ce)+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have "+ye+" than "+me+' properties matching pattern "'+e.util.escapeQuotes(ce)+"\"' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";F=t;t=ge.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+F+"]); ":t+=" validate.errors = ["+F+"]; return false; ":t+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",void 0!==pe&&(t+=" else ")}if(void 0!==pe){var ge;me=pe,ve="maximum",ye="more";t+=" "+h+" = pgPropCount"+a+" <= "+pe+"; ",n=e.errSchemaPath+"/patternGroups/maximum",t+="  if (!"+h+") {   ",(ge=ge||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { reason: '"+ve+"', limit: "+me+", pattern: '"+e.util.escapeQuotes(ce)+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have "+ye+" than "+me+' properties matching pattern "'+e.util.escapeQuotes(ce)+"\"' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";F=t;t=ge.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+F+"]); ":t+=" validate.errors = ["+F+"]; return false; ":t+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "}n=N,l&&(t+=" if ("+h+") { ",d+="}")}}}}return l&&(t+=" "+d+" if ("+u+" == errors) {"),t=e.util.cleanUpCode(t)}},{}],32:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(i||""),u="valid"+o;if("#"==n||"#/"==n)e.isRoot?(t=e.async,a="validate"):(t=!0===e.root.schema.$async,a="root.refVal[0]");else{var f=e.resolveRef(e.baseId,n,e.isRoot);if(void 0===f){var d="can't resolve reference "+n+" from id "+e.baseId;if("fail"==e.opts.missingRefs){console.log(d),(g=g||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(n)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(n)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(n)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;s=g.pop(),!e.compositeRule&&c?e.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs){var m=new Error(d);throw m.missingRef=e.resolve.url(e.baseId,n),m.missingSchema=e.resolve.normalizeId(e.resolve.fullPath(m.missingRef)),m}console.log(d),c&&(s+=" if (true) { ")}}else if(f.inline){var v=e.util.copy(e);v.level++;var y="valid"+v.level;v.schema=f.schema,v.schemaPath="",v.errSchemaPath=n,s+=" "+e.validate(v).replace(/validate\.schema/g,f.code)+" ",c&&(s+=" if ("+y+") { ")}else t=!0===f.$async,a=f.code}if(a){var g;(g=g||[]).push(s),s="",e.opts.passContext?s+=" "+a+".call(this, ":s+=" "+a+"( ",s+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var P=s+=" , "+(i?"data"+(i-1||""):"parentData")+" , "+(i?e.dataPathArr[i]:"parentDataProperty")+", rootData)  ";if(s=g.pop(),t){if(!e.async)throw new Error("async schema referenced by sync schema");s+=" try { ",c&&(s+="var "+u+" ="),s+=" "+e.yieldAwait+" "+P+"; } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; } ",c&&(s+=" if ("+u+") { ")}else s+=" if (!"+P+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s}},{}],33:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u=e.opts.v5&&o&&o.$data;u&&(t+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var f="schema"+a;if(!u)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],p=o;if(p)for(var m,v=-1,y=p.length-1;v<y;){m=p[v+=1];var g=e.schema.properties[m];g&&e.util.schemaHasRules(g,e.RULES.all)||(d[d.length]=m)}}else d=o;if(u||d.length){var P=e.errorPath,E=u||d.length>=e.opts.loopRequired;if(l)if(t+=" var missing"+a+"; ",E){u||(t+=" var "+f+" = validate.schema"+i+"; ");var b="' + "+(O="schema"+a+"["+($="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,O,e.opts.jsonPointers)),t+=" var "+h+" = true; ",u&&(t+=" if (schema"+a+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+a+")) "+h+" = false; else {"),t+=" for (var "+$+" = 0; "+$+" < "+f+".length; "+$+"++) { "+h+" = "+c+"["+f+"["+$+"]] !== undefined; if (!"+h+") break; } ",u&&(t+="  }  "),t+="  if (!"+h+") {   ",(_=_||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var w=t;t=_.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var j=d;if(j)for(var S,$=-1,x=j.length-1;$<x;){S=j[$+=1],$&&(t+=" || "),t+=" ( "+c+(q=e.util.getProperty(S))+" === undefined && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?S:q)+") ) "}t+=") {  ";var _;b="' + "+(O="missing"+a)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,O,!0):P+" + "+O),(_=_||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";w=t;t=_.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(E){u||(t+=" var "+f+" = validate.schema"+i+"; ");var O;b="' + "+(O="schema"+a+"["+($="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,O,e.opts.jsonPointers)),u&&(t+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),t+=" for (var "+$+" = 0; "+$+" < "+f+".length; "+$+"++) { if ("+c+"["+f+"["+$+"]] === undefined) {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",u&&(t+="  }  ")}else{var R=d;if(R)for(var I,A=-1,k=R.length-1;A<k;){I=R[A+=1];var q=e.util.getProperty(I);b=e.util.escapeQuotes(I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,I,e.opts.jsonPointers)),t+=" if ("+c+q+" === undefined) {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(t+=" , message: '",e.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=P}else l&&(t+=" if (true) {");return t}},{}],34:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.level,s=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(s||""),h="valid"+a,u="errs__"+a,f=e.util.copy(e),d="";f.level++;var p,m="valid"+f.level,v="ifPassed"+e.level,y=f.baseId;t+="var "+v+";";var g=o;if(g)for(var P,E=-1,b=g.length-1;E<b;){if(P=g[E+=1],E&&!p&&(t+=" if (!"+v+") { ",d+="}"),P.if&&e.util.schemaHasRules(P.if,e.RULES.all)){t+=" var "+u+" = errors;   ";var w=e.compositeRule;if(e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.schema=P.if,f.schemaPath=i+"["+E+"].if",f.errSchemaPath=n+"/"+E+"/if",t+="  "+e.validate(f)+" ",f.baseId=y,f.createErrors=!0,e.compositeRule=f.compositeRule=w,t+=" "+v+" = "+m+"; if ("+v+") {  ","boolean"==typeof P.then){if(!1===P.then){(S=S||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { caseIndex: "+E+" } ",!1!==e.opts.messages&&(t+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";var j=t;t=S.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+j+"]); ":t+=" validate.errors = ["+j+"]; return false; ":t+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" var "+m+" = "+P.then+"; "}else f.schema=P.then,f.schemaPath=i+"["+E+"].then",f.errSchemaPath=n+"/"+E+"/then",t+="  "+e.validate(f)+" ",f.baseId=y;t+="  } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } } "}else if(t+=" "+v+" = true;  ","boolean"==typeof P.then){if(!1===P.then){var S;(S=S||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { caseIndex: "+E+" } ",!1!==e.opts.messages&&(t+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),t+=" } "):t+=" {} ";j=t;t=S.pop(),!e.compositeRule&&l?e.async?t+=" throw new ValidationError(["+j+"]); ":t+=" validate.errors = ["+j+"]; return false; ":t+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" var "+m+" = "+P.then+"; "}else f.schema=P.then,f.schemaPath=i+"["+E+"].then",f.errSchemaPath=n+"/"+E+"/then",t+="  "+e.validate(f)+" ",f.baseId=y;p=P.continue}return t+=d+"var "+h+" = "+m+"; ",t=e.util.cleanUpCode(t)}},{}],35:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f=e.opts.v5&&i&&i.$data;if(f?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=i,(i||f)&&!1!==e.opts.uniqueItems){f&&(a+=" var "+u+"; if ("+t+" === false || "+t+" === undefined) "+u+" = true; else if (typeof "+t+" != 'boolean') "+u+" = false; else { "),a+=" var "+u+" = true; if ("+h+".length > 1) { var i = "+h+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+u+" = false; break outer; } } } } ",f&&(a+="  }  "),a+=" if (!"+u+") {   ";var d=d||[];d.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+n:""+i,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var p=a;a=d.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { ")}else c&&(a+=" if (true) { ");return a}},{}],36:[function(e,r,t){"use strict";r.exports=function(e,r){var t="",a=!0===e.schema.$async;if(e.isTop){var s=e.isTop,o=e.level=0,i=e.dataLevel=0,n="data";if(e.rootId=e.resolve.fullPath(e.root.schema.id),e.baseId=e.baseId||e.rootId,a){e.async=!0;var l="es7"==e.opts.async;e.yieldAwait=l?"await":"yield"}delete e.isTop,e.dataPathArr=[void 0],t+=" var validate = ",a?l?t+=" (async function ":("co*"==e.opts.async&&(t+="co.wrap"),t+="(function* "):t+=" (function ",t+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data;"}else{o=e.level,n="data"+((i=e.dataLevel)||"");if(e.schema.id&&(e.baseId=e.resolve.url(e.baseId,e.schema.id)),a&&!e.async)throw new Error("async schema in sync schema");t+=" var errs_"+o+" = errors;"}var c,h="valid"+o,u=!e.opts.allErrors,f="",d="",p=e.schema.type,m=Array.isArray(p);if(p&&e.opts.coerceTypes){var v=e.util.coerceToTypes(e.opts.coerceTypes,p);if(v){var y=e.schemaPath+".type",g=e.errSchemaPath+"/type",P=m?"checkDataTypes":"checkDataType";t+=" if ("+e.util[P](p,n,!0)+") {  ";var E="dataType"+o,b="coerced"+o;t+=" var "+E+" = typeof "+n+"; ","array"==e.opts.coerceTypes&&(t+=" if ("+E+" == 'object' && Array.isArray("+n+")) "+E+" = 'array'; "),t+=" var "+b+" = undefined; ";var w="",j=v;if(j)for(var S,$=-1,x=j.length-1;$<x;)S=j[$+=1],$&&(t+=" if ("+b+" === undefined) { ",w+="}"),"array"==e.opts.coerceTypes&&"array"!=S&&(t+=" if ("+E+" == 'array' && "+n+".length == 1) { "+b+" = "+n+" = "+n+"[0]; "+E+" = typeof "+n+";  } "),"string"==S?t+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+b+" = '' + "+n+"; else if ("+n+" === null) "+b+" = ''; ":"number"==S||"integer"==S?(t+=" if ("+E+" == 'boolean' || "+n+" === null || ("+E+" == 'string' && "+n+" && "+n+" == +"+n+" ","integer"==S&&(t+=" && !("+n+" % 1)"),t+=")) "+b+" = +"+n+"; "):"boolean"==S?t+=" if ("+n+" === 'false' || "+n+" === 0 || "+n+" === null) "+b+" = false; else if ("+n+" === 'true' || "+n+" === 1) "+b+" = true; ":"null"==S?t+=" if ("+n+" === '' || "+n+" === 0 || "+n+" === false) "+b+" = null; ":"array"==e.opts.coerceTypes&&"array"==S&&(t+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+n+" == null) "+b+" = ["+n+"]; ");t+=" "+w+" if ("+b+" === undefined) {   ",(G=G||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",t+=m?""+p.join(","):""+p,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=m?""+p.join(","):""+p,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),t+=" } "):t+=" {} ";var _=t;t=G.pop(),!e.compositeRule&&u?e.async?t+=" throw new ValidationError(["+_+"]); ":t+=" validate.errors = ["+_+"]; return false; ":t+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  ";var O=i?"data"+(i-1||""):"parentData";t+=" "+n+" = "+b+"; ",i||(t+="if ("+O+" !== undefined)"),t+=" "+O+"["+(i?e.dataPathArr[i]:"parentDataProperty")+"] = "+b+"; } } "}}if(e.schema.$ref&&(c=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"))){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'"');"ignore"==e.opts.extendRefs?(c=!1,console.log('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"')):!0!==e.opts.extendRefs&&console.log('$ref: all keywords used in schema at path "'+e.errSchemaPath+'". It will change in the next major version, see issue #260. Use option { extendRefs: true } to keep current behaviour')}if(e.schema.$ref&&!c)t+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",u&&(t+=" } if (errors === ",t+=s?"0":"errs_"+o,t+=") { ",d+="}");else{var R=e.RULES;if(R)for(var I,A=-1,k=R.length-1;A<k;)if(K(I=R[A+=1])){if(I.type&&(t+=" if ("+e.util.checkDataType(I.type,n)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==I.type&&e.schema.properties){var q=e.schema.properties,D=Object.keys(q);if(D)for(var L,Q=-1,C=D.length-1;Q<C;){if(void 0!==(z=q[L=D[Q+=1]]).default)t+="  if ("+(T=n+e.util.getProperty(L))+" === undefined) "+T+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(z.default)+" ":t+=" "+JSON.stringify(z.default)+" ",t+="; "}}else if("array"==I.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){$=-1;for(var z,U=V.length-1;$<U;){var T;if(void 0!==(z=V[$+=1]).default)t+="  if ("+(T=n+"["+$+"]")+" === undefined) "+T+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(z.default)+" ":t+=" "+JSON.stringify(z.default)+" ",t+="; "}}}var M=I.rules;if(M)for(var N,F=-1,H=M.length-1;F<H;)B(N=M[F+=1])&&(t+=" "+N.code(e,N.keyword)+" ",u&&(f+="}"));if(u&&(t+=" "+f+" ",f=""),I.type&&(t+=" } ",p&&p===I.type&&!v)){var J=!0;t+=" else { ";y=e.schemaPath+".type",g=e.errSchemaPath+"/type";(G=G||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",t+=m?""+p.join(","):""+p,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=m?""+p.join(","):""+p,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),t+=" } "):t+=" {} ";_=t;t=G.pop(),!e.compositeRule&&u?e.async?t+=" throw new ValidationError(["+_+"]); ":t+=" validate.errors = ["+_+"]; return false; ":t+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "}u&&(t+=" if (errors === ",t+=s?"0":"errs_"+o,t+=") { ",d+="}")}}if(p&&!J&&!v){var G;y=e.schemaPath+".type",g=e.errSchemaPath+"/type",P=m?"checkDataTypes":"checkDataType";t+=" if ("+e.util[P](p,n,!0)+") {   ",(G=G||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",t+=m?""+p.join(","):""+p,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=m?""+p.join(","):""+p,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),t+=" } "):t+=" {} ";_=t;t=G.pop(),!e.compositeRule&&u?e.async?t+=" throw new ValidationError(["+_+"]); ":t+=" validate.errors = ["+_+"]; return false; ":t+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }"}function K(e){for(var r=0;r<e.rules.length;r++)if(B(e.rules[r]))return!0}function B(r){return void 0!==e.schema[r.keyword]||"properties"==r.keyword&&(!1===e.schema.additionalProperties||"object"==typeof e.schema.additionalProperties||e.schema.patternProperties&&Object.keys(e.schema.patternProperties).length||e.opts.v5&&e.schema.patternGroups&&Object.keys(e.schema.patternGroups).length)}return u&&(t+=" "+d+" "),s?(a?(t+=" if (errors === 0) return true;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }); return validate;"):t+=" var "+h+" = errors === errs_"+o+";",t=e.util.cleanUpCode(t),s&&u&&(t=e.util.cleanUpVarErrors(t,a)),t}},{}],37:[function(e,r,t){"use strict";var a=/^[a-z_$][a-z0-9_$\-]*$/i,s=e("./dotjs/custom");r.exports={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){if(r.macro&&void 0!==r.valid)throw new Error('"valid" option cannot be used with macro keywords');var o=r.type;if(Array.isArray(o)){var i,n=o.length;for(i=0;i<n;i++)u(o[i]);for(i=0;i<n;i++)h(e,o[i],r)}else o&&u(o),h(e,o,r);var l=!0===r.$data&&this._opts.v5;if(l&&!r.validate)throw new Error('$data support: "validate" function is not defined');var c=r.metaSchema;c&&(l&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#/definitions/$data"}]}),r.validateSchema=this.compile(c,!0))}function h(e,r,a){for(var o,i=0;i<t.length;i++){var n=t[i];if(n.type==r){o=n;break}}o||(o={type:r,rules:[]},t.push(o));var l={keyword:e,definition:a,custom:!0,code:s};o.rules.push(l),t.custom[e]=l}function u(e){if(!t.types[e])throw new Error("Unknown type "+e)}t.keywords[e]=t.all[e]=!0},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,s=0;s<a.length;s++)if(a[s].keyword==e){a.splice(s,1);break}}}},{"./dotjs/custom":21}],38:[function(e,r,t){r.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},{}],39:[function(e,r,t){r.exports={id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema (v5 proposals)",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},$data:{type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{anyOf:[{type:"number",minimum:0,exclusiveMinimum:!0},{$ref:"#/definitions/$data"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxLength:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minLength:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},pattern:{anyOf:[{type:"string",format:"regex"},{$ref:"#/definitions/$data"}]},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minItems:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},uniqueItems:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxProperties:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minProperties:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},required:{anyOf:[{$ref:"#/definitions/stringArray"},{$ref:"#/definitions/$data"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/$data"}]},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},format:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMaximum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMinimum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatExclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},formatExclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},constant:{anyOf:[{},{$ref:"#/definitions/$data"}]},contains:{$ref:"#"},patternGroups:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},schema:{$ref:"#"}},additionalProperties:!1},default:{}},switch:{type:"array",items:{required:["then"],properties:{if:{$ref:"#"},then:{anyOf:[{type:"boolean"},{$ref:"#"}]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"],formatMaximum:["format"],formatMinimum:["format"],formatExclusiveMaximum:["formatMaximum"],formatExclusiveMinimum:["formatMinimum"]},default:{}}},{}],40:[function(e,r,t){"use strict";var a="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json";function s(e){return{not:{items:{not:e}}}}r.exports={enable:function(r){var t={switch:e("./dotjs/switch"),constant:e("./dotjs/constant"),_formatLimit:e("./dotjs/_formatLimit"),patternRequired:e("./dotjs/patternRequired")};if(!1!==r._opts.meta){var o=e("./refs/json-schema-v5.json");r.addMetaSchema(o,a)}function i(e,a,s){var o={inline:s||t[e],statements:!0,errors:"full"};a&&(o.type=a),r.addKeyword(e,o)}i("constant"),r.addKeyword("contains",{type:"array",macro:s}),i("formatMaximum","string",t._formatLimit),i("formatMinimum","string",t._formatLimit),r.addKeyword("formatExclusiveMaximum"),r.addKeyword("formatExclusiveMinimum"),r.addKeyword("patternGroups"),i("patternRequired","object"),i("switch")},META_SCHEMA_ID:a}},{"./dotjs/_formatLimit":13,"./dotjs/constant":20,"./dotjs/patternRequired":30,"./dotjs/switch":34,"./refs/json-schema-v5.json":39}],41:[function(e,r,t){var a=Array.prototype.slice;function s(e){var r=this,t=a.call(arguments,1);return new Promise((function(a,s){if("function"==typeof e&&(e=e.apply(r,t)),!e||"function"!=typeof e.next)return a(e);function i(r){var t;try{t=e.next(r)}catch(e){return s(e)}l(t)}function n(r){var t;try{t=e.throw(r)}catch(e){return s(e)}l(t)}function l(e){if(e.done)return a(e.value);var t=o.call(r,e.value);return t&&c(t)?t.then(i,n):n(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}i()}))}function o(e){return e?c(e)?e:function(e){var r=e.constructor;return!!r&&("GeneratorFunction"===r.name||"GeneratorFunction"===r.displayName||h(r.prototype))}(e)||h(e)?s.call(this,e):"function"==typeof e?i.call(this,e):Array.isArray(e)?n.call(this,e):Object==e.constructor?l.call(this,e):e:e}function i(e){var r=this;return new Promise((function(t,s){e.call(r,(function(e,r){if(e)return s(e);arguments.length>2&&(r=a.call(arguments,1)),t(r)}))}))}function n(e){return Promise.all(e.map(o,this))}function l(e){for(var r=new e.constructor,t=Object.keys(e),a=[],s=0;s<t.length;s++){var i=t[s],n=o.call(this,e[i]);n&&c(n)?l(n,i):r[i]=e[i]}return Promise.all(a).then((function(){return r}));function l(e,t){r[t]=void 0,a.push(e.then((function(e){r[t]=e})))}}function c(e){return"function"==typeof e.then}function h(e){return"function"==typeof e.next&&"function"==typeof e.throw}r.exports=s.default=s.co=s,s.wrap=function(e){return r.__generatorFunction__=e,r;function r(){return s.call(this,e.apply(this,arguments))}}},{}],42:[function(e,r,t){var a="undefined"!=typeof JSON?JSON:e("jsonify");r.exports=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t=r.space||"";"number"==typeof t&&(t=Array(t+1).join(" "));var i,n="boolean"==typeof r.cycles&&r.cycles,l=r.replacer||function(e,r){return r},c=r.cmp&&(i=r.cmp,function(e){return function(r,t){var a={key:r,value:e[r]},s={key:t,value:e[t]};return i(a,s)}}),h=[];return function e(r,i,u,f){var d=t?"\n"+new Array(f+1).join(t):"",p=t?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),void 0!==(u=l.call(r,i,u))){if("object"!=typeof u||null===u)return a.stringify(u);if(s(u)){for(var m=[],v=0;v<u.length;v++){var y=e(u,v,u[v],f+1)||a.stringify(null);m.push(d+t+y)}return"["+m.join(",")+d+"]"}if(-1!==h.indexOf(u)){if(n)return a.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}h.push(u);var g=o(u).sort(c&&c(u));for(m=[],v=0;v<g.length;v++){var P=e(u,i=g[v],u[i],f+1);if(P){var E=a.stringify(i)+p+P;m.push(d+t+E)}}return h.splice(h.indexOf(u),1),"{"+m.join(",")+d+"}"}}({"":e},"",e,0)};var s=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var r=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var a in e)r.call(e,a)&&t.push(a);return t}},{jsonify:43}],43:[function(e,r,t){t.parse=e("./lib/parse"),t.stringify=e("./lib/stringify")},{"./lib/parse":44,"./lib/stringify":45}],44:[function(e,r,t){var a,s,o,i,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:a,text:o}},c=function(e){return e&&e!==s&&l("Expected '"+e+"' instead of '"+s+"'"),s=o.charAt(a),a+=1,s},h=function(){var e,r="";for("-"===s&&(r="-",c("-"));s>="0"&&s<="9";)r+=s,c();if("."===s)for(r+=".";c()&&s>="0"&&s<="9";)r+=s;if("e"===s||"E"===s)for(r+=s,c(),"-"!==s&&"+"!==s||(r+=s,c());s>="0"&&s<="9";)r+=s,c();if(e=+r,isFinite(e))return e;l("Bad number")},u=function(){var e,r,t,a="";if('"'===s)for(;c();){if('"'===s)return c(),a;if("\\"===s)if(c(),"u"===s){for(t=0,r=0;r<4&&(e=parseInt(c(),16),isFinite(e));r+=1)t=16*t+e;a+=String.fromCharCode(t)}else{if("string"!=typeof n[s])break;a+=n[s]}else a+=s}l("Bad string")},f=function(){for(;s&&s<=" ";)c()};i=function(){switch(f(),s){case"{":return function(){var e,r={};if("{"===s){if(c("{"),f(),"}"===s)return c("}"),r;for(;s;){if(e=u(),f(),c(":"),Object.hasOwnProperty.call(r,e)&&l('Duplicate key "'+e+'"'),r[e]=i(),f(),"}"===s)return c("}"),r;c(","),f()}}l("Bad object")}();case"[":return function(){var e=[];if("["===s){if(c("["),f(),"]"===s)return c("]"),e;for(;s;){if(e.push(i()),f(),"]"===s)return c("]"),e;c(","),f()}}l("Bad array")}();case'"':return u();case"-":return h();default:return s>="0"&&s<="9"?h():function(){switch(s){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}l("Unexpected '"+s+"'")}()}},r.exports=function(e,r){var t;return o=e,a=0,s=" ",t=i(),f(),s&&l("Syntax error"),"function"==typeof r?function e(t,a){var s,o,i=t[a];if(i&&"object"==typeof i)for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(void 0!==(o=e(i,s))?i[s]=o:delete i[s]);return r.call(t,a,i)}({"":t},""):t}},{}],45:[function(e,r,t){var a,s,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function l(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var r=n[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}r.exports=function(e,r,t){var i;if(a="",s="","number"==typeof t)for(i=0;i<t;i+=1)s+=" ";else"string"==typeof t&&(s=t);if(o=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return function e(r,t){var i,n,c,h,u,f=a,d=t[r];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(r)),"function"==typeof o&&(d=o.call(t,r,d)),typeof d){case"string":return l(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(a+=s,u=[],"[object Array]"===Object.prototype.toString.apply(d)){for(h=d.length,i=0;i<h;i+=1)u[i]=e(i,d)||"null";return c=0===u.length?"[]":a?"[\n"+a+u.join(",\n"+a)+"\n"+f+"]":"["+u.join(",")+"]",a=f,c}if(o&&"object"==typeof o)for(h=o.length,i=0;i<h;i+=1)"string"==typeof(n=o[i])&&(c=e(n,d))&&u.push(l(n)+(a?": ":":")+c);else for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(c=e(n,d))&&u.push(l(n)+(a?": ":":")+c);return c=0===u.length?"{}":a?"{\n"+a+u.join(",\n"+a)+"\n"+f+"}":"{"+u.join(",")+"}",a=f,c}}("",{"":e})}},{}],46:[function(e,r,t){(function(e){!function(a){var s="object"==typeof t&&t&&!t.nodeType&&t,o="object"==typeof r&&r&&!r.nodeType&&r,i="object"==typeof e&&e;i.global!==i&&i.window!==i&&i.self!==i||(a=i);var n,l,c=2147483647,h=/^xn--/,u=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(d[e])}function y(e,r){for(var t=e.length,a=[];t--;)a[t]=r(e[t]);return a}function g(e,r){var t=e.split("@"),a="";return t.length>1&&(a=t[0]+"@",e=t[1]),a+y((e=e.replace(f,".")).split("."),r).join(".")}function P(e){for(var r,t,a=[],s=0,o=e.length;s<o;)(r=e.charCodeAt(s++))>=55296&&r<=56319&&s<o?56320==(64512&(t=e.charCodeAt(s++)))?a.push(((1023&r)<<10)+(1023&t)+65536):(a.push(r),s--):a.push(r);return a}function E(e){return y(e,(function(e){var r="";return e>65535&&(r+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=m(e)})).join("")}function b(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function w(e,r,t){var a=0;for(e=t?p(e/700):e>>1,e+=p(e/r);e>455;a+=36)e=p(e/35);return p(a+36*e/(e+38))}function j(e){var r,t,a,s,o,i,n,l,h,u,f,d=[],m=e.length,y=0,g=128,P=72;for((t=e.lastIndexOf("-"))<0&&(t=0),a=0;a<t;++a)e.charCodeAt(a)>=128&&v("not-basic"),d.push(e.charCodeAt(a));for(s=t>0?t+1:0;s<m;){for(o=y,i=1,n=36;s>=m&&v("invalid-input"),((l=(f=e.charCodeAt(s++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||l>p((c-y)/i))&&v("overflow"),y+=l*i,!(l<(h=n<=P?1:n>=P+26?26:n-P));n+=36)i>p(c/(u=36-h))&&v("overflow"),i*=u;P=w(y-o,r=d.length+1,0==o),p(y/r)>c-g&&v("overflow"),g+=p(y/r),y%=r,d.splice(y++,0,g)}return E(d)}function S(e){var r,t,a,s,o,i,n,l,h,u,f,d,y,g,E,j=[];for(d=(e=P(e)).length,r=128,t=0,o=72,i=0;i<d;++i)(f=e[i])<128&&j.push(m(f));for(a=s=j.length,s&&j.push("-");a<d;){for(n=c,i=0;i<d;++i)(f=e[i])>=r&&f<n&&(n=f);for(n-r>p((c-t)/(y=a+1))&&v("overflow"),t+=(n-r)*y,r=n,i=0;i<d;++i)if((f=e[i])<r&&++t>c&&v("overflow"),f==r){for(l=t,h=36;!(l<(u=h<=o?1:h>=o+26?26:h-o));h+=36)E=l-u,g=36-u,j.push(m(b(u+E%g,0))),l=p(E/g);j.push(m(b(l,0))),o=w(t,y,a==s),t=0,++a}++t,++r}return j.join("")}if(n={version:"1.4.1",ucs2:{decode:P,encode:E},decode:j,encode:S,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return g(e,(function(e){return h.test(e)?j(e.slice(4).toLowerCase()):e}))}},s&&o)if(r.exports==s)o.exports=n;else for(l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);else a.punycode=n}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,r,t){"use strict";function a(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.exports=function(e,r,t,o){r=r||"&",t=t||"=";var i={};if("string"!=typeof e||0===e.length)return i;var n=/\+/g;e=e.split(r);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var u,f,d,p,m=e[h].replace(n,"%20"),v=m.indexOf(t);v>=0?(u=m.substr(0,v),f=m.substr(v+1)):(u=m,f=""),d=decodeURIComponent(u),p=decodeURIComponent(f),a(i,d)?s(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],48:[function(e,r,t){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};r.exports=function(e,r,t,n){return r=r||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?o(i(e),(function(i){var n=encodeURIComponent(a(i))+t;return s(e[i])?o(e[i],(function(e){return n+encodeURIComponent(a(e))})).join(r):n+encodeURIComponent(a(e[i]))})).join(r):n?encodeURIComponent(a(n))+t+encodeURIComponent(a(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,r){if(e.map)return e.map(r);for(var t=[],a=0;a<e.length;a++)t.push(r(e[a],a));return t}var i=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},{}],49:[function(e,r,t){"use strict";t.decode=t.parse=e("./decode"),t.encode=t.stringify=e("./encode")},{"./decode":47,"./encode":48}],50:[function(e,r,t){"use strict";var a=e("punycode"),s=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=P,t.resolve=function(e,r){return P(e,!1,!0).resolve(r)},t.resolveObject=function(e,r){return e?P(e,!1,!0).resolveObject(r):r},t.format=function(e){s.isString(e)&&(e=P(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var i=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),u=["%","/","?",";","#"].concat(h),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=e("querystring");function P(e,r,t){if(e&&s.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,r,t),a}o.prototype.parse=function(e,r,t){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),n=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(n);c[0]=c[0].replace(/\\/g,"/");var P=e=c.join(n);if(P=P.trim(),!t&&1===e.split("#").length){var E=l.exec(P);if(E)return this.path=P,this.href=P,this.pathname=E[1],E[2]?(this.search=E[2],this.query=r?g.parse(this.search.substr(1)):this.search.substr(1)):r&&(this.search="",this.query={}),this}var b=i.exec(P);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,P=P.substr(b.length)}if(t||b||P.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===P.substr(0,2);!j||b&&v[b]||(P=P.substr(2),this.slashes=!0)}if(!v[b]&&(j||b&&!y[b])){for(var S,$,x=-1,_=0;_<f.length;_++){-1!==(O=P.indexOf(f[_]))&&(-1===x||O<x)&&(x=O)}-1!==($=-1===x?P.lastIndexOf("@"):P.lastIndexOf("@",x))&&(S=P.slice(0,$),P=P.slice($+1),this.auth=decodeURIComponent(S)),x=-1;for(_=0;_<u.length;_++){var O;-1!==(O=P.indexOf(u[_]))&&(-1===x||O<x)&&(x=O)}-1===x&&(x=P.length),this.host=P.slice(0,x),P=P.slice(x),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),A=(_=0,I.length);_<A;_++){var k=I[_];if(k&&!k.match(d)){for(var q="",D=0,L=k.length;D<L;D++)k.charCodeAt(D)>127?q+="x":q+=k[D];if(!q.match(d)){var Q=I.slice(0,_),C=I.slice(_+1),V=k.match(p);V&&(Q.push(V[1]),C.unshift(V[2])),C.length&&(P="/"+C.join(".")+P),this.hostname=Q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=a.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==P[0]&&(P="/"+P))}if(!m[w])for(_=0,A=h.length;_<A;_++){var T=h[_];if(-1!==P.indexOf(T)){var M=encodeURIComponent(T);M===T&&(M=escape(T)),P=P.split(T).join(M)}}var N=P.indexOf("#");-1!==N&&(this.hash=P.substr(N),P=P.slice(0,N));var F=P.indexOf("?");if(-1!==F?(this.search=P.substr(F),this.query=P.substr(F+1),r&&(this.query=g.parse(this.query)),P=P.slice(0,F)):r&&(this.search="",this.query={}),P&&(this.pathname=P),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var H=this.search||"";this.path=z+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=this.protocol||"",t=this.pathname||"",a=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(i=g.stringify(this.query));var n=this.search||i&&"?"+i||"";return r&&":"!==r.substr(-1)&&(r+=":"),this.slashes||(!r||y[r])&&!1!==o?(o="//"+(o||""),t&&"/"!==t.charAt(0)&&(t="/"+t)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),r+o+(t=t.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(n=n.replace("#","%23"))+a},o.prototype.resolve=function(e){return this.resolveObject(P(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(s.isString(e)){var r=new o;r.parse(e,!1,!0),e=r}for(var t=new o,a=Object.keys(this),i=0;i<a.length;i++){var n=a[i];t[n]=this[n]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(t[h]=e[h])}return y[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!y[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var d=u[f];t[d]=e[d]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||v[e.protocol])t.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),t.pathname=p.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var m=t.pathname||"",g=t.search||"";t.path=m+g}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var P=t.pathname&&"/"===t.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=E||P||t.host&&e.pathname,w=b,j=t.pathname&&t.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],t.protocol&&!y[t.protocol]);if(S&&(t.hostname="",t.port=null,t.host&&(""===j[0]?j[0]=t.host:j.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===j[0])),E)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,j=p;else if(p.length)j||(j=[]),j.pop(),j=j.concat(p),t.search=e.search,t.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(S)t.hostname=t.host=j.shift(),(R=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=R.shift(),t.host=t.hostname=R.shift());return t.search=e.search,t.query=e.query,s.isNull(t.pathname)&&s.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!j.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var $=j.slice(-1)[0],x=(t.host||e.host||j.length>1)&&("."===$||".."===$)||""===$,_=0,O=j.length;O>=0;O--)"."===($=j[O])?j.splice(O,1):".."===$?(j.splice(O,1),_++):_&&(j.splice(O,1),_--);if(!b&&!w)for(;_--;_)j.unshift("..");!b||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),x&&"/"!==j.join("/").substr(-1)&&j.push("");var R,I=""===j[0]||j[0]&&"/"===j[0].charAt(0);S&&(t.hostname=t.host=I?"":j.length?j.shift():"",(R=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=R.shift(),t.host=t.hostname=R.shift()));return(b=b||t.host&&j.length)&&!I&&j.unshift(""),j.length?t.pathname=j.join("/"):(t.pathname=null,t.path=null),s.isNull(t.pathname)&&s.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},o.prototype.parseHost=function(){var e=this.host,r=n.exec(e);r&&(":"!==(r=r[0])&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)}},{"./util":51,punycode:46,querystring:49}],51:[function(e,r,t){"use strict";r.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],ajv:[function(e,r,t){"use strict";var a=e("./compile"),s=e("./compile/resolve"),o=e("./cache"),i=e("./compile/schema_obj"),n=e("json-stable-stringify"),l=e("./compile/formats"),c=e("./compile/rules"),h=e("./v5"),u=e("./compile/util"),f=e("./async"),d=e("co");r.exports=P,P.prototype.compileAsync=f.compile;var p=e("./keyword");P.prototype.addKeyword=p.add,P.prototype.getKeyword=p.get,P.prototype.removeKeyword=p.remove,P.ValidationError=e("./compile/validation_error");var m="http://json-schema.org/draft-04/schema",v=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i;function y(e){return v.test(e)}var g=["removeAdditional","useDefaults","coerceTypes"];function P(r){if(!(this instanceof P))return new P(r);var t=this;function p(e,r){var a;if("string"==typeof e){if(!(a=j(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var s=x(e);a=s.validate||_(s)}var o=a(r);return!0===a.$async?"*"==t._opts.async?d(o):o:(t.errors=a.errors,o)}function E(e,r,a,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)E(e[i],void 0,a,o);else I(r=s.normalizeId(r||e.id)),t._schemas[r]=x(e,a,o,!0)}function b(e,r,t){E(e,r,t,!0)}function w(e,r){var a,s,o=e.$schema||t._opts.defaultMeta||(a=t._opts.meta,t._opts.defaultMeta="object"==typeof a?a.id||a:t._opts.v5?h.META_SCHEMA_ID:m,t._opts.defaultMeta),i=t._formats.uri;t._formats.uri="function"==typeof i?y:v;try{s=p(o,e)}finally{t._formats.uri=i}if(!s&&r){var n="schema is invalid: "+O();if("log"!=t._opts.validateSchema)throw new Error(n);console.error(n)}return s}function j(e){var r=S(e);switch(typeof r){case"object":return r.validate||_(r);case"string":return j(r);case"undefined":return function(e){var r=s.schema.call(t,{schema:{}},e);if(r){var o=r.schema,n=r.root,l=r.baseId,c=a.call(t,o,n,void 0,l);return t._fragments[e]=new i({ref:e,fragment:!0,schema:o,root:n,baseId:l,validate:c}),c}}(e)}}function S(e){return e=s.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function $(e,r){for(var a in e){var s=e[a];s.meta||r&&!r.test(a)||(t._cache.del(s.jsonStr),delete e[a])}}function x(e,r,a,o){if("object"!=typeof e)throw new Error("schema should be object");var l=n(e),c=t._cache.get(l);if(c)return c;o=o||!1!==t._opts.addUsedSchema;var h=s.normalizeId(e.id);h&&o&&I(h);var u,f=!1!==t._opts.validateSchema&&!r;f&&!(u=e.id&&e.id==e.$schema)&&w(e,!0);var d=s.ids.call(t,e),p=new i({id:h,schema:e,localRefs:d,jsonStr:l,meta:a});return"#"!=h[0]&&o&&(t._refs[h]=p),t._cache.put(l,p),f&&u&&w(e,!0),p}function _(e,r){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=r||i,!0===e.schema.$async&&(i.$async=!0),i;var s,o;e.compiling=!0,e.meta&&(s=t._opts,t._opts=t._metaOpts);try{o=a.call(t,e.schema,r,e.localRefs)}finally{e.compiling=!1,e.meta&&(t._opts=s)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o;function i(){var r=e.validate,t=r.apply(null,arguments);return i.errors=r.errors,t}}function O(e,r){if(!(e=e||t.errors))return"No errors";for(var a=void 0===(r=r||{}).separator?", ":r.separator,s=void 0===r.dataVar?"data":r.dataVar,o="",i=0;i<e.length;i++){var n=e[i];n&&(o+=s+n.dataPath+" "+n.message+a)}return o.slice(0,-a.length)}function R(e,r){"string"==typeof r&&(r=new RegExp(r)),t._formats[e]=r}function I(e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}r=this._opts=u.copy(r)||{},this._schemas={},this._refs={},this._fragments={},this._formats=l(r.format),this._cache=r.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this.validate=p,this.compile=function(e,r){var t=x(e,void 0,r);return t.validate||_(t)},this.addSchema=E,this.addMetaSchema=b,this.validateSchema=w,this.getSchema=j,this.removeSchema=function(e){if(e instanceof RegExp)return $(t._schemas,e),void $(t._refs,e);switch(typeof e){case"undefined":return $(t._schemas),$(t._refs),void t._cache.clear();case"string":var r=S(e);return r&&t._cache.del(r.jsonStr),delete t._schemas[e],void delete t._refs[e];case"object":var a=n(e);t._cache.del(a);var o=e.id;o&&(o=s.normalizeId(o),delete t._schemas[o],delete t._refs[o])}},this.addFormat=R,this.errorsText=O,this._addSchema=x,this._compile=_,r.loopRequired=r.loopRequired||1/0,(r.async||r.transpile)&&f.setup(r),!0===r.beautify&&(r.beautify={indent_size:2}),"property"==r.errorDataPath&&(r._errorDataPathProperty=!0),this._metaOpts=function(){for(var e=u.copy(t._opts),r=0;r<g.length;r++)delete e[g[r]];return e}(),r.formats&&function(){for(var e in t._opts.formats){var r=t._opts.formats[e];R(e,r)}}(),function(){if(!1!==t._opts.meta){b(e("./refs/json-schema-draft-04.json"),m,!0),t._refs["http://json-schema.org/schema"]=m}}(),r.v5&&h.enable(this),"object"==typeof r.meta&&b(r.meta),function(){var e=t._opts.schemas;if(!e)return;if(Array.isArray(e))E(e);else for(var r in e)E(e[r],r)}()}},{"./async":1,"./cache":2,"./compile":6,"./compile/formats":5,"./compile/resolve":7,"./compile/rules":8,"./compile/schema_obj":9,"./compile/util":11,"./compile/validation_error":12,"./keyword":37,"./refs/json-schema-draft-04.json":38,"./v5":40,co:41,"json-stable-stringify":42}]},{},[])("ajv")}));