{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({\"esri/views/2d/engine/FeatureContainer\":\"./node_modules/arcgis-js-api/views/2d/engine/FeatureContainer.js\",\"esri/views/2d/layers/features/tileRenderers/BaseTileRenderer\":\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js\",\"esri/views/2d/layers/features/tileRenderers/SymbolTileRenderer\":\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js\",\"esri/views/2d/layers/features/tileRenderers/support/WGLFeatureView\":\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js\"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{\"./node_modules/arcgis-js-api/views/2d/engine/FeatureContainer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../geometry/support/aaBoundingRect */ \"./node_modules/arcgis-js-api/geometry/support/aaBoundingRect.js\"),__webpack_require__(/*! ../engine */ \"./node_modules/arcgis-js-api/views/2d/engine.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,i,n,a,o){Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(e){function t(t){var r=e.call(this,t)||this;return r._rendererInfo=new o.WGLRendererInfo,r._attachedResolver=i.createResolver(),r.attributeView=new o.AttributeStoreView,r}return r.__extends(t,e),t.prototype.destroy=function(){this.removeAllChildren(),this.children.forEach((function(e){return e.destroy()})),this.attributeView.destroy()},t.prototype.whenAttached=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this._attachedResolver.promise];case 1:return e.sent(),[2]}}))}))},t.prototype.setRendererInfo=function(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()},t.prototype.getMaterialItems=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a,o;return r.__generator(this,(function(r){switch(r.label){case 0:return e&&0!==e.length?[4,this.whenAttached()]:[2,null];case 1:return r.sent(),i=this.stage.painter.textureManager,a=e.map((function(e){return i.rasterizeItem(e.symbol,e.glyphIds,t)})),[4,n.all(a)];case 2:return o=r.sent(),[2,o.map((function(t,r){return{id:e[r].id,mosaicItem:t}}))]}}))}))},t.prototype.onTileData=function(e,t){if(t.addOrUpdate&&\"tileDisplayData\"in t.addOrUpdate)e.setData(t,this.hasLabels,this.labelsVisible);else{var i=t.addOrUpdate&&o.TileData.decode(t.addOrUpdate),n=r.__assign(r.__assign({},t),{addOrUpdate:i});e.setData(n,this.hasLabels,this.labelsVisible)}this.contains(e)||this.addChild(e),this.requestRender()},t.prototype.onTileError=function(e){e.clear(),this.contains(e)||this.addChild(e)},t.prototype.renderChildren=function(t){this._rendererInfo.update(t.state),this.attributeView.bindTextures(this.stage.context),e.prototype.renderChildren.call(this,t)},t.prototype.createTile=function(e){var t=this._tileInfoView.getTileBounds(a.create(),e);return new o.WGLTile(e,t)},t.prototype.destroyTile=function(e){this.removeChild(e),e.destroy()},t.prototype.createRenderParams=function(t){return r.__assign(r.__assign({},e.prototype.createRenderParams.call(this,t)),{rendererInfo:this._rendererInfo,attributeView:this.attributeView})},t.prototype.onAttach=function(){e.prototype.onAttach.call(this);var t=this.stage.context.capabilities;t.textureFloat,t.vao,this._attachedResolver()},t.prototype.onDetach=function(){e.prototype.onDetach.call(this),this._attachedResolver=i.createResolver()},t}(o.TileContainer);t.FeatureContainer=s}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/FeatureContainer.js?')},\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../../core/HandleOwner */ \"./node_modules/arcgis-js-api/core/HandleOwner.js\"),__webpack_require__(/*! ../../../../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,o,i){Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r.__extends(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,\"updating\",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once(\"isReady\",(function(){return t.notifyChange(\"updating\")})),this.tiles.set(e.id,r),r},t.prototype.lockAttributeTextureUpload=function(){},t.prototype.unlockAttributeTextureUpload=function(){},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach((function(t){e=e&&t.isReady})),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},r.__decorate([i.property()],t.prototype,\"layer\",void 0),r.__decorate([i.property()],t.prototype,\"layerView\",void 0),r.__decorate([i.property()],t.prototype,\"tileInfoView\",void 0),r.__decorate([i.property()],t.prototype,\"updating\",null),t=r.__decorate([i.subclass(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],t)}(o.HandleOwner);t.default=n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js?')},\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect */ \"./node_modules/arcgis-js-api/geometry/support/aaBoundingRect.js\"),__webpack_require__(/*! ../../../engine */ \"./node_modules/arcgis-js-api/views/2d/engine.js\"),__webpack_require__(/*! ../support/rendererUtils */ \"./node_modules/arcgis-js-api/views/2d/layers/features/support/rendererUtils.js\"),__webpack_require__(/*! ./BaseTileRenderer */ \"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js\"),__webpack_require__(/*! ./support/visualVariablesUtils */ \"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js\"),__webpack_require__(/*! ./support/WGLFeatureView */ \"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,i,r,a,s,o,n,l,u){Object.defineProperty(t,\"__esModule\",{value:!0});var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.install=function(e){var t=new u.WGLFeatureView(this.tileInfoView,this.layerView,this.layer);this.featuresView=t,e.addChild(t)},t.prototype.uninstall=function(e){e.removeChild(this.featuresView),this.featuresView.destroy()},t.prototype.hitTest=function(e,t){return this.featuresView.hitTest(e,t)},t.prototype.supportsRenderer=function(e){return null!=e&&-1!==[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\"].indexOf(e.type)},t.prototype.onConfigUpdate=function(e){var t=null;if(\"visualVariables\"in e){var i=(o.simplifyVVRenderer(e).visualVariables||[]).map((function(e){var t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t}));t=l.convertVisualVariables(i)}this.featuresView.setRendererInfo(e,t,this.layerView.effects)},t.prototype.onTileData=function(e){var t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()},t.prototype.onTileError=function(e){var t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)},t.prototype.forceAttributeTextureUpload=function(){this.featuresView.attributeView.forceTextureUpload()},t.prototype.lockAttributeTextureUpload=function(){this.featuresView.attributeView.lockTextureUpload()},t.prototype.unlockAttributeTextureUpload=function(){this.featuresView.attributeView.unlockTextureUpload()},t.prototype.getMaterialItems=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.featuresView.getMaterialItems(e)]}))}))},t.prototype.invalidateLabels=function(){this.featuresView.hasLabels&&(this.tiles.forEach((function(e){return e.isDirty=!0})),this.layerView.view.labelManager.requestUpdate())},t.prototype.createTile=function(e){var t=this.tileInfoView.getTileBounds(a.create(),e),i=new s.WGLTile(e,t);return this.featuresView.hasLabels&&this.layerView.view.labelManager.addTile(this.layerView,i),i},t.prototype.disposeTile=function(e){this.featuresView.removeChild(e),this.featuresView.hasLabels&&this.layerView.view.labelManager.removeTile(this.layerView,e.key.id),e.destroy(),this.layerView.view.labelManager.requestUpdate()},t=i.__decorate([r.subclass(\"esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],t)}(n.default);t.default=p}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js?')},\"./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../../engine */ \"./node_modules/arcgis-js-api/views/2d/engine.js\"),__webpack_require__(/*! ../../../../engine/FeatureContainer */ \"./node_modules/arcgis-js-api/views/2d/engine/FeatureContainer.js\"),__webpack_require__(/*! ../../../../engine/webgl/enums */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/enums.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,n,a,i,s){Object.defineProperty(r,\"__esModule\",{value:!0});var l=function(e){function r(r,t,n){var a=e.call(this,r)||this;return a._pointToCallbacks=new Map,a._layer=n,a._layerView=t,a}return t.__extends(r,e),r.prototype.renderChildren=function(r){this.hasAnimation&&r.painter.effects.integrate.draw(r,r.attributeView);e.prototype.renderChildren.call(this,r)},r.prototype.hitTest=function(e,r){var t=[e,r],a=n.createResolver();return this._pointToCallbacks.set(t,a),this.requestRender(),a.promise},r.prototype.doRender=function(r){var t=this._layer,n=t.minScale,a=t.maxScale,i=r.state.scale;i<=(n||1/0)&&i>=a&&e.prototype.doRender.call(this,r)},Object.defineProperty(r.prototype,\"hasAnimation\",{get:function(){return this.hasLabels},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"hasLabels\",{get:function(){var e=this._layer.featureReduction,r=e&&\"cluster\"===e.type&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return!!(this._layer.labelingInfo&&this._layer.labelingInfo.length||r)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"labelsVisible\",{get:function(){return this._layer.labelsVisible},enumerable:!0,configurable:!0}),r.prototype.prepareRenderPasses=function(r){var n=this,i=r.registerRenderPass({name:\"label\",brushes:[a.brushes.Label],target:function(){return n._layer.labelsVisible?n.children:null},drawPhase:s.WGLDrawPhase.LABEL|s.WGLDrawPhase.LABEL_ALPHA}),l=r.registerRenderPass({name:\"geometry\",brushes:[a.brushes.Fill,a.brushes.Line,a.brushes.Marker,a.brushes.Text],target:function(){return n.children},effects:[{apply:r.effects.highlight,enable:function(){return!!n._layerView.hasHighlight()}},{apply:r.effects.hittest,enable:function(){return!!n._pointToCallbacks.size},args:function(){return n._pointToCallbacks}}]});return t.__spreadArrays(e.prototype.prepareRenderPasses.call(this,r),[l,i])},r}(i.FeatureContainer);r.WGLFeatureView=l}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js?')}}]);","extractedComments":[]}