{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{\"./node_modules/arcgis-js-api/layers/WMTSLayer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../request */ \"./node_modules/arcgis-js-api/request.js\"),__webpack_require__(/*! ../core/Collection */ \"./node_modules/arcgis-js-api/core/Collection.js\"),__webpack_require__(/*! ../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../core/Handles */ \"./node_modules/arcgis-js-api/core/Handles.js\"),__webpack_require__(/*! ../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../core/MultiOriginJSONSupport */ \"./node_modules/arcgis-js-api/core/MultiOriginJSONSupport.js\"),__webpack_require__(/*! ../core/object */ \"./node_modules/arcgis-js-api/core/object.js\"),__webpack_require__(/*! ../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../core/SetUtils */ \"./node_modules/arcgis-js-api/core/SetUtils.js\"),__webpack_require__(/*! ../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ./Layer */ \"./node_modules/arcgis-js-api/layers/Layer.js\"),__webpack_require__(/*! ./WebTileLayer */ \"./node_modules/arcgis-js-api/layers/WebTileLayer.js\"),__webpack_require__(/*! ./mixins/OperationalLayer */ \"./node_modules/arcgis-js-api/layers/mixins/OperationalLayer.js\"),__webpack_require__(/*! ./mixins/PortalLayer */ \"./node_modules/arcgis-js-api/layers/mixins/PortalLayer.js\"),__webpack_require__(/*! ./mixins/RefreshableLayer */ \"./node_modules/arcgis-js-api/layers/mixins/RefreshableLayer.js\"),__webpack_require__(/*! ./mixins/ScaleRangeLayer */ \"./node_modules/arcgis-js-api/layers/mixins/ScaleRangeLayer.js\"),__webpack_require__(/*! ./support/TileInfo */ \"./node_modules/arcgis-js-api/layers/support/TileInfo.js\"),__webpack_require__(/*! ./support/WMTSLayerInfo */ \"./node_modules/arcgis-js-api/layers/support/WMTSLayerInfo.js\"),__webpack_require__(/*! ./support/WMTSSublayer */ \"./node_modules/arcgis-js-api/layers/support/WMTSSublayer.js\"),__webpack_require__(/*! ./support/wmtsUtils */ \"./node_modules/arcgis-js-api/layers/support/wmtsUtils.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,a,i,o,s,n,l,u,c,p,y,d,m,f,v,h,g,_,L,I,w,S,b){var M={\"image/png\":\".png\",\"image/png8\":\".png\",\"image/png24\":\".png\",\"image/png32\":\".png\",\"image/jpg\":\".jpg\",\"image/jpeg\":\".jpeg\",\"image/gif\":\".gif\",\"image/bmp\":\".bmp\",\"image/tiff\":\".tif\",\"image/jpgpng\":\"\",\"image/jpegpng\":\"\",\"image/unknown\":\"\"},P=p.SetFromValues([\"version\",\"service\",\"request\",\"layer\",\"style\",\"format\",\"tilematrixset\",\"tilematrix\",\"tilerow\",\"tilecol\"]);return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=e.apply(this,t)||this;return a._sublayersHandles=new s,a.copyright=\"\",a.customParameters=null,a.customLayerParameters=null,a.fullExtent=null,a.operationalLayerType=\"WebTiledLayer\",a.resourceInfo=null,a.serviceMode=\"RESTful\",a.sublayers=null,a.type=\"wmts\",a.version=\"1.0.0\",a.watch(\"activeLayer\",(function(e,t){t&&(t.layer=null),e&&(e.layer=a)}),!0),a.watch(\"sublayers\",(function(e,t){t&&(t.forEach((function(e){e.layer=null})),a._sublayersHandles.removeAll(),a._sublayersHandles=null),e&&(e.forEach((function(e){e.layer=a})),a._sublayersHandles||(a._sublayersHandles=new s),a._sublayersHandles.add([e.on(\"after-add\",(function(e){e.item.layer=a})),e.on(\"after-remove\",(function(e){e.item.layer=null}))]))}),!0),a}return r.__extends(t,e),t.prototype.normalizeCtorArgs=function(e,t){return\"string\"==typeof e?r.__assign({url:e},t):e},t.prototype.load=function(e){var t=this;if(\"KVP\"===this.serviceMode||\"RESTful\"===this.serviceMode)return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"WMTS\"]},e).then((function(){return t._fetchService(e)})).catch((function(e){throw new o(\"wmtslayer:unsupported-service-data\",\"Invalid response from the WMTS service.\",{error:e})}))),c.resolve(this);console.error(\"WMTS mode could only be \\'KVP\\' or \\'RESTful\\'\")},Object.defineProperty(t.prototype,\"activeLayer\",{get:function(){return this._get(\"activeLayer\")},set:function(e){this._set(\"activeLayer\",e)},enumerable:!0,configurable:!0}),t.prototype.readActiveLayerFromService=function(e,t,r){var a,i=this;return this.activeLayer?t.layers.some((function(e){return e.id===i.activeLayer.id&&(a=e,!0)})):(this.activeLayer=new S,a=t.layers[0]),this.activeLayer.read(a,r),this.activeLayer},t.prototype.readActiveLayerFromItemOrWebDoc=function(e,t){var r=t.templateUrl,a=t.wmtsInfo,i=r?this._getLowerCasedUrlParams(r):null,o=a&&a.layerIdentifier,s=null,n=a&&a.tileMatrixSet;n&&(Array.isArray(n)?n.length&&(s=n[0]):s=n);var l=i&&i.format,u=i&&i.style;return new S({id:o,imageFormat:l,styleId:u,tileMatrixSetId:s})},t.prototype.writeActiveLayer=function(e,t,a,i){var o=this.activeLayer;t.templateUrl=this.getUrlTemplate(o.id,o.tileMatrixSetId,o.imageFormat,o.styleId);var s=u.getDeepValue(\"tileMatrixSet.tileInfo\",o);t.tileInfo=s?s.toJSON(i):null,t.wmtsInfo=r.__assign(r.__assign({},t.wmtsInfo),{layerIdentifier:o.id,tileMatrixSet:o.tileMatrixSetId})},t.prototype.readCustomParameters=function(e,t){var r=t.wmtsInfo;return r?this._mergeParams(r.customParameters,r.url):null},Object.defineProperty(t.prototype,\"fullExtents\",{get:function(){var e=[];return this.activeLayer.tileMatrixSets.forEach((function(t){t.fullExtent&&e.push(t.fullExtent)})),e},enumerable:!0,configurable:!0}),t.prototype.readServiceMode=function(e,t){return t.templateUrl.indexOf(\"?\")>-1?\"KVP\":\"RESTful\"},t.prototype.readSublayersFromService=function(e,t,r){return function(e,t){return e.map((function(e){var r=new S;return r.read(e,t),r}))}(t.layers,r)},Object.defineProperty(t.prototype,\"supportedSpatialReferences\",{get:function(){return this.activeLayer.tileMatrixSets.map((function(e){return e.tileInfo.spatialReference})).toArray()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"title\",{get:function(){return\"Layer\"===this._get(\"title\")?this.activeLayer&&this.activeLayer.title:this._get(\"title\")},set:function(e){this._set(\"title\",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"url\",{get:function(){return this._get(\"url\")},set:function(e){e&&\"/\"===e.substr(-1)?this._set(\"url\",e.slice(0,-1)):this._set(\"url\",e)},enumerable:!0,configurable:!0}),t.prototype.createWebTileLayer=function(e){var t=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId),r=this._getTileMatrixSetById(e.tileMatrixSetId).tileInfo,a=e.fullExtent,i=new w.default({layerIdentifier:e.id,tileMatrixSet:e.tileMatrixSetId,url:this.url});return this.customLayerParameters&&(i.customLayerParameters=this.customLayerParameters),this.customParameters&&(i.customParameters=this.customParameters),new v({fullExtent:a,urlTemplate:t,tileInfo:r,wmtsInfo:i})},t.prototype.fetchTile=function(e,t,r){var i=this.getTileUrl(e,t,r);return a(i,{responseType:\"image\"}).then((function(e){return e.data}))},t.prototype.findSublayerById=function(e){return this.sublayers.find((function(t){return t.id===e}))},t.prototype.getTileUrl=function(e,t,r){var a=this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId).tileInfo.lods[e],i=a?a.levelValue?a.levelValue:\"\"+a.level:\"\"+e,o=this.resourceInfo?\"\":b.getTileUrlFromResourceUrls({dimensionMap:this.dimensionMap,layerMap:this.layerMap},this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId,i,t,r);o||(o=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId).replace(/\\\\{level\\\\}/gi,i).replace(/\\\\{row\\\\}/gi,\"\"+t).replace(/\\\\{col\\\\}/gi,\"\"+r));return o=this._appendCustomLayerParameters(o)},t.prototype.getUrlTemplate=function(e,t,r,a){if(!this.resourceInfo){var i=b.getTileUrlTemplateFromResourceUrls({dimensionMap:this.dimensionMap,layerMap:this.layerMap},e,t,a);if(i)return i}if(\"KVP\"===this.serviceMode)return this.url+\"?SERVICE=WMTS&VERSION=\"+this.version+\"&REQUEST=GetTile&LAYER=\"+e+\"&STYLE=\"+a+\"&FORMAT=\"+r+\"&TILEMATRIXSET=\"+t+\"&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}\";if(\"RESTful\"===this.serviceMode){var o=\"\";return M[r.toLowerCase()]&&(o=M[r.toLowerCase()]),this.url+e+\"/\"+a+\"/\"+t+\"/{level}/{row}/{col}\"+o}return\"\"},t.prototype._fetchService=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,o;return r.__generator(this,(function(s){switch(s.label){case 0:return this.resourceInfo?(\"KVP\"===this.resourceInfo.serviceMode&&(this.url+=this.url.indexOf(\"?\")>-1?\"\":\"?\"),t={ssl:!1,data:this.resourceInfo},[3,6]):[3,1];case 1:i=this._getCapabilitiesUrl(this.serviceMode),s.label=2;case 2:return s.trys.push([2,4,,6]),[4,a(i,r.__assign(r.__assign({},e),{responseType:\"text\"}))];case 3:return t=s.sent(),[3,6];case 4:return s.sent(),o=\"KVP\"===this.serviceMode?\"RESTful\":\"KVP\",i=this._getCapabilitiesUrl(o),[4,a(i,r.__assign(r.__assign({},e),{responseType:\"text\"}))];case 5:return t=s.sent(),[3,6];case 6:return this.resourceInfo?t.data=b.parseResourceInfo(t.data):t.data=b.parseCapabilities(t.data,{serviceMode:this.serviceMode,url:this.url}),t.data&&this.read(t.data,{origin:\"service\"}),[2]}}))}))},t.prototype._getTileMatrixSetById=function(e){return this.findSublayerById(this.activeLayer.id).tileMatrixSets.find((function(t){return t.id===e}))},t.prototype._appendCustomParameters=function(e){if(this.customParameters)for(var t in this.customParameters)e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+t+\"=\"+encodeURIComponent(this.customParameters[t]);return e},t.prototype._appendCustomLayerParameters=function(e){if(this.customLayerParameters||this.customParameters){var t=r.__assign(r.__assign({},n.clone(this.customParameters||{})),this.customLayerParameters);for(var a in t)e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+a+\"=\"+encodeURIComponent(t[a])}return e},t.prototype._getCapabilitiesUrl=function(e){var t;return this.url=this.url.split(\"?\")[0],\"KVP\"===e?t=this.url+\"?request=GetCapabilities&service=WMTS&version=\"+this.version:\"RESTful\"===e&&(t=this.url+\"/\"+this.version+\"/WMTSCapabilities.xml\"),t=this._appendCustomParameters(t)},t.prototype._getLowerCasedUrlParams=function(e){if(!e)return null;var t=y.urlToObject(e).query;if(!t)return null;var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),r},t.prototype._mergeParams=function(e,t){var r=this._getLowerCasedUrlParams(t);if(r){var a=Object.keys(r);a.length&&(e=e?n.clone(e):{},a.forEach((function(t){e.hasOwnProperty(t)||P.has(t)||(e[t]=r[t])})))}return e},r.__decorate([d.property()],t.prototype,\"dimensionMap\",void 0),r.__decorate([d.property()],t.prototype,\"layerMap\",void 0),r.__decorate([d.property({type:S,dependsOn:[\"sublayers\"],json:{origins:{\"web-document\":{write:{ignoreOrigin:!0}}}}})],t.prototype,\"activeLayer\",null),r.__decorate([d.reader(\"service\",\"activeLayer\",[\"layers\"])],t.prototype,\"readActiveLayerFromService\",null),r.__decorate([d.reader([\"web-document\",\"portal-item\"],\"activeLayer\",[\"wmtsInfo\"])],t.prototype,\"readActiveLayerFromItemOrWebDoc\",null),r.__decorate([d.writer([\"web-document\",\"portal-item\"],\"activeLayer\",{templateUrl:{type:String},tileInfo:{type:I},\"wmtsInfo.layerIdentifier\":{type:String},\"wmtsInfo.tileMatrixSet\":{type:String}})],t.prototype,\"writeActiveLayer\",null),r.__decorate([d.property({type:String,value:\"\",json:{write:!0}})],t.prototype,\"copyright\",void 0),r.__decorate([d.property({type:[\"show\",\"hide\"]})],t.prototype,\"listMode\",void 0),r.__decorate([d.property({json:{origins:{\"web-document\":{read:{source:[\"wmtsInfo.customParameters\",\"wmtsInfo.url\"]},write:{target:\"wmtsInfo.customParameters\"}},\"portal-item\":{read:{source:[\"wmtsInfo.customParameters\",\"wmtsInfo.url\"]},write:{target:\"wmtsInfo.customParameters\"}}}}})],t.prototype,\"customParameters\",void 0),r.__decorate([d.reader(\"web-document\",\"customParameters\"),d.reader(\"portal-item\",\"customParameters\")],t.prototype,\"readCustomParameters\",null),r.__decorate([d.property({json:{origins:{\"web-document\":{read:{source:\"wmtsInfo.customLayerParameters\"},write:{target:\"wmtsInfo.customLayerParameters\"}},\"portal-item\":{read:{source:\"wmtsInfo.customLayerParameters\"},write:{target:\"wmtsInfo.customLayerParameters\"}}}}})],t.prototype,\"customLayerParameters\",void 0),r.__decorate([d.property({type:m,json:{write:{ignoreOrigin:!0},origins:{\"web-document\":{read:{source:\"fullExtent\"}},\"portal-item\":{read:{source:\"fullExtent\"}}}}})],t.prototype,\"fullExtent\",void 0),r.__decorate([d.property({readOnly:!0,dependsOn:[\"activeLayer\"]})],t.prototype,\"fullExtents\",null),r.__decorate([d.property({type:[\"WebTiledLayer\"]})],t.prototype,\"operationalLayerType\",void 0),r.__decorate([d.property()],t.prototype,\"resourceInfo\",void 0),r.__decorate([d.property()],t.prototype,\"serviceMode\",void 0),r.__decorate([d.reader([\"portal-item\",\"web-document\"],\"serviceMode\",[\"templateUrl\"])],t.prototype,\"readServiceMode\",null),r.__decorate([d.property({type:i.ofType(S)})],t.prototype,\"sublayers\",void 0),r.__decorate([d.reader(\"service\",\"sublayers\",[\"layers\"])],t.prototype,\"readSublayersFromService\",null),r.__decorate([d.property({readOnly:!0,dependsOn:[\"activeLayer\"]})],t.prototype,\"supportedSpatialReferences\",null),r.__decorate([d.property({dependsOn:[\"activeLayer\"],json:{read:{source:\"title\"}}})],t.prototype,\"title\",null),r.__decorate([d.property({json:{read:!1},readOnly:!0,value:\"wmts\"})],t.prototype,\"type\",void 0),r.__decorate([d.property({json:{origins:{service:{read:{source:\"tileUrl\"}},\"web-document\":{read:{source:\"wmtsInfo.url\"},write:{target:\"wmtsInfo.url\"}},\"portal-item\":{read:{source:\"wmtsInfo.url\"},write:{target:\"wmtsInfo.url\"}}}}})],t.prototype,\"url\",null),r.__decorate([d.property()],t.prototype,\"version\",void 0),t=r.__decorate([d.subclass(\"esri.layers.WMTSLayer\")],t)}(_.RefreshableLayer(L.ScaleRangeLayer(h.OperationalLayer(g.PortalLayer(l.MultiOriginJSONMixin(f))))))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/WMTSLayer.js?')},\"./node_modules/arcgis-js-api/layers/WebTileLayer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../geometry */ \"./node_modules/arcgis-js-api/geometry.js\"),__webpack_require__(/*! ../request */ \"./node_modules/arcgis-js-api/request.js\"),__webpack_require__(/*! ../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../core/MultiOriginJSONSupport */ \"./node_modules/arcgis-js-api/core/MultiOriginJSONSupport.js\"),__webpack_require__(/*! ../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../core/string */ \"./node_modules/arcgis-js-api/core/string.js\"),__webpack_require__(/*! ../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ./Layer */ \"./node_modules/arcgis-js-api/layers/Layer.js\"),__webpack_require__(/*! ./mixins/OperationalLayer */ \"./node_modules/arcgis-js-api/layers/mixins/OperationalLayer.js\"),__webpack_require__(/*! ./mixins/PortalLayer */ \"./node_modules/arcgis-js-api/layers/mixins/PortalLayer.js\"),__webpack_require__(/*! ./mixins/RefreshableLayer */ \"./node_modules/arcgis-js-api/layers/mixins/RefreshableLayer.js\"),__webpack_require__(/*! ./mixins/ScaleRangeLayer */ \"./node_modules/arcgis-js-api/layers/mixins/ScaleRangeLayer.js\"),__webpack_require__(/*! ./support/LOD */ \"./node_modules/arcgis-js-api/layers/support/LOD.js\"),__webpack_require__(/*! ./support/TileInfo */ \"./node_modules/arcgis-js-api/layers/support/TileInfo.js\"),__webpack_require__(/*! ./support/WMTSLayerInfo */ \"./node_modules/arcgis-js-api/layers/support/WMTSLayerInfo.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,l,o,n,a,i,p,s,u,c,y,d,f,m,v,h,g,w,_){return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(this,t)||this;return o.copyright=\"\",o.fullExtent=new l.Extent(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,l.SpatialReference.WebMercator),o.legendEnabled=!1,o.isReference=null,o.popupEnabled=!1,o.spatialReference=l.SpatialReference.WebMercator,o.subDomains=null,o.tileInfo=new w({size:[256,256],dpi:96,format:\"png8\",compressionQuality:0,origin:new l.Point({x:-20037508.342787,y:20037508.342787,spatialReference:l.SpatialReference.WebMercator}),spatialReference:l.SpatialReference.WebMercator,lods:[new g({level:0,scale:591657527.591555,resolution:156543.033928}),new g({level:1,scale:295828763.795777,resolution:78271.5169639999}),new g({level:2,scale:147914381.897889,resolution:39135.7584820001}),new g({level:3,scale:73957190.948944,resolution:19567.8792409999}),new g({level:4,scale:36978595.474472,resolution:9783.93962049996}),new g({level:5,scale:18489297.737236,resolution:4891.96981024998}),new g({level:6,scale:9244648.868618,resolution:2445.98490512499}),new g({level:7,scale:4622324.434309,resolution:1222.99245256249}),new g({level:8,scale:2311162.217155,resolution:611.49622628138}),new g({level:9,scale:1155581.108577,resolution:305.748113140558}),new g({level:10,scale:577790.554289,resolution:152.874056570411}),new g({level:11,scale:288895.277144,resolution:76.4370282850732}),new g({level:12,scale:144447.638572,resolution:38.2185141425366}),new g({level:13,scale:72223.819286,resolution:19.1092570712683}),new g({level:14,scale:36111.909643,resolution:9.55462853563415}),new g({level:15,scale:18055.954822,resolution:4.77731426794937}),new g({level:16,scale:9027.977411,resolution:2.38865713397468}),new g({level:17,scale:4513.988705,resolution:1.19432856685505}),new g({level:18,scale:2256.994353,resolution:.597164283559817}),new g({level:19,scale:1128.497176,resolution:.298582141647617})]}),o.type=\"web-tile\",o.urlTemplate=null,o.wmtsInfo=null,o}return r.__extends(t,e),t.prototype.normalizeCtorArgs=function(e,t){return\"string\"==typeof e?a.mixin({urlTemplate:e},t||{}):e},t.prototype.load=function(e){var t=this,r=this.loadFromPortal({supportedTypes:[\"WMTS\"]},e).then((function(){var e=\"\";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r=new u.Url(t.urlTemplate);!!t.subDomains&&t.subDomains.length>0||-1===r.authority.indexOf(\"{subDomain}\")||(e=\"is missing \\'subDomains\\' property\")}else e=\"spatialReference must match tileInfo.spatialReference\";else e=\"is missing the required \\'urlTemplate\\' property value\";if(e)throw new n(\"web-tile-layer:load\",\"WebTileLayer (title: \\'\"+t.title+\"\\', id: \\'\"+t.id+\"\\') \"+e)}));return this.addResolvingPromise(r),p.resolve(this)},Object.defineProperty(t.prototype,\"levelValues\",{get:function(){var e=[];if(!this.tileInfo)return null;for(var t=0,r=this.tileInfo.lods;t<r.length;t++){var l=r[t];e[l.level]=l.levelValue||l.level}return e},enumerable:!0,configurable:!0}),t.prototype.readSpatialReference=function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&l.SpatialReference.fromJSON(t.fullExtent.spatialReference)},Object.defineProperty(t.prototype,\"tileServers\",{get:function(){if(!this.urlTemplate)return null;var e=[],t=this.urlTemplate,r=this.subDomains,l=new u.Url(t),o=l.scheme?l.scheme+\"://\":\"//\",n=o+l.authority+\"/\";if(-1===l.authority.indexOf(\"{subDomain}\"))e.push(n);else if(r&&r.length>0&&l.authority.split(\".\").length>1)for(var a=0,i=r;a<i.length;a++){var p=i[a];e.push(o+l.authority.replace(/\\\\{subDomain\\\\}/gi,p)+\"/\")}return e.map((function(e){return\"/\"!==e.charAt(e.length-1)&&(e+=\"/\"),e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"urlPath\",{get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new u.Url(e),r=(t.scheme?t.scheme+\"://\":\"//\")+t.authority+\"/\";return e.substring(r.length)},enumerable:!0,configurable:!0}),t.prototype.readUrlTemplate=function(e,t){return e||t.templateUrl},t.prototype.writeUrlTemplate=function(e,t){e&&c.isProtocolRelative(e)&&(e=\"https:\"+e),t.templateUrl=e?c.normalize(e):e},t.prototype.fetchTile=function(e,t,r,l){void 0===l&&(l={});var n=l.signal,a=l.timestamp,i=this.getTileUrl(e,t,r),p={responseType:\"image\",signal:n};return null!=a&&(p.query={_ts:l.timestamp}),o(i,p).then((function(e){return e.data}))},t.prototype.getTileUrl=function(e,t,r){var l=this.levelValues[e],o=this.tileServers[t%this.tileServers.length]+s.replace(this.urlPath,{level:l,col:r,row:t});return o=o.replace(/\\\\{level\\\\}/gi,\"\"+l).replace(/\\\\{row\\\\}/gi,\"\"+t).replace(/\\\\{col\\\\}/gi,\"\"+r)},r.__decorate([y.property({type:String,value:\"\",json:{write:!0}})],t.prototype,\"copyright\",void 0),r.__decorate([y.property({type:l.Extent,json:{write:!0}})],t.prototype,\"fullExtent\",void 0),r.__decorate([y.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,\"legendEnabled\",void 0),r.__decorate([y.property({type:[\"show\",\"hide\"]})],t.prototype,\"listMode\",void 0),r.__decorate([y.property({dependsOn:[\"tileInfo\"]})],t.prototype,\"levelValues\",null),r.__decorate([y.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],t.prototype,\"isReference\",void 0),r.__decorate([y.property({type:[\"WebTiledLayer\"],value:\"WebTiledLayer\"})],t.prototype,\"operationalLayerType\",void 0),r.__decorate([y.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,\"popupEnabled\",void 0),r.__decorate([y.property({type:l.SpatialReference})],t.prototype,\"spatialReference\",void 0),r.__decorate([y.reader(\"spatialReference\",[\"spatialReference\",\"fullExtent.spatialReference\"])],t.prototype,\"readSpatialReference\",null),r.__decorate([y.property({type:[String],json:{write:!0}})],t.prototype,\"subDomains\",void 0),r.__decorate([y.property({type:w,json:{write:!0}})],t.prototype,\"tileInfo\",void 0),r.__decorate([y.property({readOnly:!0,dependsOn:[\"urlTemplate\",\"subDomains\"]})],t.prototype,\"tileServers\",null),r.__decorate([y.property({json:{read:!1}})],t.prototype,\"type\",void 0),r.__decorate([y.property({dependsOn:[\"urlTemplate\"]})],t.prototype,\"urlPath\",null),r.__decorate([y.property({type:String,json:{origins:{\"portal-item\":{read:{source:\"url\"}}}}})],t.prototype,\"urlTemplate\",void 0),r.__decorate([y.reader(\"urlTemplate\",[\"urlTemplate\",\"templateUrl\"])],t.prototype,\"readUrlTemplate\",null),r.__decorate([y.writer(\"urlTemplate\",{templateUrl:{type:String}})],t.prototype,\"writeUrlTemplate\",null),r.__decorate([y.property({type:_.default,json:{write:!0}})],t.prototype,\"wmtsInfo\",void 0),t=r.__decorate([y.subclass(\"esri.layers.WebTileLayer\")],t)}(v.RefreshableLayer(h.ScaleRangeLayer(f.OperationalLayer(m.PortalLayer(i.MultiOriginJSONMixin(d))))))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/WebTileLayer.js?')},\"./node_modules/arcgis-js-api/layers/support/TileMatrixSet.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ./TileInfo */ \"./node_modules/arcgis-js-api/layers/support/TileInfo.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,r,o,n,i,l){return function(t){function e(e){var r=t.call(this,e)||this;return r.fullExtent=null,r.id=null,r.tileInfo=null,r}var o;return r.__extends(e,t),o=e,e.prototype.clone=function(){var t=new o;return this.hasOwnProperty(\"fullExtent\")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty(\"id\")&&(t.id=this.id),this.hasOwnProperty(\"tileInfo\")&&(t.tileInfo=this.tileInfo&&this.tileInfo.clone()),t},r.__decorate([n.property({type:i,json:{read:{source:\"fullExtent\"}}})],e.prototype,\"fullExtent\",void 0),r.__decorate([n.property({type:String,json:{read:{source:\"id\"}}})],e.prototype,\"id\",void 0),r.__decorate([n.property({type:l,json:{read:{source:\"tileInfo\"}}})],e.prototype,\"tileInfo\",void 0),e=o=r.__decorate([n.subclass(\"esri.layer.support.TileMatrixSet\")],e)}(o.JSONSupport)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/TileMatrixSet.js?')},\"./node_modules/arcgis-js-api/layers/support/WMTSLayerInfo.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,o,i,a){Object.defineProperty(t,\"__esModule\",{value:!0});var p=function(e){function t(t){return e.call(this,t)||this}var o;return r.__extends(t,e),o=t,t.prototype.clone=function(){return new o({customLayerParameters:i.clone(this.customLayerParameters),customParameters:i.clone(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})},r.__decorate([a.property({json:{type:Object,write:!0}})],t.prototype,\"customLayerParameters\",void 0),r.__decorate([a.property({json:{type:Object,write:!0}})],t.prototype,\"customParameters\",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,\"layerIdentifier\",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,\"tileMatrixSet\",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,\"url\",void 0),t=o=r.__decorate([a.subclass(\"esri.layer.support.WMTSLayerInfo\")],t)}(o.JSONSupport);t.WMTSLayerInfo=p,t.default=p}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/WMTSLayerInfo.js?')},\"./node_modules/arcgis-js-api/layers/support/WMTSStyle.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,o,s){return function(e){function r(r){var t=e.call(this,r)||this;return t.id=null,t.title=null,t.description=null,t.legendUrl=null,t}var o;return t.__extends(r,e),o=r,r.prototype.clone=function(){var e=new o;return this.hasOwnProperty(\"description\")&&(e.description=this.description),this.hasOwnProperty(\"id\")&&(e.id=this.id),this.hasOwnProperty(\"isDefault\")&&(e.isDefault=this.isDefault),this.hasOwnProperty(\"keywords\")&&(e.keywords=this.keywords&&this.keywords.slice()),this.hasOwnProperty(\"legendUrl\")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty(\"title\")&&(e.title=this.title),e},t.__decorate([s.property({json:{read:{source:\"id\"}}})],r.prototype,\"id\",void 0),t.__decorate([s.property({json:{read:{source:\"title\"}}})],r.prototype,\"title\",void 0),t.__decorate([s.property({json:{read:{source:\"abstract\"}}})],r.prototype,\"description\",void 0),t.__decorate([s.property({json:{read:{source:\"legendUrl\"}}})],r.prototype,\"legendUrl\",void 0),t.__decorate([s.property({json:{read:{source:\"isDefault\"}}})],r.prototype,\"isDefault\",void 0),t.__decorate([s.property({json:{read:{source:\"keywords\"}}})],r.prototype,\"keywords\",void 0),r=o=t.__decorate([s.subclass(\"esri.layer.support.WMTSStyle\")],r)}(o.JSONSupport)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/WMTSStyle.js?')},\"./node_modules/arcgis-js-api/layers/support/WMTSSublayer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../core/Collection */ \"./node_modules/arcgis-js-api/core/Collection.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ./TileMatrixSet */ \"./node_modules/arcgis-js-api/layers/support/TileMatrixSet.js\"),__webpack_require__(/*! ./WMTSStyle */ \"./node_modules/arcgis-js-api/layers/support/WMTSStyle.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,r,i,o,s,l,n,a){return function(t){function e(e){var r=t.call(this,e)||this;return r.fullExtent=null,r.imageFormats=null,r.id=null,r.layer=null,r.styles=null,r.tileMatrixSetId=null,r.tileMatrixSets=null,r}var o;return r.__extends(e,t),o=e,Object.defineProperty(e.prototype,\"description\",{get:function(){return this._get(\"description\")},set:function(t){this._set(\"description\",t)},enumerable:!0,configurable:!0}),e.prototype.readFullExtent=function(t,e){return(t=e.fullExtent)?l.fromJSON(t):null},Object.defineProperty(e.prototype,\"imageFormat\",{get:function(){var t=this._get(\"imageFormat\");return t||(t=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:\"\"),t},set:function(t){var e=this.imageFormats;t&&(t.indexOf(\"image/\")>-1||e&&-1===e.indexOf(t))&&(-1===t.indexOf(\"image/\")&&(t=\"image/\"+t),e&&-1===e.indexOf(t))?console.error(\"The layer doesn\\'t support the format of \"+t):this._set(\"imageFormat\",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"styleId\",{get:function(){var t=this._get(\"styleId\");return t||(t=this.styles&&this.styles.length?this.styles.getItemAt(0).id:\"\"),t},set:function(t){this._set(\"styleId\",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"title\",{get:function(){return this._get(\"title\")},set:function(t){this._set(\"title\",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"tileMatrixSet\",{get:function(){var t=this;return this.tileMatrixSets?this.tileMatrixSets.find((function(e){return e.id===t.tileMatrixSetId})):null},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new o;return this.hasOwnProperty(\"description\")&&(t.description=this.description),this.hasOwnProperty(\"imageFormats\")&&(t.imageFormats=this.imageFormats&&this.imageFormats.slice()),this.hasOwnProperty(\"imageFormat\")&&(t.imageFormat=this.imageFormat),this.hasOwnProperty(\"fullExtent\")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty(\"id\")&&(t.id=this.id),this.hasOwnProperty(\"layer\")&&(t.layer=this.layer),this.hasOwnProperty(\"styleId\")&&(t.styleId=this.styleId),this.hasOwnProperty(\"styles\")&&(t.styles=this.styles&&this.styles.clone()),this.hasOwnProperty(\"tileMatrixSetId\")&&(t.tileMatrixSetId=this.tileMatrixSetId),this.hasOwnProperty(\"tileMatrixSets\")&&(t.tileMatrixSets=this.tileMatrixSets.clone()),this.hasOwnProperty(\"title\")&&(t.title=this.title),t},r.__decorate([s.property()],e.prototype,\"description\",null),r.__decorate([s.property()],e.prototype,\"fullExtent\",void 0),r.__decorate([s.reader(\"fullExtent\",[\"fullExtent\"])],e.prototype,\"readFullExtent\",null),r.__decorate([s.property({dependsOn:[\"imageFormats\"]})],e.prototype,\"imageFormat\",null),r.__decorate([s.property({json:{read:{source:\"formats\"}}})],e.prototype,\"imageFormats\",void 0),r.__decorate([s.property()],e.prototype,\"id\",void 0),r.__decorate([s.property()],e.prototype,\"layer\",void 0),r.__decorate([s.property({dependsOn:[\"styles\"]})],e.prototype,\"styleId\",null),r.__decorate([s.property({type:i.ofType(a),json:{read:{source:\"styles\"}}})],e.prototype,\"styles\",void 0),r.__decorate([s.property({value:null,json:{write:{ignoreOrigin:!0}}})],e.prototype,\"title\",null),r.__decorate([s.property()],e.prototype,\"tileMatrixSetId\",void 0),r.__decorate([s.property({readOnly:!0,dependsOn:[\"tileMatrixSetId\"]})],e.prototype,\"tileMatrixSet\",null),r.__decorate([s.property({type:i.ofType(n),json:{read:{source:\"tileMatrixSets\"}}})],e.prototype,\"tileMatrixSets\",void 0),e=o=r.__decorate([s.subclass(\"esri.layers.support.WMTSSublayer\")],e)}(o.JSONSupport)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/WMTSSublayer.js?')},\"./node_modules/arcgis-js-api/layers/support/wmtsUtils.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ../../geometry/Point */ \"./node_modules/arcgis-js-api/geometry/Point.js\"),__webpack_require__(/*! ../../geometry/SpatialReference */ \"./node_modules/arcgis-js-api/geometry/SpatialReference.js\"),__webpack_require__(/*! ../../geometry/support/WKIDUnitConversion */ \"./node_modules/arcgis-js-api/geometry/support/WKIDUnitConversion.js\"),__webpack_require__(/*! ./TileInfo */ \"./node_modules/arcgis-js-api/layers/support/TileInfo.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,i,n,a,l,o){Object.defineProperty(t,\"__esModule\",{value:!0});var s=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function u(e,t){var r=t.getElementsByTagName(e);return r&&r.length>0?r[0]:null}function p(e,t){return Array.prototype.slice.call(t.getElementsByTagName(e)).map((function(e){return e.textContent}))}function c(e,t){return e.split(\">\").forEach((function(e){t&&(t=u(e,t))})),t&&t.textContent}function f(e,t,r,i){var n;return Array.prototype.slice.call(i.childNodes).some((function(i){if(i.nodeName.indexOf(e)>-1){var a=u(t,i),l=a&&a.textContent;if(l===r||r.split(\":\")&&r.split(\":\")[1]===l)return n=i,!0}return!1})),n}function d(e,t){var r=[],i=e.layerMap.get(t);if(i){var n,a,l,o,s=Array.prototype.slice.call(i.getElementsByTagName(\"ResourceURL\")),u=i.getElementsByTagName(\"Dimension\");return u.length&&(n=c(\"Identifier\",u[0]),a=p(\"Default\",u[0])||p(\"Value\",u[0])),u.length>1&&(l=c(\"Identifier\",u[1]),o=p(\"Default\",u[1])||p(\"Value\",u[1])),e.dimensionMap.set(t,{dimensions:a,dimensions2:o}),s.forEach((function(e){var t=e.getAttribute(\"template\");if(\"tile\"===e.getAttribute(\"resourceType\")){var i;if(n&&a.length)if(t.indexOf(\"{\"+n+\"}\")>-1)t=t.replace(\"{\"+n+\"}\",\"{dimensionValue}\");else(i=t.toLowerCase().indexOf(\"{\"+n.toLowerCase()+\"}\"))>-1&&(t=t.substring(0,i)+\"{dimensionValue}\"+t.substring(i+n.length+2));if(l&&o.length)if(t.indexOf(\"{\"+l+\"}\")>-1)t=t.replace(\"{\"+l+\"}\",\"{dimensionValue2}\");else(i=t.toLowerCase().indexOf(\"{\"+l.toLowerCase()+\"}\"))>-1&&(t=t.substring(0,i)+\"{dimensionValue2}\"+t.substring(i+l.length+2));r.push({template:t,format:e.getAttribute(\"format\"),resourceType:\"tile\"})}})),r}}function g(e,t,r,i){var n,a=c(\"Identifier\",e),l=c(\"ScaleDenominator\",e).split(\"E\").map((function(e){return Number(e)})),o=m(t,n=l.length>1?l[0]*Math.pow(10,l[1]):l[0],i);return{level:r,levelValue:a,scale:n*=1.058267716535433,resolution:o}}function m(e,t,r){return 7*t/25e3/(l.hasOwnProperty(String(e))?l.values[l[e]]:\"default028mm\"===r?6370997*Math.PI/180:6378137*Math.PI/180)}t.parseCapabilities=function(e,t){e=e.replace(/ows:/gi,\"\");var l=(new DOMParser).parseFromString(e,\"text/xml\").documentElement,d=new Map,m=new Map,x=u(\"Contents\",l);if(!x)throw new r(\"wmtslayer:wmts-capabilities-xml-is-not-valid\");var h,y,v=u(\"OperationsMetadata\",l),T=v&&v.querySelector(\"[name=\\'GetTile\\']\"),w=T&&T.getElementsByTagName(\"Get\"),M=w&&Array.prototype.slice.call(w),E=t&&t.url&&t.url.indexOf(\"https\")>-1,S=t.serviceMode,V=t&&t.url;if(M&&M.length&&M.some((function(e){var t=u(\"Constraint\",e);return!t||f(\"AllowedValues\",\"Value\",S,t)?(V=e.attributes[0].nodeValue,!0):(!t||f(\"AllowedValues\",\"Value\",\"RESTful\",t)||f(\"AllowedValues\",\"Value\",\"REST\",t)?y=e.attributes[0].nodeValue:t&&!f(\"AllowedValues\",\"Value\",\"KVP\",t)||(h=e.attributes[0].nodeValue),!1)})),!V)if(y)V=y,S=\"RESTful\";else if(h)V=h,S=\"KVP\";else{var b=u(\"ServiceMetadataURL\",l);V=b&&b.getAttribute(\"xlink:href\")}var C=V.indexOf(\"1.0.0/\");return-1===C&&\"RESTful\"===S?V+=\"/\":C>-1&&(V=V.substring(0,C)),\"KVP\"===S&&(V+=C>-1?\"\":\"?\"),E&&(V=V.replace(/^http:/i,\"https:\")),{copyright:c(\"ServiceIdentification>AccessConstraints\",l),layers:Array.prototype.slice.call(x.getElementsByTagName(\"Layer\")).map((function(e){var t=c(\"Identifier\",e);return d.set(t,e),function(e,t,r,l){var d=c(\"Abstract\",t),m=p(\"Format\",t),x=function(e){var t=u(\"WGS84BoundingBox\",e),r=t?c(\"LowerCorner\",t).split(\" \"):[\"-180\",\"-90\"],i=t?c(\"UpperCorner\",t).split(\" \"):[\"180\",\"90\"];return{xmin:parseFloat(r[0]),ymin:parseFloat(r[1]),xmax:parseFloat(i[0]),ymax:parseFloat(i[1]),spatialReference:{wkid:4326}}}(t),h=function(e,t){return Array.prototype.slice.call(e.getElementsByTagName(\"Style\")).map((function(e){var r=u(\"LegendURL\",e),i=u(\"Keywords\",e),n=i&&p(\"Keyword\",i),a=r&&r.getAttribute(\"xlink:href\");return t&&(a=a&&a.replace(/^http:/i,\"https:\")),{abstract:c(\"Abstract\",e),id:c(\"Identifier\",e),isDefault:\"true\"===e.getAttribute(\"isDefault\"),keywords:n,legendUrl:a,title:c(\"Title\",e)}}))}(t,l),y=c(\"Title\",t),v=function(e,t){return p(\"TileMatrixSet\",e).map((function(r){return function(e,t,r){var l=p(\"TileMatrix\",f(\"TileMatrixSetLink\",\"TileMatrixSet\",e,t)),d=f(\"TileMatrixSet\",\"Identifier\",e,r),m=function(e){var t=c(\"SupportedCRS\",e);t&&(t=t.toLowerCase());var r=parseInt(t.split(\":\").pop(),10);900913!==r&&3857!==r||(r=102100);var i=!1;t.indexOf(\"crs84\")>-1||t.indexOf(\"crs:84\")>-1?(r=4326,i=!0):t.indexOf(\"crs83\")>-1||t.indexOf(\"crs:83\")>-1?(r=4269,i=!0):(t.indexOf(\"crs27\")>-1||t.indexOf(\"crs:27\")>-1)&&(r=4267,i=!0);var l,o=new a({wkid:r}),p=c(\"TopLeftCorner\",u(\"TileMatrix\",e)).split(\" \"),f=p[0].split(\"E\").map((function(e){return Number(e)})),d=p[1].split(\"E\").map((function(e){return Number(e)})),g=f[0],m=d[0];f.length>1&&(g=f[0]*Math.pow(10,f[1]));d.length>1&&(m=d[0]*Math.pow(10,d[1]));var x=i&&4326===r&&90===g&&-180===m;return s.some((function(e,a){var u=Number(t.split(\":\").pop());return u>=e[0]&&u<=e[1]||4326===r&&(!i||x)?(l=new n(m,g,o),!0):(a===s.length-1&&(l=new n(g,m,o)),!1)})),l}(d),x=m.spatialReference,h=x.wkid,y=u(\"TileMatrix\",d),v=[parseInt(c(\"TileWidth\",y),10),parseInt(c(\"TileHeight\",y),10)],T=[];if(l.length)l.forEach((function(t,r){var i=f(\"TileMatrix\",\"Identifier\",t,d);T.push(g(i,h,r,e))}));else{Array.prototype.slice.call(d.getElementsByTagName(\"TileMatrix\")).forEach((function(t,r){T.push(g(t,h,r,e))}))}var w=function(e,t,r,n){var a,l,o,s,p,f,d=u(\"BoundingBox\",e);d&&(a=c(\"LowerCorner\",d).split(\" \"),l=c(\"UpperCorner\",d).split(\" \"));if(a&&a.length>1&&l&&l.length>1)o=parseFloat(a[0]),p=parseFloat(a[1]),s=parseFloat(l[0]),f=parseFloat(l[1]);else{var g=u(\"TileMatrix\",e),m=parseFloat(c(\"MatrixWidth\",g)),x=parseFloat(c(\"MatrixHeight\",g));o=t.x,f=t.y,s=o+m*r[0]*n.resolution,p=f-x*r[1]*n.resolution}return new i(o,p,s,f,t.spatialReference)}(d,m,v,T[0]);return{id:e,fullExtent:w.toJSON(),tileInfo:new o({dpi:96,spatialReference:x,size:v,origin:m,lods:T}).toJSON()}}(r,e,t)}))}(t,r);return{id:e,fullExtent:x,description:d,formats:m,styles:h,title:y,tileMatrixSets:v}}(t,e,x,E)})),tileUrl:V,serviceMode:S,layerMap:d,dimensionMap:m}},t.parseResourceInfo=function(e){return e.layers.forEach((function(e){e.tileMatrixSets.forEach((function(e){var t=e.tileInfo;96!==t.dpi&&(t.lods.forEach((function(r){r.scale=96*r.scale/t.dpi,r.resolution=m(t.spatialReference.wkid,90.71428571428571*r.scale/96,e.id)})),t.dpi=96)}))})),e},t.getTileUrlFromResourceUrls=function(e,t,r,i,n,a,l,o){var s=e.dimensionMap,u=d(e,t),p=s.get(t).dimensions&&s.get(t).dimensions[0],c=s.get(t).dimensions2&&s.get(t).dimensions2[0],f=\"\";if(u&&u.length>0){var g=null;u.some((function(e){return e.format===i&&(g=e,!0)})),g||(g=u[l%u.length]),f=g.template.replace(/\\\\{Style\\\\}/gi,n).replace(/\\\\{TileMatrixSet\\\\}/gi,r).replace(/\\\\{TileMatrix\\\\}/gi,a).replace(/\\\\{TileRow\\\\}/gi,\"\"+l).replace(/\\\\{TileCol\\\\}/gi,\"\"+o).replace(/\\\\{dimensionValue\\\\}/gi,p).replace(/\\\\{dimensionValue2\\\\}/gi,c)}return f},t.getTileUrlTemplateFromResourceUrls=function(e,t,r,i){var n=e.dimensionMap,a=d(e,t),l=\"\";if(a&&a.length>0){var o=n.get(t).dimensions&&n.get(t).dimensions[0],s=n.get(t).dimensions2&&n.get(t).dimensions2[0];(l=a[0].template).indexOf(\".xxx\")===l.length-4&&(l=l.slice(0,l.length-4)),l=(l=(l=(l=(l=(l=(l=l.replace(/\\\\{Style\\\\}/gi,i)).replace(/\\\\{TileMatrixSet\\\\}/gi,r)).replace(/\\\\{TileMatrix\\\\}/gi,\"{level}\")).replace(/\\\\{TileRow\\\\}/gi,\"{row}\")).replace(/\\\\{TileCol\\\\}/gi,\"{col}\")).replace(/\\\\{dimensionValue\\\\}/gi,o)).replace(/\\\\{dimensionValue2\\\\}/gi,s)}return l}}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/wmtsUtils.js?')}}]);","extractedComments":[]}