{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({\"esri/tasks/RouteTask\":\"./node_modules/arcgis-js-api/tasks/RouteTask.js\",\"esri/tasks/support/RouteResult\":\"./node_modules/arcgis-js-api/tasks/support/RouteResult.js\",\"esri/tasks/support/RouteResultsContainer\":\"./node_modules/arcgis-js-api/tasks/support/RouteResultsContainer.js\"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{\"./node_modules/arcgis-js-api/tasks/RouteTask.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../request */ \"./node_modules/arcgis-js-api/request.js\"),__webpack_require__(/*! ../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../core/queryUtils */ \"./node_modules/arcgis-js-api/core/queryUtils.js\"),__webpack_require__(/*! ../core/string */ \"./node_modules/arcgis-js-api/core/string.js\"),__webpack_require__(/*! ../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../geometry/support/normalizeUtils */ \"./node_modules/arcgis-js-api/geometry/support/normalizeUtils.js\"),__webpack_require__(/*! ./Task */ \"./node_modules/arcgis-js-api/tasks/Task.js\"),__webpack_require__(/*! ./mixins/NAServiceDescription */ \"./node_modules/arcgis-js-api/tasks/mixins/NAServiceDescription.js\"),__webpack_require__(/*! ./support/RouteResultsContainer */ \"./node_modules/arcgis-js-api/tasks/support/RouteResultsContainer.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,s,i,o,n,a,u,l,p,c){var f=o.createQueryParamsHelper({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});return function(e){function r(r){return e.call(this,r)||this}return t.__extends(r,e),r.prototype.solve=function(e,r){var o=this,a=[],l=[],p={},c={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,l,\"stops.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,l,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,l,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,l,\"polygonBarriers.features\",p),u.normalizeCentralMeridian(l).then((function(e){for(var r in p){var t=p[r];a.push(r),c[r]=e.slice(t[0],t[1])}return o._isInputGeometryZAware(c,a)?o.getServiceDescription():i.resolve({dontCheck:!0})})).then((function(i){(\"dontCheck\"in i?i.dontCheck:i.hasZ)||o._dropZValuesOffInputGeometry(c,a);var u=function(r){c[r].forEach((function(t,s){e.get(r)[s].geometry=t}))};for(var l in c)u(l);var p={query:t.__assign(t.__assign(t.__assign({},o.parsedUrl.query),{f:\"json\"}),f.toQueryParams(e))};(o.requestOptions||r)&&(p=t.__assign(t.__assign(t.__assign({},o.requestOptions),r),p));var m=o.parsedUrl.path,d=n.endsWith(m,\"/solve\")?m:m+\"/solve\";return s(d,p)})).then((function(e){return o._handleSolveResponse(e)}))},r.prototype._collectGeometries=function(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},r.prototype._handleSolveResponse=function(e){var r,t,s=[],i=[],o=e.data,n=o.directions,a=void 0===n?[]:n,u=o.routes,l=void 0===u?{}:u,p=l.features,f=void 0===p?[]:p,m=l.spatialReference,d=void 0===m?null:m,h=o.stops,y=void 0===h?{}:h,g=y.features,v=void 0===g?[]:g,_=y.spatialReference,B=void 0===_?null:_,R=o.barriers,b=o.polygonBarriers,N=o.polylineBarriers,A=o.messages,S=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\",k=!0,O=f&&d||v&&B||R&&R.spatialReference||b&&b.spatialReference||N&&N.spatialReference;a.forEach((function(e){s.push(r=e.routeName),i[r]={directions:e}})),f.forEach((function(e){-1===s.indexOf(r=e.attributes.Name)&&(s.push(r),i[r]={}),e.geometry&&(e.geometry.spatialReference=O),i[r].route=e})),v.forEach((function(e){t=e.attributes,-1===s.indexOf(r=t.RouteName||S)&&(s.push(r),i[r]={}),r!==S&&(k=!1),e.geometry&&(e.geometry.spatialReference=O),null==i[r].stops&&(i[r].stops=[]),i[r].stops.push(e)})),v.length>0&&!0===k&&(i[s[0]].stops=i[S].stops,delete i[S],s.splice(s.indexOf(S),1));var q=s.map((function(e){return i[e].routeName=e===S?null:e,i[e]}));return c.fromJSON({routeResults:q,pointBarriers:R,polygonBarriers:b,polylineBarriers:N,messages:A})},r=t.__decorate([a.subclass(\"esri.tasks.RouteTask\")],r)}(p.NAServiceDescriptionMixin(l))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/RouteTask.js?')},\"./node_modules/arcgis-js-api/tasks/support/RouteResult.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../Graphic */ \"./node_modules/arcgis-js-api/Graphic.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ./DirectionsFeatureSet */ \"./node_modules/arcgis-js-api/tasks/support/DirectionsFeatureSet.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,r,o,p,s,i){return function(t){function e(e){var r=t.call(this,e)||this;return r.directions=null,r.route=null,r.routeName=null,r.stops=null,r}return r.__extends(e,t),r.__decorate([s.property({type:i,json:{write:!0}})],e.prototype,\"directions\",void 0),r.__decorate([s.property({type:o,json:{write:!0}})],e.prototype,\"route\",void 0),r.__decorate([s.property({type:String,json:{write:!0}})],e.prototype,\"routeName\",void 0),r.__decorate([s.property({type:[o],json:{write:!0}})],e.prototype,\"stops\",void 0),e=r.__decorate([s.subclass(\"esri.tasks.support.RouteResult\")],e)}(p.JSONSupport)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/RouteResult.js?')},\"./node_modules/arcgis-js-api/tasks/support/RouteResultsContainer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../Graphic */ \"./node_modules/arcgis-js-api/Graphic.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators/reader */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators/reader.js\"),__webpack_require__(/*! ./FeatureSet */ \"./node_modules/arcgis-js-api/tasks/support/FeatureSet.js\"),__webpack_require__(/*! ./NAMessage */ \"./node_modules/arcgis-js-api/tasks/support/NAMessage.js\"),__webpack_require__(/*! ./RouteResult */ \"./node_modules/arcgis-js-api/tasks/support/RouteResult.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(r,e,o,t,p,a,i,s,n,l){function u(r){return r&&s.fromJSON(r).features.map((function(r){return r}))}return function(r){function e(e){var o=r.call(this,e)||this;return o.barriers=null,o.messages=null,o.pointBarriers=null,o.polylineBarriers=null,o.polygonBarriers=null,o.routeResults=null,o}return o.__extends(e,r),e.prototype.readPointBarriers=function(r,e){return u(e.barriers||e.pointBarriers)},e.prototype.readPolylineBarriers=function(r){return u(r)},e.prototype.readPolygonBarriers=function(r){return u(r)},o.__decorate([a.property({aliasOf:\"pointBarriers\"})],e.prototype,\"barriers\",void 0),o.__decorate([a.property({type:[n]})],e.prototype,\"messages\",void 0),o.__decorate([a.property({type:[t]})],e.prototype,\"pointBarriers\",void 0),o.__decorate([i.reader(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],e.prototype,\"readPointBarriers\",null),o.__decorate([a.property({type:[t]})],e.prototype,\"polylineBarriers\",void 0),o.__decorate([i.reader(\"polylineBarriers\")],e.prototype,\"readPolylineBarriers\",null),o.__decorate([a.property({type:[t]})],e.prototype,\"polygonBarriers\",void 0),o.__decorate([i.reader(\"polygonBarriers\")],e.prototype,\"readPolygonBarriers\",null),o.__decorate([a.property({type:[l]})],e.prototype,\"routeResults\",void 0),e=o.__decorate([a.subclass(\"esri.tasks.support.RouteResultsContainer\")],e)}(p.JSONSupport)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/RouteResultsContainer.js?')}}]);","extractedComments":[]}