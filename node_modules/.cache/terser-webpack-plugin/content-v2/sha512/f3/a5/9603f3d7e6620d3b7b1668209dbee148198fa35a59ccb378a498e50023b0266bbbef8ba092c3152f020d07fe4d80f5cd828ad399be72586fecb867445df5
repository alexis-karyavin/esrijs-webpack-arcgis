{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({\"esri/libs/i3s/I3SWorker\":\"./node_modules/arcgis-js-api/libs/i3s/I3SWorker.js\",\"esri/views/3d/layers/SceneLayerWorker\":\"./node_modules/arcgis-js-api/views/3d/layers/SceneLayerWorker.js\"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{\"./node_modules/arcgis-js-api/libs/i3s/I3SWorker.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../assets */ \"./node_modules/arcgis-js-api/assets.js\"),__webpack_require__(/*! ../../core/has */ \"./node_modules/arcgis-js-api/core/has.js\"),__webpack_require__(/*! ../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! @dojo/framework/shim/Promise */ \"./node_modules/@dojo/framework/shim/Promise.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,n,r,t,i){function o(e){return r.getAssetUrl(\"esri/libs/i3s/\"+e)}var s;Object.defineProperty(n,\"__esModule\",{value:!0}),n.getWorkerModule=function(){if(!s){var n=t(\"esri-wasm\")?new Promise((function(n,r){__webpack_require__.e(/*! AMD require */ 144).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(/*! ./i3s */ \"./node_modules/arcgis-js-api/libs/i3s/i3s.js\")]; (n).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}.bind(this)).catch(r.bind(this))})):new Promise((function(n,r){__webpack_require__.e(/*! AMD require */ 145).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(/*! ./i3s_nowasm */ \"./node_modules/arcgis-js-api/libs/i3s/i3s_nowasm.js\")]; (n).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}.bind(this)).catch(r.bind(this))}));s=i.create((function(e){return n.then((function(n){var r=n({locateFile:o,onRuntimeInitialized:function(){return e(r)}});delete r.then}))})).catch((function(e){return i.reject(e)}))}return s}}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/libs/i3s/I3SWorker.js?')},\"./node_modules/arcgis-js-api/views/3d/layers/SceneLayerWorker.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../core/maybe */ \"./node_modules/arcgis-js-api/core/maybe.js\"),__webpack_require__(/*! ../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../core/typedArrayUtil */ \"./node_modules/arcgis-js-api/core/typedArrayUtil.js\"),__webpack_require__(/*! ../../../libs/i3s/I3SWorker */ \"./node_modules/arcgis-js-api/libs/i3s/I3SWorker.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,n,o,i,s){var f,a,u=function(){function e(){}return e.prototype.process=function(t){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.ensureWASM()];case 1:return r.sent(),n=[t.geometryBuffer],[2,{result:l(t,n),transferList:n}]}}))}))},e.prototype.setModifications=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.ensureWASM()];case 1:return r.sent(),c(t),[2]}}))}))},e.prototype.setLegacySchema=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.ensureWASM()];case 1:return r.sent(),a.setLegacySchema(t.context,t.jsonSchema),[2]}}))}))},e.prototype.destroyContext=function(e){b(e)},e}();function c(e){for(var t=e.modifications,r=a._malloc(8*t.length),n=new Float64Array(a.HEAPU8.buffer,r,t.length),o=0;o<t.length;++o)n[o]=t[o];a.setModifications(e.context,r,t.length),a._free(r)}function l(e,t){if(!a)return null;var r=e.context,o=e.localOrigin,s=e.globalTrafo,f=e.mbs,u=e.elevationOffset,c=e.geometryBuffer,l=e.geometryDescriptor,b=e.indexToVertexProjector,d=e.vertexToRenderProjector,m=a._malloc(c.byteLength),h=a._malloc(33*Float64Array.BYTES_PER_ELEMENT),p=new Uint8Array(a.HEAPU8.buffer,m,c.byteLength);p.set(new Uint8Array(c));var E=new Float64Array(a.HEAPU8.buffer,h,33);y(E,o);var _=E.byteOffset+3*E.BYTES_PER_ELEMENT,g=new Float64Array(E.buffer,_);y(g,s),_+=16*E.BYTES_PER_ELEMENT,y(g=new Float64Array(E.buffer,_),f),_+=4*E.BYTES_PER_ELEMENT,n.isSome(e.obb)&&(y(g=new Float64Array(E.buffer,_),e.obb.center),_+=3*E.BYTES_PER_ELEMENT,y(g=new Float64Array(E.buffer,_),e.obb.halfSize),_+=3*E.BYTES_PER_ELEMENT,y(g=new Float64Array(E.buffer,_),e.obb.quaternion));var v=l,A={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return\"color\"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return\"normalCompressed\"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return\"uv0\"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return\"uvRegion\"===e.name}))})),featureIndex:v.featureIndex},w=a.process(r,!!e.obb,m,p.byteLength,v,A,h,u,b,d,e.normalReferenceFrame);if(a._free(h),a._free(m),w.error.length>0)throw\"i3s.wasm: \"+w.error;if(w.discarded)return null;var L=w.componentOffsets.length>0?i.slice(w.componentOffsets):null,T=w.featureIds.length>0?i.slice(w.featureIds):null,S=i.slice(w.interleavedVertedData).buffer,M=1===w.indicesType?i.slice(new Uint16Array(w.indices.buffer,w.indices.byteOffset,w.indices.byteLength/2)):i.slice(new Uint32Array(w.indices.buffer,w.indices.byteOffset,w.indices.byteLength/4)),I=i.slice(w.positions),x=1===w.positionIndicesType?i.slice(new Uint16Array(w.positionIndices.buffer,w.positionIndices.byteOffset,w.positionIndices.byteLength/2)):i.slice(new Uint32Array(w.positionIndices.buffer,w.positionIndices.byteOffset,w.positionIndices.byteLength/4)),P={layout:e.layouts[0],interleavedVertexData:S,indices:M,hasColors:w.hasColors,positionData:{data:I,indices:x}};return T&&t.push(T.buffer),L&&t.push(L.buffer),t.push(S),t.push(M.buffer),t.push(I.buffer),t.push(x.buffer),{componentOffsets:L,featureIds:T,transformedGeometry:P,obb:w.obb}}function b(e){a&&a.destroy(e)}function y(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}return function(e){e.ensureWASM=function(){return a?o.resolve():(f||(f=s.getWorkerModule().then((function(e){a=e,f=null}))),f)},e.test={transform:l,setModifications:c,destroy:b}}(u||(u={})),u}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/3d/layers/SceneLayerWorker.js?')}}]);","extractedComments":[]}