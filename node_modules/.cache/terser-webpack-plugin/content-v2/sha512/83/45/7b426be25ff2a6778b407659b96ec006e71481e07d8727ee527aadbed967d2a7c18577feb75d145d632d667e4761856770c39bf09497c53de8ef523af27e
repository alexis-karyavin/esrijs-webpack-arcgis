{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({\"esri/views/2d/engine/vectorTiles/BackgroundBucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/BackgroundBucket.js\",\"esri/views/2d/engine/vectorTiles/Bucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\",\"esri/views/2d/engine/vectorTiles/CircleBucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/CircleBucket.js\",\"esri/views/2d/engine/vectorTiles/Conflict\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Conflict.js\",\"esri/views/2d/engine/vectorTiles/Feature\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Feature.js\",\"esri/views/2d/engine/vectorTiles/FillBucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/FillBucket.js\",\"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/IndexMemoryBuffer.js\",\"esri/views/2d/engine/vectorTiles/LineBucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/LineBucket.js\",\"esri/views/2d/engine/vectorTiles/MemoryBuffer\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/MemoryBuffer.js\",\"esri/views/2d/engine/vectorTiles/Placement\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Placement.js\",\"esri/views/2d/engine/vectorTiles/ScriptUtils\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/ScriptUtils.js\",\"esri/views/2d/engine/vectorTiles/SourceLayerData\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SourceLayerData.js\",\"esri/views/2d/engine/vectorTiles/SymbolBucket\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SymbolBucket.js\",\"esri/views/2d/engine/vectorTiles/TextShaping\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TextShaping.js\",\"esri/views/2d/engine/vectorTiles/TileParser\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TileParser.js\",\"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/VertexMemoryBuffer.js\",\"esri/views/2d/engine/vectorTiles/WorkerTile\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTile.js\",\"esri/views/2d/engine/vectorTiles/WorkerTileHandler\":\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTileHandler.js\",\"esri/views/2d/tiling/enums\":\"./node_modules/arcgis-js-api/views/2d/tiling/enums.js\"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/BackgroundBucket.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ./Bucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,n,r){return function(t){function e(e,n){return t.call(this,e,n)||this}return n.__extends(e,t),e.prototype.processFeatures=function(){},e.prototype.assignBufferInfo=function(){},e}(r)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/BackgroundBucket.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\":function(module,exports,__webpack_require__){eval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e){return function(){function t(t,e){this.layerExtent=4096,this._features=[],this.layer=t,this.zoom=e,this._filter=t.getFeatureFilter()}return t.prototype.pushFeature=function(t){this._filter.filter(t)&&this._features.push(t)},t.prototype.hasFeatures=function(){return this._features.length>0},t}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js?\")},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/CircleBucket.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ./Bucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,i){return function(e){function t(t,r,i,a){var n=e.call(this,t,r)||this;return n._circleVertexBuffer=i,n._circleIndexBuffer=a,n}return r.__extends(t,e),Object.defineProperty(t.prototype,\"circleIndexStart\",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"circleIndexCount\",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._circleIndexStart=this._circleIndexStart,t._circleIndexCount=this._circleIndexCount},t.prototype.processFeatures=function(e){var t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=r.index,this._circleIndexCount=0;var i=this.layer,a=this.zoom;e&&e.setExtent(this.layerExtent);for(var n=1,c=[1,1,1,1],o=1,l=0,u=1,s=[1,1,1,1],d=1,f=0,h=this._features;f<h.length;f++){var x=h[f],v=x.getGeometry(e);if(v){i.hasDataDrivenRadius&&(n=i.getPaintValue(\"circle-radius\",a,x)),i.hasDataDrivenColor&&(c=i.getPaintValue(\"circle-color\",a,x)),i.hasDataDrivenOpacity&&(o=i.getPaintValue(\"circle-opacity\",a,x)),i.hasDataDrivenStrokeWidth&&(u=i.getPaintValue(\"circle-stroke-width\",a,x)),i.hasDataDrivenStrokeColor&&(s=i.getPaintValue(\"circle-stroke-color\",a,x)),i.hasDataDrivenStrokeOpacity&&(d=i.getPaintValue(\"circle-stroke-opacity\",a,x)),i.hasDataDrivenBlur&&(l=i.getPaintValue(\"circle-blur\",a,x));for(var y=0,g=v;y<g.length;y++){var p=g[y];if(p)for(var _=0,D=p;_<D.length;_++){var I=D[_],P=t.index;t.add(I.x,I.y,0,0,n,c,o,l,u,s,d),t.add(I.x,I.y,0,1,n,c,o,l,u,s,d),t.add(I.x,I.y,1,0,n,c,o,l,u,s,d),t.add(I.x,I.y,1,1,n,c,o,l,u,s,d),r.add(P+0,P+1,P+2),r.add(P+1,P+2,P+3),this._circleIndexCount+=6}}}}},t}(i)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/CircleBucket.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Conflict.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../../../core/mathUtils */ \"./node_modules/arcgis-js-api/core/mathUtils.js\"),__webpack_require__(/*! ./GeometryUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/GeometryUtils.js\"),__webpack_require__(/*! ../webgl/Geometry */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(r,o,n,t,e){Object.defineProperty(o,\"__esModule\",{value:!0});var c=function(){function r(r,o,n,t){this.left=r,this.top=o,this.right=n,this.bottom=t}return r.prototype.clone=function(){return new r(this.left,this.top,this.right,this.bottom)},r.prototype.move=function(r,o){this.left+=r,this.top+=o,this.right+=r,this.bottom+=o},r.prototype.rotate=function(r,o){var n=this.left,t=this.right,e=this.top,c=this.bottom,s=n*r-e*o,i=n*o+e*r,a=t*r-e*o,h=t*o+e*r,x=n*r-c*o,m=n*o+c*r,y=t*r-c*o,f=t*o+c*r;this.left=Math.min(s,a,x,y),this.top=Math.min(i,h,m,f),this.right=Math.max(s,a,x,y),this.bottom=Math.max(i,h,m,f)},r.overlaps=function(r,o){return r.right>o.left&&r.left<o.right&&r.bottom>o.top&&r.top<o.bottom},r}();o.Box=c;var s=function(){function r(r,o,n,t){this.anchor=r,this.corners=o,this.minzoom=n,this.maxzoom=t}return r.prototype.left=function(){return this.corners[0].x},r.prototype.right=function(){return this.corners[2].x},r.prototype.top=function(){return this.corners[1].y},r.prototype.bottom=function(){return this.corners[3].y},r}();o.Obstacle=s;var i=function(){function r(r,o,n){this.obstacles=[],this.mapAngle=r,this.padding=o,this.isScreenAligned=n,this.minzoom=a}return r.prototype.addBox=function(r,o,n,t,c,i,a){var h=o.left*n-this.padding,x=o.top*n-this.padding,m=o.right*n+this.padding,y=o.bottom*n+this.padding,f=[new e.Point(h,x),new e.Point(m,x),new e.Point(m,y),new e.Point(h,y)];if(0!==this.mapAngle){var l=Math.cos(this.mapAngle),p=Math.sin(this.mapAngle);(r=r.clone()).rotate(l,p)}if(this.isScreenAligned||(t+=this.mapAngle),0!==t){l=Math.cos(t),p=Math.sin(t);f[0].rotate(l,p),f[1].rotate(l,p),f[2].rotate(l,p),f[3].rotate(l,p);for(var u=0,g=1;g<4;g++)f[g].x<f[u].x?u=g:f[g].x===f[u].x&&f[g].y<f[u].y&&(u=g);if(u){var v=[];for(g=0;g<4;g++)v.push(f[(g+u)%4]);f=v}}if(c)for(var d=0,_=f;d<_.length;d++){_[d].move(c[0],c[1])}this.obstacles.push(new s(r,f,i,a))},r}();o.Footprint=i;var a=.5,h=function(){function r(){this._grid=[]}return r.prototype.reset=function(){this._grid=[]},r.prototype.add=function(o){for(var n=this._grid,t=0,e=o.obstacles;t<e.length;t++)for(var c=e[t],s=c.anchor,i=r._gridClamp(Math.min(c.left()+s.x,s.x)),a=r._gridClamp(Math.max(c.right()+s.x,s.x)),h=r._gridClamp(Math.min(c.top()+s.y,s.y)),x=r._gridClamp(Math.max(c.bottom()+s.y,s.y)),m=h;m<=x;m++)for(var y=i;y<=a;y++){var f=n[16*m+y];f||(f=n[16*m+y]=[]),f.push(c)}},r.prototype.getMinZoom=function(o,n){if(0===o.obstacles.length)return t.C_INFINITY;for(var e=n,c=this._grid,s=0,i=o.obstacles;s<i.length;s++)for(var a=i[s],h=a.anchor,x=r._gridClamp(Math.min(a.left()+h.x,h.x)),m=r._gridClamp(Math.max(a.right()+h.x,h.x)),y=r._gridClamp(Math.min(a.top()+h.y,h.y)),f=r._gridClamp(Math.max(a.bottom()+h.y,h.y)),l=y;l<=f;l++)for(var p=x;p<=m;p++){var u=c[16*l+p];if(u)for(var g=0,v=u;g<v.length;g++){var d=v[g];if(!(a.minzoom>=d.maxzoom||d.minzoom>=a.maxzoom)&&(e=r._calcPlacementZoom(a,d,e))>=2)return t.C_INFINITY}}return e<2?e:t.C_INFINITY},r._gridClamp=function(r){return n.clamp(r>>9,-7,8)},r._calcPlacementZoom=function(o,n,e){var c=n.anchor.x-o.anchor.x;if(0===c&&(o.right()<n.left()||n.right()<o.left()))return e;var s=n.anchor.y-o.anchor.y;if(0===s&&(o.bottom()<n.top()||n.bottom()<o.top()))return e;var i=t.C_INFINITY;if(0!==c){var a=(c>0?o.right()-n.left():o.left()-n.right())/c;a<i&&(i=a);var h=c>0?r._calcExtZoomX(o,n,a):r._calcExtZoomX(n,o,a);h<i&&(i=h)}if(0!==s){var x=(s>0?o.bottom()-n.top():o.top()-n.bottom())/s;x<i&&(i=x);var m=s>0?r._calcExtZoomY(o,n,x):r._calcExtZoomY(n,o,x);m<i&&(i=m)}return i<o.minzoom||i<n.minzoom?e:((i=Math.min(i,o.maxzoom,n.maxzoom))<e&&(i=e),i)},r._calcExtZoomX=function(r,o,n){var t,e,c,s;if(r.anchor.y+r.corners[2].y/n<o.anchor.y+o.corners[0].y/n){var i=r.corners[2].x-r.corners[3].x,a=r.corners[2].y-r.corners[3].y,h=o.corners[1].x-o.corners[0].x;i*(o.corners[1].y-o.corners[0].y)-a*h>=0?r.anchor.y+r.corners[3].y/n<o.anchor.y+o.corners[0].y/n?(t=r.corners[3],e=o.corners[0],c=o.corners[1],s=1):(t=o.corners[0],e=r.corners[3],c=r.corners[2],s=-1):r.anchor.y+r.corners[2].y/n>o.anchor.y+o.corners[1].y/n?(t=r.corners[2],e=o.corners[0],c=o.corners[1],s=1):(t=o.corners[1],e=r.corners[3],c=r.corners[2],s=-1)}else{i=r.corners[2].x-r.corners[1].x,a=r.corners[2].y-r.corners[1].y,h=o.corners[3].x-o.corners[0].x;i*(o.corners[3].y-o.corners[0].y)-a*h<0?r.anchor.y+r.corners[1].y/n>o.anchor.y+o.corners[0].y/n?(t=r.corners[1],e=o.corners[0],c=o.corners[3],s=1):(t=o.corners[0],e=r.corners[1],c=r.corners[2],s=-1):r.anchor.y+r.corners[2].y/n<o.anchor.y+o.corners[3].y/n?(t=r.corners[2],e=o.corners[0],c=o.corners[3],s=1):(t=o.corners[3],e=r.corners[1],c=r.corners[2],s=-1)}var x=c.x-e.x,m=c.y-e.y;return s*((t.y-e.y)*x-(t.x-e.x)*m)/((r.anchor.x-o.anchor.x)*m-(r.anchor.y-o.anchor.y)*x)},r._calcExtZoomY=function(r,o,n){var t,e,c,s;if(r.anchor.x+r.corners[3].x/n<o.anchor.x+o.corners[1].x/n){var i=r.corners[3].x-r.corners[2].x,a=r.corners[3].y-r.corners[2].y,h=o.corners[0].x-o.corners[1].x;i*(o.corners[0].y-o.corners[1].y)-a*h<0?r.anchor.x+r.corners[2].x/n<o.anchor.x+o.corners[1].x/n?(t=r.corners[2],e=o.corners[1],c=o.corners[0],s=1):(t=o.corners[1],e=r.corners[2],c=r.corners[3],s=-1):r.anchor.x+r.corners[3].x/n>o.anchor.x+o.corners[0].x/n?(t=r.corners[3],e=o.corners[1],c=o.corners[0],s=1):(t=o.corners[0],e=r.corners[2],c=r.corners[3],s=-1)}else{i=r.corners[3].x-r.corners[0].x,a=r.corners[3].y-r.corners[0].y,h=o.corners[2].x-o.corners[1].x;i*(o.corners[2].y-o.corners[1].y)-a*h>0?r.anchor.x+r.corners[0].x/n>o.anchor.x+o.corners[1].x/n?(t=r.corners[0],e=o.corners[1],c=o.corners[2],s=1):(t=o.corners[1],e=r.corners[0],c=r.corners[3],s=-1):r.anchor.x+r.corners[3].x/n<o.anchor.x+o.corners[2].x/n?(t=r.corners[3],e=o.corners[1],c=o.corners[2],s=1):(t=o.corners[2],e=r.corners[0],c=r.corners[3],s=-1)}var x=c.x-e.x,m=c.y-e.y;return s*((t.y-e.y)*x-(t.x-e.x)*m)/((r.anchor.x-o.anchor.x)*m-(r.anchor.y-o.anchor.y)*x)},r}();o.ConflictEngine=h}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Conflict.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Feature.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../webgl/Geometry */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r){return function(){function e(e,t){this.values={};for(var r=t.keys,s=t.values;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:for(var a=e.getMessage(),n=this.values;!a.empty();){var i=a.getUInt32(),o=a.getUInt32();n[r[i]]=s[o]}a.release();break;case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}return e.prototype.getGeometry=function(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var t,s,a=this._pbfGeometry;this._pbfGeometry=null,e?e.reset(this.type):t=[];for(var n,i=1,o=0,u=0,h=0;!a.empty();){if(0===o){var g=a.getUInt32();i=7&g,o=g>>3}switch(o--,i){case 1:u+=a.getSInt32(),h+=a.getSInt32(),e?e.moveTo(u,h):(s&&t.push(s),(s=[]).push(new r.Point(u,h)));break;case 2:u+=a.getSInt32(),h+=a.getSInt32(),e?e.lineTo(u,h):s.push(new r.Point(u,h));break;case 7:e?e.close():s&&!s[0].equals(u,h)&&s.push(s[0].clone());break;default:throw a.release(),new Error(\"Invalid path operation\")}}return e?n=e.result():(s&&t.push(s),n=t),a.release(),this._geometry=n,n},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Feature.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/FillBucket.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../core/ArrayPool */ \"./node_modules/arcgis-js-api/core/ArrayPool.js\"),__webpack_require__(/*! ../../../../core/libs/earcut/earcut */ \"./node_modules/arcgis-js-api/core/libs/earcut/earcut.js\"),__webpack_require__(/*! ./Bucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\"),__webpack_require__(/*! ../webgl/Geometry */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,i,r,n,a,l){return function(e){function t(t,i,r,n,a,l){var o=e.call(this,t,i)||this;if(t.hasDataDrivenFill!==r.isDataDriven())throw new Error(\"incompatible fill buffer\");if(t.hasDataDrivenOutline!==a.isDataDriven())throw new Error(\"incompatible outline buffer\");return o._fillVertexBuffer=r,o._fillIndexBuffer=n,o._outlineVertexBuffer=a,o._outlineIndexBuffer=l,o}return i.__extends(t,e),Object.defineProperty(t.prototype,\"fillIndexStart\",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fillIndexCount\",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"outlineIndexStart\",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"outlineIndexCount\",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._fillIndexStart=this._fillIndexStart,t._fillIndexCount=this._fillIndexCount,e.layer.getPaintProperty(\"fill-outline-color\")?(t._outlineIndexStart=this._outlineIndexStart,t._outlineIndexCount=this._outlineIndexCount):(t._outlineIndexStart=0,t._outlineIndexCount=0)},t.prototype.processFeatures=function(e){this._fillIndexStart=this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=this._outlineIndexBuffer.index,this._outlineIndexCount=0;var t=this.layer,i=this.zoom,r=t.hasDataDrivenFill,n=t.hasDataDrivenOutline;e&&e.setExtent(this.layerExtent);var a=t.getPaintValue(\"fill-pattern\",i),l=t.getPaintValue(\"fill-antialias\",i)&&void 0===a,o=[1,1,1,1],u=[1,1,1,1],f=1;if(t.outlineUsesFillColor){if(l&&!t.hasDataDrivenOpacity){var d=t.getPaintValue(\"fill-opacity\",i),s=t.getPaintValue(\"fill-opacity\",i+1);d<1&&s<1&&(l=!1)}if(l&&!t.hasDataDrivenColor){var x=t.getPaintValue(\"fill-color\",i),h=t.getPaintValue(\"fill-color\",i+1);x[3]<1&&h[3]<1&&(l=!1)}}for(var c=0,y=this._features;c<y.length;c++){var p=y[c];!a&&t.hasDataDrivenColor&&(o=t.getPaintValue(\"fill-color\",i,p)),t.hasDataDrivenOpacity&&(f=t.getPaintValue(\"fill-opacity\",i,p)),!a&&t.hasDataDrivenOutlineColor&&(u=t.getPaintValue(\"fill-outline-color\",i,p));var v=void 0;r&&(v={color:o,opacity:f});var _=void 0;n&&(_={color:t.outlineUsesFillColor?o:u,opacity:f});var g=p.getGeometry(e);this._processFeature(g,l,t.outlineUsesFillColor,v,_)}},t.prototype._processFeature=function(e,i,r,n,a){if(e){var l=e.length;if(i&&(!r||!a||a.color[3]*a.opacity==1))for(var o=0;o<l;o++)this._processOutline(e[o],a);var u;for(o=0;o<l;o++){var f=t._area(e[o]);f>128?(void 0!==u&&this._processFill(e,u,n),u=[o]):f<-128&&void 0!==u&&u.push(o)}void 0!==u&&this._processFill(e,u,n)}},t.prototype._processOutline=function(e,t){var i,r,n,a=this._outlineVertexBuffer,o=this._outlineIndexBuffer,u=o.index,f=new l.Point(0,0),d=new l.Point(0,0),s=new l.Point(0,0),x=-1,h=-1,c=-1,y=-1,p=-1,v=!1,_=e.length;if(!(_<2)){for(var g=e[0],I=e[_-1];_&&I.isEqual(g);)I=e[--_-1];if(!(_-0<2)){for(var b=0;b<_;++b){0===b?(i=e[_-1],r=e[0],n=e[1],f.assignSub(r,i),f.normalize(),f.rightPerpendicular()):(i=r,r=n,n=b!==_-1?e[b+1]:e[0],f.assign(d));var D=this._isClipEdge(i,r);-1===y&&(v=D),d.assignSub(n,r),d.normalize(),d.rightPerpendicular();var C=f.x*d.y-f.y*d.x;s.assignAdd(f,d),s.normalize();var P=-s.x*-f.x+-s.y*-f.y,V=Math.abs(0!==P?1/P:1);V>8&&(V=8),C>=0?(c=a.add(r.x,r.y,f.x,f.y,0,1,t),-1===y&&(y=c),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),h=a.add(r.x,r.y,V*-s.x,V*-s.y,0,-1,t),-1===p&&(p=h),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),x=h,h=c,c=a.add(r.x,r.y,s.x,s.y,0,1,t),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),h=a.add(r.x,r.y,d.x,d.y,0,1,t),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c)):(c=a.add(r.x,r.y,V*s.x,V*s.y,0,1,t),-1===y&&(y=c),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),h=a.add(r.x,r.y,-f.x,-f.y,0,-1,t),-1===p&&(p=h),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),x=h,h=c,c=a.add(r.x,r.y,-s.x,-s.y,0,-1,t),x>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c),(x=a.add(r.x,r.y,-d.x,-d.y,0,-1,t))>=0&&h>=0&&c>=0&&!D&&o.add(x,h,c))}x>=0&&h>=0&&y>=0&&!v&&o.add(x,h,y),x>=0&&y>=0&&p>=0&&!v&&o.add(x,p,y),this._outlineIndexCount+=3*(o.index-u)}}},t.prototype._processFill=function(e,t,i){var a;t.length>1&&(a=[]);for(var l=0,o=0,u=t;o<u.length;o++){var f=u[o];0!==l&&a.push(l),l+=e[f].length}for(var d=2*l,s=r.acquire(),x=0,h=t;x<h.length;x++)for(var c=e[f=h[x]],y=c.length,p=0;p<y;++p)s.push(c[p].x),s.push(c[p].y);var v=n.earcut(s,a,2),_=v.length;if(_>0){for(var g=this._fillVertexBuffer.index,I=0;I<d;)this._fillVertexBuffer.add(s[I++],s[I++],i);for(var b=0;b<_;)this._fillIndexBuffer.add(g+v[b++],g+v[b++],g+v[b++]);this._fillIndexCount+=_}r.release(s)},t.prototype._isClipEdge=function(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)},t._area=function(e){for(var t=0,i=e.length-1,r=0;r<i;r++)t+=(e[r].x-e[r+1].x)*(e[r].y+e[r+1].y);return.5*(t+=(e[i].x-e[0].x)*(e[i].y+e[0].y))},t}(a)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/FillBucket.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/IndexMemoryBuffer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ./MemoryBuffer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/MemoryBuffer.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,n){Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(e){function t(){return e.call(this,12)||this}return r.__extends(t,e),t.prototype.add=function(e,t,r){var n=this.array;n.push(e),n.push(t),n.push(r)},t}(n);t.TriangleIndexBuffer=u;var i=function(e){function t(){return e.call(this,4)||this}return r.__extends(t,e),t.prototype.add=function(e){this.array.push(e)},t}(n);t.PointElementMemoryBuffer=i}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/IndexMemoryBuffer.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/LineBucket.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../core/has */ \"./node_modules/arcgis-js-api/core/has.js\"),__webpack_require__(/*! ./Bucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\"),__webpack_require__(/*! ./style/StyleLayer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/style/StyleLayer.js\"),__webpack_require__(/*! ../webgl/TurboLine */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/TurboLine.js\"),__webpack_require__(/*! ../webgl/mesh/templates/util */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/mesh/templates/util.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,n,i,x,l,s){var a=0,d=0,u=0;n(\"esri-tiles-performance\")&&setInterval((function(){console.log(\"New (VTL)\",\"feat=\"+u,\"secs=\"+a,\"tris=\"+d,\"tris/sec=\"+Math.round(d/a))}),1e4);var o=function(e){function t(t,r,n,i){var x=e.call(this,t,r)||this;if(x._tessellationOptions={},x.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null},t.hasDataDrivenLine!==n.isDataDriven())throw new Error(\"incompatible line buffer\");return x.tessellationProperties._lineVertexBuffer=n,x.tessellationProperties._lineIndexBuffer=i,x.tessellationProperties._hasPattern=t.getPaintValue(\"line-pattern\",x.zoom)||t.getPaintValue(\"line-dasharray\",x.zoom).length>0,x._isThinLine=t.isThinLine,x._isThinLine?x._tessellationCallbacks={vertex:f(x.tessellationProperties),bridge:c(x.tessellationProperties)}:x._tessellationCallbacks={vertex:V(x.tessellationProperties),bridge:_(x.tessellationProperties)},x}return r.__extends(t,e),Object.defineProperty(t.prototype,\"lineIndexStart\",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lineIndexCount\",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._lineIndexStart=this._lineIndexStart,t._lineIndexCount=this._lineIndexCount},t.prototype.processFeatures=function(e){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;var t=this.layer,r=this.zoom,n=t.hasDataDrivenLine;e&&e.setExtent(this.layerExtent);for(var i=[1,1,1,1],a=1,d=1,u=0,o=this._features;u<o.length;u++){var f=o[u],c=new x.LineLayout(t,r,f);!this.tessellationProperties._hasPattern&&t.hasDataDrivenColor&&(i=t.getPaintValue(\"line-color\",r,f)),t.hasDataDrivenOpacity&&(a=t.getPaintValue(\"line-opacity\",r,f)),t.hasDataDrivenWidth&&(d=t.getPaintValue(\"line-width\",r,f));var V=void 0;if(!n||!((V={color:i,opacity:a,size:Math.max(Math.min(d,256),0)}).size<=0||V.opacity<=0||V.color[3]<=0)){this.tessellationProperties._capType=c.cap,this.tessellationProperties._joinType=c.join,this.tessellationProperties._miterLimitCosine=s.getLimitCosine(c.miterLimit),this.tessellationProperties._roundLimitCosine=s.getLimitCosine(c.roundLimit);var _=f.getGeometry(e);this._processFeature(_,V)}}l.cleanup()},t.prototype._processFeature=function(e,t){if(e)for(var r=e.length,n=0;n<r;n++)this._processGeometry(e[n],t)},t.prototype._processGeometry=function(e,t){var r;if(n(\"esri-tiles-performance\")&&(r=performance.now()),!(e.length<2)){for(var i,x,s=e[0],o=1;o<e.length;)(i=e[o].x-s.x)*i+(x=e[o].y-s.y)*x<1e-6?e.splice(o,1):(s=e[o],++o);if(!(e.length<2)){var f=this.tessellationProperties._lineIndexBuffer.index;this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=t,l.tessellate(e,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-f),n(\"esri-tiles-performance\")&&(a+=(performance.now()-r)/1e3,d+=this.tessellationProperties._lineIndexBuffer.index-f,u++)}}},t}(i),f=function(e){return function(t){t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)}},c=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,t.rightEntry2,t.leftExit2)}},V=function(e){return function(t){var r,n=2===e._joinType?e._miterLimitCosine:e._roundLimitCosine,i=t.isCap&&0!==e._capType,x=!1;if(t.cosine>.97?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)):t.cosine<1-.97?(t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.canSplit?(l.splitVertex(),t.sign>0?(t.splitInner?(t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftInner.x,t.leftInner.y,0,-1,t.distance,e._ddValues),t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightInner.x,t.rightInner.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)),t.cosine<n?(x=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.splitOuter?(x=x||t.gapOuter,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftOuter.x,-t.leftOuter.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightOuter.x,-t.rightOuter.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.splitInner?(t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftInner.x,-t.leftInner.y,0,1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightInner.x,-t.rightInner.y,0,1,t.distance,e._ddValues)):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)),t.cosine<n?(x=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):t.splitOuter?(x=x||t.gapOuter,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftOuter.x,t.leftOuter.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightOuter.x,t.rightOuter.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)))):t.sign>0?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.cosine<n?(x=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues),t.cosine<n?(x=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues))),t.canSplit&&(t.splitInner||t.splitOuter)||x||i?(r=t.entry1=t.exit1=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,0,0,0,0,t.distance,e._ddValues)):r=t.entry1=t.exit1=null,x&&1!==e._joinType)e._lineIndexBuffer.add(r,t.sign>0?t.exit2:t.entry0,t.sign>0?t.entry2:t.exit0);else if(i&&1===e._capType||x&&1===e._joinType){var s,a=void 0,d=void 0,u=void 0,o=void 0,f=void 0,c=void 0;if(t.isCap)c=(s=Math.PI)/(f=Math.ceil(s/.8)),t.isFirstVertex?(a=t.prevNormal.x,d=t.prevNormal.y,u=t.entry0,o=t.entry2):t.isLastVertex&&(a=-t.nextNormal.x,d=-t.nextNormal.y,u=t.exit2,o=t.exit0);else c=(s=2*Math.acos(t.cosine))/(f=Math.ceil(s/.8)),a=t.sign>0?-t.prevNormal.x:t.nextNormal.x,d=t.sign>0?-t.prevNormal.y:t.nextNormal.y,u=t.sign>0?t.entry2:t.exit0,o=t.sign>0?t.exit2:t.entry0;var V=Math.cos(c),_=Math.sin(c),y=_*a+V*d;a=V*a-_*d,d=y;for(var p=void 0,B=void 0,h=0;h<f;++h){if(p=B,h<f-1)if(t.isCap){var m=t.isFirstVertex?-1:1;B=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,a,d,m,0,t.distance,e._ddValues)}else B=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,a,d,0,t.sign,t.distance,e._ddValues);e._lineIndexBuffer.add(0===h?u:p,r,h===f-1?o:B);var v=_*a+V*d;a=V*a-_*d,d=v}}else if(i&&2===e._capType){var g=t.isFirstVertex?1:-1,N=void 0,I=void 0;e._hasPattern?(N=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-g*t.inbound.x,t.prevNormal.y-g*t.inbound.y,-g,-1,t.distance,e._ddValues),I=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-g*t.inbound.x,-t.prevNormal.y-g*t.inbound.y,-g,1,t.distance,e._ddValues)):(N=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-g*t.inbound.x,t.prevNormal.y-g*t.inbound.y,0,-1,t.distance,e._ddValues),I=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-g*t.inbound.x,-t.prevNormal.y-g*t.inbound.y,0,1,t.distance,e._ddValues)),g>0?(e._lineIndexBuffer.add(r,t.entry2,I),e._lineIndexBuffer.add(r,I,N),e._lineIndexBuffer.add(r,N,t.entry0)):(e._lineIndexBuffer.add(r,I,t.exit2),e._lineIndexBuffer.add(r,N,I),e._lineIndexBuffer.add(r,t.exit0,N))}}},_=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,null!=t.leftExit1?t.leftExit1:t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,null!=t.rightEntry1?t.rightEntry1:t.rightEntry2,null!=t.leftExit1?t.leftExit1:t.leftExit2),null!=t.leftExit1&&null!=t.rightEntry1?(e._lineIndexBuffer.add(t.leftExit1,t.rightEntry1,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)):null!=t.leftExit1?e._lineIndexBuffer.add(t.leftExit1,t.rightEntry2,t.leftExit2):null!=t.rightEntry1&&e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)}};return o}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/LineBucket.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/MemoryBuffer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t){return function(){function e(e){this._array=[],e<=0&&console.error(\"strideInBytes must be positive!\"),this._stride=e}return Object.defineProperty(e.prototype,\"array\",{get:function(){return this._array},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"index\",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"itemSize\",{get:function(){return this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sizeInBytes\",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.array.length=0},e.prototype.toBuffer=function(){return new Uint32Array(this._array).buffer},e.i1616to32=function(e,t){return 65535&e|t<<16},e.i8888to32=function(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24},e.i8816to32=function(e,t,r){return 255&e|(255&t)<<8|r<<16},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/MemoryBuffer.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Placement.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ./Conflict */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Conflict.js\"),__webpack_require__(/*! ./GeometryUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/GeometryUtils.js\"),__webpack_require__(/*! ./TextShaping */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TextShaping.js\"),__webpack_require__(/*! ../webgl/Geometry */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,i,n,o,a){Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e,i,n,o){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===o&&(o=c),this.x=t,this.y=e,this.angle=i,this.segment=n,this.minzoom=o};e.Anchor=r;var h=function(t,e,i,o,a,r,h){void 0===r&&(r=c),void 0===h&&(h=n.C_INFINITY),this.anchor=t,this.labelAngle=e,this.glyphAngle=i,this.page=o,this.alternateVerticalGlyph=a,this.minzoom=r,this.maxzoom=h},l=function(t,e,i,n,o,a,r,h,l,s,c,g){this.tl=t,this.tr=e,this.bl=i,this.br=n,this.mosaicRect=o,this.labelAngle=a,this.minAngle=r,this.maxAngle=h,this.anchor=l,this.minzoom=s,this.maxzoom=c,this.page=g};e.PlacedSymbol=l;var s=function(t,e){this.footprint=t,this.shapes=e};e.Placement=s;var c=.5,g=function(){function t(){this.mapAngle=0,this._conflictEngine=new i.ConflictEngine}return t.prototype.reset=function(){this._conflictEngine.reset()},t.prototype.setAngle=function(t){this.mapAngle=t},t.prototype.getIconPlacement=function(t,e,o,r,h){var g=o.width/o.pixelRatio,p=o.height/o.pixelRatio,w=h.offset[0]-g/2,d=h.offset[1]-p/2,f=w+g,v=d+p,m=o.rect,x=2/o.pixelRatio,I=w-x,y=d-x,_=I+m.width/o.pixelRatio,P=y+m.height/o.pixelRatio,u=new a.Point(I,y),N=new a.Point(_,P),b=new a.Point(I,P),E=new a.Point(_,y),A=h.rotate*n.C_DEG_TO_RAD,T=1===h.rotationAlignment;if(t.segment>=0&&!T&&(A+=t.angle),0!==A){var C=Math.cos(A),F=Math.sin(A);u.rotate(C,F),N.rotate(C,F),b.rotate(C,F),E.rotate(C,F)}var G=8*h.padding,M=new a.Point(t.x,t.y),Y=new i.Footprint(this.mapAngle,G,T);Y.addBox(M,new i.Box(w,d,f,v),r,A,e,c,n.C_INFINITY);var B=new l(u,E,b,N,m,0,0,256,M,c,n.C_INFINITY,0),S=new s(Y,[B]),z=c;return h.allowOverlap||(z=this._conflictEngine.getMinZoom(S.footprint,z)),Y.minzoom=z,S},t.prototype.getTextPlacement=function(t,e,r,g,p,w){for(var d=new a.Point(t.x,t.y),f=w.rotate*n.C_DEG_TO_RAD,v=0===w.rotationAlignment,m=w.keepUpright,x=c,I=!v,y=I?0:t.angle,_=t.segment>=0&&v,P=8*w.padding,u=new i.Footprint(this.mapAngle,P,I),N=[],b=!_,E=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,T=E,C=A,F=_?m:v&&m,G=!1,M=0,Y=r;M<Y.length;M++){if((O=Y[M]).vertical){G=!0;break}}var B,S=0,z=0;if(!_&&G){var k=o.TextShaping.getTextBox(r,w.lineHeight*o.SDF_GLYPH_SIZE);switch(w.anchor){case 1:S=k.height/2,z=-k.width/2;break;case 2:S=-k.height/2,z=k.width/2;break;case 3:S=k.height/2,z=k.width/2;break;case 4:S=-k.height/2,z=-k.width/2;break;case 5:S=k.height;break;case 7:z=-k.width;break;case 6:z=k.width;break;case 8:S=-k.height}}S+=w.offset[0]*o.SDF_GLYPH_SIZE,z+=w.offset[1]*o.SDF_GLYPH_SIZE;for(var D=0,R=r;D<R.length;D++){var O,V=(O=R[D]).glyphMosaicItem;if(V&&!V.rect.isEmpty){var H=V.rect,L=V.metrics,Z=V.page;if(b){if(B&&B!==O.y){k=void 0;k=G?new i.Box(-C+S,E+z,-T+S,A+z):new i.Box(E+S,T+z,A+S,C+z),u.addBox(d,k,g,f,e,c,n.C_INFINITY),T=E=Number.POSITIVE_INFINITY,C=A=Number.NEGATIVE_INFINITY}B=O.y}var q=[];if(_){var U=.5*V.metrics.width,j=(O.x+L.left-4+U)*g;if(x=this._placeGlyph(t,x,j,p,t.segment,1,O.vertical,Z,q),m&&(x=this._placeGlyph(t,x,j,p,t.segment,-1,O.vertical,Z,q)),x>=2)break}else q.push(new h(d,y,y,Z,!1)),v&&m&&q.push(new h(d,y+n.C_PI,y+n.C_PI,Z,!1));var J=O.x+L.left,K=O.y-o.SDF_GLYPH_BASELINE-L.top,Q=J+L.width,W=K+L.height,X=void 0,$=void 0,tt=void 0,et=void 0;if(!_&&G)if(O.vertical){var it=(J+Q)/2-L.height/2,nt=(K+W)/2+L.width/2;X=new a.Point(-nt-4+S,it-4+z),$=new a.Point(X.x+H.width,X.y+H.height),tt=new a.Point(X.x,$.y),et=new a.Point($.x,X.y)}else X=new a.Point(4-K+S,J-4+z),$=new a.Point(X.x-H.height,X.y+H.width),tt=new a.Point($.x,X.y),et=new a.Point(X.x,$.y);else X=new a.Point(J-4+S,K-4+z),$=new a.Point(X.x+H.width,X.y+H.height),tt=new a.Point(X.x,$.y),et=new a.Point($.x,X.y);for(var ot=void 0,at=void 0,rt=void 0,ht=void 0,lt=0,st=q;lt<st.length;lt++){var ct=st[lt],gt=void 0,pt=void 0,wt=void 0,dt=void 0;if(ct.alternateVerticalGlyph){if(!ot){it=(J+Q)/2+S,nt=(K+W)/2+z;ot=new a.Point(it-L.height/2-4,nt+L.width/2+4),at=new a.Point(ot.x+H.height,ot.y-H.width),rt=new a.Point(at.x,ot.y),ht=new a.Point(ot.x,at.y)}gt=ot,pt=rt,wt=ht,dt=at}else gt=X,pt=tt,wt=et,dt=$;var ft=K,vt=W,mt=ct.glyphAngle+f;if(0!==mt){var xt=Math.cos(mt),It=Math.sin(mt);gt=gt.clone(),pt=pt.clone(),wt=wt.clone(),dt=dt.clone(),gt.rotate(xt,It),dt.rotate(xt,It),pt.rotate(xt,It),wt.rotate(xt,It)}var yt=0,_t=256;_&&G?O.vertical?ct.alternateVerticalGlyph?(yt=32,_t=96):(yt=224,_t=32):(yt=224,_t=96):(yt=192,_t=64),N.push(new l(gt,wt,pt,dt,H,ct.labelAngle,yt,_t,ct.anchor,ct.minzoom,ct.maxzoom,ct.page)),F&&!this._legible(ct.labelAngle)||(b?(J<E&&(E=J),ft<T&&(T=ft),Q>A&&(A=Q),vt>C&&(C=vt)):ct.minzoom<2&&u.addBox(ct.anchor,new i.Box(J+S,ft+z,Q+S,vt+z),g,mt,e,ct.minzoom,ct.maxzoom))}}}if(x>=2)return null;if(b){k=void 0;k=G?new i.Box(-C+S,E+z,-T+S,A+z):new i.Box(E+S,T+z,A+S,C+z),u.addBox(d,k,g,f,e,c,n.C_INFINITY)}var Pt=new s(u,N);return w.allowOverlap||(x=this._conflictEngine.getMinZoom(Pt.footprint,x)),u.minzoom=x,Pt},t.prototype.add=function(t){this._conflictEngine.add(t.footprint)},t.prototype._legible=function(t){var e=n.radToByte(t);return e<65||e>=193},t.prototype._placeGlyph=function(t,e,i,o,r,l,s,c,g){var p=l,w=p<0?n.positiveMod(t.angle+n.C_PI,n.C_2PI):t.angle,d=0;i<0&&(p*=-1,i*=-1,d=n.C_PI),p>0&&++r;var f=new a.Point(t.x,t.y),v=o[r],m=n.C_INFINITY;if(o.length<=r)return m;for(;;){var x=v.x-f.x,I=v.y-f.y,y=Math.sqrt(x*x+I*I),_=Math.max(i/y,e),P=x/y,u=I/y,N=n.positiveMod(Math.atan2(u,P)+d,n.C_2PI);if(g.push(new h(f,w,N,c,!1,_,m)),s&&g.push(new h(f,w,N,c,!0,_,m)),_<=e)return _;f=v.clone();do{if(r+=p,o.length<=r||r<0)return _;v=o[r]}while(f.isEqual(v));var b=v.x-f.x,E=v.y-f.y,A=Math.sqrt(b*b+E*E);b*=y/A,E*=y/A,f.x-=b,f.y-=E,m=_}},t}();e.PlacementEngine=g}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Placement.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/ScriptUtils.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,n){Object.defineProperty(n,\"__esModule\",{value:!0}),n.hasVerticalOrientation=function(e){return 746===e||747===e||!(e<4352)&&(e>=12704&&e<=12735||(e>=12544&&e<=12591||(e>=65072&&e<=65103&&!(e>=65097&&e<=65103)||(e>=63744&&e<=64255||(e>=13056&&e<=13311||(e>=11904&&e<=12031||(e>=12736&&e<=12783||(e>=12288&&e<=12351&&!(e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||(e>=13312&&e<=19903||(e>=19968&&e<=40959||(e>=12800&&e<=13055||(e>=12592&&e<=12687||(e>=43360&&e<=43391||(e>=55216&&e<=55295||(e>=4352&&e<=4607||(e>=44032&&e<=55215||(e>=12352&&e<=12447||(e>=12272&&e<=12287||(e>=12688&&e<=12703||(e>=12032&&e<=12255||(e>=12784&&e<=12799||(e>=12448&&e<=12543&&12540!==e||(e>=65280&&e<=65519&&!(65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||(e>=65104&&e<=65135&&!(e>=65112&&e<=65118||e>=65123&&e<=65126)||(e>=5120&&e<=5759||(e>=6320&&e<=6399||(e>=65040&&e<=65055||(e>=19904&&e<=19967||(e>=40960&&e<=42127||e>=42128&&e<=42191)))))))))))))))))))))))))))))},n.isWhiteSpace=function(e){return 32===e}}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/ScriptUtils.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SourceLayerData.js\":function(module,exports,__webpack_require__){eval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t){return function(){function e(t){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=t.clone();t.next();)switch(t.tag()){case 1:this.name=t.getString();break;case 3:this.keys.push(t.getString());break;case 4:this.values.push(t.processMessage(e._parseValue));break;case 5:this.extent=t.getUInt32();break;default:t.skip()}}return e.prototype.getData=function(){return this._pbfLayer},e._parseValue=function(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SourceLayerData.js?\")},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SymbolBucket.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../core/BidiEngine */ \"./node_modules/arcgis-js-api/core/BidiEngine.js\"),__webpack_require__(/*! ./Bucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Bucket.js\"),__webpack_require__(/*! ./GeometryUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/GeometryUtils.js\"),__webpack_require__(/*! ./Placement */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Placement.js\"),__webpack_require__(/*! ./TextShaping */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TextShaping.js\"),__webpack_require__(/*! ./style/StyleLayer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/style/StyleLayer.js\"),__webpack_require__(/*! ../webgl/Geometry */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,a,n,i,o,r,s,l,h){function c(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page<t.iconMosaicItem.page?-1:1:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}return function(e){function t(t,a,n,i,o,r,s,l){var h=e.call(this,t,a)||this;if(h._markerMap=new Map,h._glyphMap=new Map,h._glyphBufferDataStorage=new Map,h._sdfMarkers=!1,t.hasDataDrivenIcon!==n.isDataDriven())throw new Error(\"incompatible icon buffer\");if(t.hasDataDrivenText!==o.isDataDriven())throw new Error(\"incompatible text buffer\");return h._iconVertexBuffer=n,h._iconIndexBuffer=i,h._textVertexBuffer=o,h._textIndexBuffer=r,h._placementEngine=s,h._workerTileHandler=l,h}return a.__extends(t,e),Object.defineProperty(t.prototype,\"markerPageMap\",{get:function(){return this._markerMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"glyphsPageMap\",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"sdfMarker\",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0}),t.prototype.copy=function(e,a,n,i,o){var r=new t(this.layer,this.zoom,e,a,n,i,o,this._workerTileHandler);return r.layerIndex=this.layerIndex,r.layerExtent=this.layerExtent,r._iconIndexStart=a.index,r._textIndexStart=i.index,r._iconIndexCount=0,r._textIndexCount=0,r._symbolInstances=this._symbolInstances,r._workerTileHandler=this._workerTileHandler,r._fontArray=this._fontArray,r._textLayout=this._textLayout,r._iconLayout=this._iconLayout,r._isLinePlacement=this._isLinePlacement,r._avoidEdges=this._avoidEdges,r},t.prototype.getResources=function(e,a,n){var i=this.layer,o=this.zoom,r=i.hasDataDrivenIcon,s=i.hasDataDrivenText;e&&e.setExtent(this.layerExtent);for(var l=i.getLayoutProperty(\"icon-image\"),h=i.getLayoutProperty(\"text-field\"),c=i.getLayoutValue(\"text-font\",o),d=i.getLayoutValue(\"text-transform\",o),x=[],u=[1,1,1,1],y=1,g=1,p=[1,1,1,1],m=1,f=1,_=0,v=this._features;_<v.length;_++){var I=v[_],M=I.getGeometry(e);if(M&&0!==M.length){var b=void 0;l&&(b=i.getLayoutValue(\"icon-image\",o,I),l.isDataDriven||(b=this._replaceKeys(b,I.values)),b&&a.add(b));var L=void 0,z=!1;if(h&&((L=i.getLayoutValue(\"text-field\",o,I))&&!h.isDataDriven&&(L=this._replaceKeys(L,I.values)),L)){switch(L=L.replace(/\\\\\\\\n/g,\"\\\\n\"),d){case 2:L=L.toLowerCase();break;case 1:L=L.toUpperCase()}if(t._bidiEngine.hasBidiChar(L)){var A=void 0;A=\"rtl\"===t._bidiEngine.checkContextual(L)?\"IDNNN\":\"ICNNN\",L=t._bidiEngine.bidiTransform(L,A,\"VLYSN\"),z=!0}var S=L.length;if(S>0)for(var P=0,D=c;P<D.length;P++){var V=D[P],w=n[V];w||(w=n[V]=new Set);for(var E=0;E<S;E++){var T=L.charCodeAt(E);w.add(T)}}}if(b||L){var k=i.getLayoutValue(\"icon-size\",o,I),C=i.getLayoutValue(\"text-size\",o,I);i.hasDataDrivenIconColor&&(u=i.getPaintValue(\"icon-color\",o,I)),i.hasDataDrivenIconOpacity&&(y=i.getPaintValue(\"icon-opacity\",o,I)),i.hasDataDrivenIconSize&&(g=k),i.hasDataDrivenTextColor&&(p=i.getPaintValue(\"text-color\",o,I)),i.hasDataDrivenTextOpacity&&(m=i.getPaintValue(\"text-opacity\",o,I)),i.hasDataDrivenTextSize&&(f=C);var B={sprite:b,label:L,rtl:z,type:I.type,geometry:M,iconSize:k,iconRotate:i.getLayoutValue(\"icon-rotate\",o,I),ddIconValues:r?{color:u,opacity:y,size:g}:null,textSize:C,textRotate:i.getLayoutValue(\"text-rotate\",o,I),ddTextValues:s?{color:p,opacity:m,size:f}:null};x.push(B)}}}this._symbolFeatures=x},t.prototype.processFeatures=function(e){e&&e.setExtent(this.layerExtent);var a,n,i,h,d,x=this.layer,u=this.zoom,y=this._isLinePlacement=1===x.getLayoutValue(\"symbol-placement\",u),g=8*x.getLayoutValue(\"symbol-spacing\",u),p=x.getLayoutProperty(\"icon-image\"),m=x.getLayoutProperty(\"text-field\"),f=this._workerTileHandler;if(p&&(this._iconLayout=new l.IconLayout(x,u,y),a=f.getSpriteItems(),n=this._getTranslate(!0)),m){var _=this._textLayout=new l.TextLayout(x,u,y);this._fontArray=_.fontArray;var v=.5;switch(_.anchor){case 5:case 1:case 7:v=0;break;case 6:case 2:case 8:v=1}var I=.5;switch(_.anchor){case 5:case 3:case 6:I=0;break;case 7:case 4:case 8:I=1}var M=.5;switch(_.justify){case 0:M=0;break;case 2:M=1}var b=_.letterSpacing*s.SDF_GLYPH_SIZE,L=y?0:_.maxWidth*s.SDF_GLYPH_SIZE,z=_.lineHeight*s.SDF_GLYPH_SIZE;i=this._fontArray.map((function(e){return f.getGlyphItems(e)})),h=new s.TextShaping(i,L,z,b,v,I,M),d=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var A=[];this._symbolInstances=A;var S=this._textLayout,P=1;S&&S.size&&(P=S.size/s.SDF_GLYPH_SIZE);for(var D=S?S.maxAngle*o.C_DEG_TO_RAD:0,V=S?8*S.size:0,w=0,E=this._symbolFeatures;w<E.length;w++){var T=E[w],k=void 0;T.sprite&&(k=a[T.sprite])&&k.sdf&&(this._sdfMarkers=!0);var C=void 0,B=T.label,G=0;if(B){var N=y?S.keepUpright:S.writingMode&&S.writingMode.indexOf(1)>=0;if((C=h.getShaping(B,T.rtl,N))&&C.length>0){for(var F=1e30,H=-1e30,R=0,Y=C;R<Y.length;R++){var O=Y[R];F=Math.min(F,O.x),H=Math.max(H,O.x)}G=(H-F+2*s.SDF_GLYPH_SIZE)*P*8}}for(var Z=0,j=T.geometry;Z<j.length;Z++){var q=j[Z],K=void 0;if(y){if(C&&C.length>0&&S&&S.size){var U=8*S.size*(2+Math.min(2,4*Math.abs(S.offset[1])));t._smoothVertices(q,U)}K=t._findAnchors(q,g,G)}else K=3===T.type?t._findCentroid(q):[new r.Anchor(q[0].x,q[0].y)];for(var W=0,J=K;W<J.length;W++){var Q=J[W];Q.x<0||Q.x>4096||Q.y<0||Q.y>4096||(y&&G>0&&0===S.rotationAlignment&&!t._honorsTextMaxAngle(q,Q,G,D,V)||A.push({shaping:C,line:q,iconMosaicItem:k,anchor:Q,iconSize:T.iconSize,iconRotate:T.iconRotate,ddIconValues:T.ddIconValues,textSize:T.textSize,textRotate:T.textRotate,ddTextValues:T.ddTextValues}))}}}A.sort(c);for(var X=0,$=A;X<$.length;X++){var ee=$[X];this._processFeature(ee,n,d)}this._addPlacedGlyphs()},t.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var e,t,a=this.layer;a.getLayoutProperty(\"icon-image\")&&(e=this._getTranslate(!0)),a.getLayoutProperty(\"text-field\")&&(t=this._getTranslate(!1));for(var n=0,i=this._symbolInstances;n<i.length;n++){var o=i[n];this._processFeature(o,e,t)}this._addPlacedGlyphs()},t.prototype.assignBufferInfo=function(){},t.prototype._getTranslate=function(e){var t=this.layer.getPaintValue(e?\"icon-translate\":\"text-translate\",this.zoom);if(0!==t[0]||0!==t[1]){var a=this._placementEngine.mapAngle;if(0!==a&&0===this.layer.getPaintValue(e?\"icon-translate-anchor\":\"text-translate-anchor\",this.zoom)){var n=Math.sin(a),i=Math.cos(a);return[8*(t[0]*i-t[1]*n),8*(t[0]*n+t[1]*i)]}return[8*t[0],8*t[1]]}},t.prototype._replaceKeys=function(e,t){return e.replace(/{([^{}]+)}/g,(function(e,a){return a in t?t[a]:\"\"}))},t.prototype._processFeature=function(e,t,a){var n=e.line,i=e.iconMosaicItem,r=e.shaping,l=e.anchor,h=this._iconLayout,c=h&&!!i,d=!0,x=1;c&&(h.size=e.iconSize,h.rotate=e.iconRotate,x=8*h.size,d=h.optional||!i);var u,y,g=this._textLayout,p=g&&r&&r.length>0,m=1,f=m,_=!0;if((p&&(g.size=e.textSize,g.rotate=e.textRotate,f=8*(m=g.size/s.SDF_GLYPH_SIZE),_=g.optional||!r||0===r.length),c&&(u=this._placementEngine.getIconPlacement(l,t,i,x,h),l.minzoom>u.footprint.minzoom&&(u.footprint.minzoom=l.minzoom),u.footprint.minzoom===o.C_INFINITY&&(u=null)),u||d)&&(p&&(y=this._placementEngine.getTextPlacement(l,a,r,f,n,g))&&(l.minzoom>y.footprint.minzoom&&(y.footprint.minzoom=l.minzoom),y.footprint.minzoom===o.C_INFINITY&&(y=null)),y||_)){if(u&&y||(_||d?_||y?d||u||(y=null):u=null:(u=null,y=null)),u&&y&&!_&&!d){var v=Math.max(u.footprint.minzoom,y.footprint.minzoom);u.footprint.minzoom=v,y.footprint.minzoom=v}y&&(g.ignorePlacement||this._placementEngine.add(y),this._storePlacedGlyphs(y.shapes,y.footprint.minzoom,this.zoom,e.ddTextValues)),u&&(h.ignorePlacement||this._placementEngine.add(u),this._addPlacedIcons(u.shapes,u.footprint.minzoom,this.zoom,i.page,e.ddIconValues))}},t.prototype._addPlacedIcons=function(e,t,a,n,i){for(var r=Math.max(a+o.log2(t),0),s=this._iconVertexBuffer,l=this._iconIndexBuffer,h=0,c=e;h<c.length;h++){var d=c[h],x=Math.max(a+o.log2(d.minzoom),r),u=Math.min(a+o.log2(d.maxzoom),25);if(!(u<=x)){var y=d.tl,g=d.tr,p=d.bl,m=d.br,f=d.mosaicRect,_=d.labelAngle,v=d.minAngle,I=d.maxAngle,M=d.anchor,b=s.index,L=f.x,z=f.y,A=L+f.width,S=z+f.height;s.add(M.x,M.y,y.x,y.y,L,z,_,v,I,x,u,r,i),s.add(M.x,M.y,g.x,g.y,A,z,_,v,I,x,u,r,i),s.add(M.x,M.y,p.x,p.y,L,S,_,v,I,x,u,r,i),s.add(M.x,M.y,m.x,m.y,A,S,_,v,I,x,u,r,i),l.add(b+0,b+1,b+2),l.add(b+1,b+2,b+3),this._markerMap.has(n)?this._markerMap.get(n)[1]+=6:this._markerMap.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=2}}},t.prototype._addPlacedGlyphs=function(){var e=this,t=this._textVertexBuffer,a=this._textIndexBuffer;this._glyphBufferDataStorage.forEach((function(n,i){for(var o=0,r=n;o<r.length;o++){var s=r[o],l=t.index;t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tl[0],s.tl[1],s.xmin,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tr[0],s.tr[1],s.xmax,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.bl[0],s.bl[1],s.xmin,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.br[0],s.br[1],s.xmax,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,s.placementLod,s.ddValues),a.add(l+0,l+1,l+2),a.add(l+1,l+2,l+3),e._glyphMap.has(i)?e._glyphMap.get(i)[1]+=6:e._glyphMap.set(i,[e._textIndexStart+e._textIndexCount,6]),e._textIndexCount+=2}})),this._glyphBufferDataStorage.clear()},t.prototype._storePlacedGlyphs=function(e,t,a,n){for(var i=Math.max(a+o.log2(t),0),r=0,s=e;r<s.length;r++){var l=s[r],h=Math.max(a+o.log2(l.minzoom),i),c=Math.min(a+o.log2(l.maxzoom),25);if(!(c<=h)){var d=l.tl,x=l.tr,u=l.bl,y=l.br,g=l.labelAngle,p=l.minAngle,m=l.maxAngle,f=l.anchor,_=l.mosaicRect;this._glyphBufferDataStorage.has(l.page)||this._glyphBufferDataStorage.set(l.page,[]),this._glyphBufferDataStorage.get(l.page).push({glyphAnchor:[f.x,f.y],tl:[d.x,d.y],tr:[x.x,x.y],bl:[u.x,u.y],br:[y.x,y.y],xmin:_.x,ymin:_.y,xmax:_.x+_.width,ymax:_.y+_.height,labelAngle:g,minAngle:p,maxAngle:m,minLod:h,maxLod:c,placementLod:i,ddValues:n})}}},t._findAnchors=function(e,t,a){t+=a;for(var n=0,i=e.length-1,s=0;s<i;s++)n+=h.Point.distance(e[s],e[s+1]);var l=a||t;if(n<=(l*=.5))return[];var c=l/n,d=0,x=-(t=n/Math.max(Math.round(n/t),1))/2,u=[],y=e.length-1;for(s=0;s<y;s++){for(var g=e[s],p=e[s+1],m=p.x-g.x,f=p.y-g.y,_=Math.sqrt(m*m+f*f),v=void 0;x+t<d+_;){var I=((x+=t)-d)/_,M=o.interpolate(g.x,p.x,I),b=o.interpolate(g.y,p.y,I);void 0===v&&(v=Math.atan2(f,m)),u.push(new r.Anchor(M,b,v,s,c))}d+=_}return u},t._deviation=function(e,t,a){var n=(t.x-e.x)*(a.x-t.x)+(t.y-e.y)*(a.y-t.y),i=(t.x-e.x)*(a.y-t.y)-(t.y-e.y)*(a.x-t.x);return Math.atan2(i,n)},t._honorsTextMaxAngle=function(e,t,a,n,i){for(var o=0,r=a/2,s=new h.Point(t.x,t.y),l=t.segment+1;o>-r;){if(--l<0)return!1;o-=h.Point.distance(e[l],s),s=e[l]}o+=h.Point.distance(e[l],e[l+1]);for(var c=[],d=0,x=e.length;o<r;){var u=e[l],y=l,g=void 0;do{if(++y===x)return!1;g=e[y]}while(g.isEqual(u));var p=y,m=void 0;do{if(++p===x)return!1;m=e[p]}while(m.isEqual(g));var f=this._deviation(u,g,m);for(c.push({deviation:f,distToAnchor:o}),d+=f;o-c[0].distToAnchor>i;)d-=c.shift().deviation;if(Math.abs(d)>n)return!1;o+=h.Point.distance(g,m),l=y}return!0},t._smoothVertices=function(e,t){if(!(t<=0)){var a=e.length;if(!(a<3)){var n=[],i=0;n.push(0);for(var o=1;o<a;o++)i+=h.Point.distance(e[o],e[o-1]),n.push(i);t=Math.min(t,.2*i);var r=[];r.push(e[0].x),r.push(e[0].y);var s=e[a-1].x,l=e[a-1].y,c=h.Point.sub(e[0],e[1]);c.normalize(),e[0].x+=t*c.x,e[0].y+=t*c.y,c.assignSub(e[a-1],e[a-2]),c.normalize(),e[a-1].x+=t*c.x,e[a-1].y+=t*c.y;for(o=1;o<a;o++)n[o]+=t;n[a-1]+=t;var d=.5*t;for(o=1;o<a-1;o++){for(var x=0,u=0,y=0,g=o-1;g>=0&&!(n[g+1]<n[o]-d);g--){var p=d+n[g+1]-n[o],m=n[g+1]-n[g],f=n[o]-n[g]<d?1:p/m;if(Math.abs(f)<1e-6)break;var _=f*p-.5*(L=f*f)*m,v=f*m/t,I=e[g+1],M=e[g].x-I.x,b=e[g].y-I.y;x+=v/_*(I.x*f*p+.5*L*(p*M-m*I.x)-L*f*m*M/3),u+=v/_*(I.y*f*p+.5*L*(p*b-m*I.y)-L*f*m*b/3),y+=v}for(g=o+1;g<a&&!(n[g-1]>n[o]+d);g++){p=d-n[g-1]+n[o],m=n[g]-n[g-1],f=n[g]-n[o]<d?1:p/m;if(Math.abs(f)<1e-6)break;var L;_=f*p-.5*(L=f*f)*m,v=f*m/t,I=e[g-1],M=e[g].x-I.x,b=e[g].y-I.y;x+=v/_*(I.x*f*p+.5*L*(p*M-m*I.x)-L*f*m*M/3),u+=v/_*(I.y*f*p+.5*L*(p*b-m*I.y)-L*f*m*b/3),y+=v}r.push(x/y),r.push(u/y)}r.push(s),r.push(l);for(o=0,g=0;o<a;o++)e[o].x=r[g++],e[o].y=r[g++]}}},t._findCentroid=function(e){var t=e.length-1,a=0,n=0,i=0,o=e[0].x,s=e[0].y;o>4096&&(o=4096),o<0&&(o=0),s>4096&&(s=4096),s<0&&(s=0);for(var l=1;l<t;l++){var h=e[l].x,c=e[l].y,d=e[l+1].x,x=e[l+1].y;h>4096&&(h=4096),h<0&&(h=0),c>4096&&(c=4096),c<0&&(c=0),d>4096&&(d=4096),d<0&&(d=0),x>4096&&(x=4096),x<0&&(x=0);var u=(h-o)*(x-s)-(d-o)*(c-s);a+=u*(o+h+d),n+=u*(s+c+x),i+=u}return a/=3*i,n/=3*i,isNaN(a)||isNaN(n)?[]:[new r.Anchor(a,n)]},t._bidiEngine=new n.default,t}(i)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SymbolBucket.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TextShaping.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ./ScriptUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/ScriptUtils.js\"),__webpack_require__(/*! ../webgl/Rect */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/Rect.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,i,e,a){Object.defineProperty(i,\"__esModule\",{value:!0}),i.SDF_GLYPH_SIZE=24,i.SDF_GLYPH_BASELINE=17;var h=function(){function t(t,i,e,a,h,r,n){this._glyphItems=t,this._maxWidth=i,this._lineHeight=e,this._letterSpacing=a,this._hAnchor=h,this._vAnchor=r,this._justify=n}return t.prototype.getShaping=function(t,i,a){for(var h=this._letterSpacing,r=this._lineHeight,n=this._justify,c=this._maxWidth,s=[],o=0,l=0,f=0,g=0,m=-1,p=0,y=-1,v=t.length,d=0;d<v;d++){var u=t.charCodeAt(d),x=a&&e.hasVerticalOrientation(u);if(10!==u){for(var _=void 0,M=0,I=this._glyphItems;M<I.length;M++){if(_=I[M][u])break}if(_){if(s.push({codePoint:u,x:o,y:l,vertical:x,glyphMosaicItem:_}),o+=_.metrics.advance+h,c>0&&o>c&&y>=0){var S=y+1;P=s[S].x;p=Math.max(P,p);for(var w=S;w<s.length;w++)i?s[w].y-=r:s[w].y+=r,s[w].x-=P;n&&this._applyJustification(s,g,y),i?l-=r:l+=r,o-=P,++f,g=S,y=-1}++m,32===u&&(y=s.length-1)}}else{if(d===v-1)continue;if(m>=g){var P=(A=s[m]).x+A.glyphMosaicItem.metrics.advance;p=Math.max(P,p),n&&this._applyJustification(s,g,m),g=s.length}i?l-=r:l+=r,o=0,++f}}if(m>=g){var A,E=(A=s[m]).x+A.glyphMosaicItem.metrics.advance;p=Math.max(p,E),n&&this._applyJustification(s,g,m)}if(s.length>0){var H=(n-this._hAnchor)*p,L=(-this._vAnchor*(f+1)+.5)*r;i&&f&&(L+=f*r);for(var D=0,b=s;D<b.length;D++){var j=b[D];j.x+=H,j.y+=L}}return s},t.getTextBox=function(t,e){if(!t.length)return null;for(var a=1/0,h=1/0,r=0,n=0,c=0,s=t;c<s.length;c++){var o=s[c],l=o.glyphMosaicItem.metrics.advance,f=o.x,g=o.y-i.SDF_GLYPH_BASELINE,m=f+l,p=g+e;a=Math.min(a,f),r=Math.max(r,m),h=Math.min(h,g),n=Math.max(n,p)}return{x:a,y:h,width:r-a,height:n-h}},t.getBox=function(t){if(!t.length)return null;for(var i=1/0,e=1/0,a=0,h=0,r=0,n=t;r<n.length;r++){var c=n[r],s=c.glyphMosaicItem.metrics,o=s.height,l=s.left,f=s.top,g=s.width,m=c.x,p=c.y-(o-Math.abs(f)),y=m+g+l,v=p+o;i=Math.min(i,m),a=Math.max(a,y),e=Math.min(e,p),h=Math.max(h,v)}return{x:i,y:e,width:a-i,height:h-e}},t.addDecoration=function(t,i){var e=t.length;if(0!==e){for(var h=t[0].x+t[0].glyphMosaicItem.metrics.left,r=t[0].y,n=1;n<e;n++){var c=t[n];if(c.y!==r){var s=t[n-1].x+t[n-1].glyphMosaicItem.metrics.left+t[n-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:h,y:r+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new a.default(4,0,4,8),metrics:{width:s-h,height:8,left:0,top:0,advance:0},page:0,code:0}}),r=c.y,h=c.x+c.glyphMosaicItem.metrics.left}}var o=t[e-1].x+t[e-1].glyphMosaicItem.metrics.left+t[e-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:h,y:r+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new a.default(4,0,4,8),metrics:{width:o-h,height:8,left:0,top:0,advance:0},page:0,code:0}})}},t.prototype._applyJustification=function(t,e,a){for(var h=t[a],r=h.vertical?i.SDF_GLYPH_SIZE:h.glyphMosaicItem.metrics.advance,n=(h.x+r)*this._justify,c=e;c<=a;c++)t[c].x-=n},t}();i.TextShaping=h}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TextShaping.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TileParser.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../core/pbf */ \"./node_modules/arcgis-js-api/core/pbf.js\"),__webpack_require__(/*! ../../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ./BackgroundBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/BackgroundBucket.js\"),__webpack_require__(/*! ./CircleBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/CircleBucket.js\"),__webpack_require__(/*! ./Feature */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Feature.js\"),__webpack_require__(/*! ./FillBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/FillBucket.js\"),__webpack_require__(/*! ./LineBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/LineBucket.js\"),__webpack_require__(/*! ./SourceLayerData */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SourceLayerData.js\"),__webpack_require__(/*! ./SymbolBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SymbolBucket.js\"),__webpack_require__(/*! ../webgl/TileClipper */ \"./node_modules/arcgis-js-api/views/2d/engine/webgl/TileClipper.js\"),__webpack_require__(/*! ../../tiling/enums */ \"./node_modules/arcgis-js-api/views/2d/tiling/enums.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,i,n,l,s,a,u,o,f,c,h,p){return function(){function e(e,t,r){this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=t,this._layers=t.getLayers();var n=t.tileKey.split(\"/\").map(parseFloat),l=n[0],s=n[1],a=n[2];this._level=l;for(var u=Math.max(8,Math.round(1*this._level)-8),o=0,f=Object.keys(e);o<f.length;o++){var c=f[o],p=e[c];if(this._pbfTiles[c]=new i(new Uint8Array(p.protobuff),new DataView(p.protobuff)),p.refKey){var _=l-p.refKey.split(\"/\").map(parseFloat)[0];if(_>0){var y=(1<<_)-1,v=s&y,B=a&y;this._tileClippers[c]=new h.TileClipper(_,v,B,8,u)}}this._tileClippers[c]||(this._tileClippers[c]=new h.SimpleBuilder)}}return e.prototype.parse=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,l,s,u,o,f,c,h,_,y,v,B,x,g,d,k,D,m,b,w,I,C,V,F,L,T,S,z,M,O,j,K,A,E,H,U,W,q,G,N,R,J,P,Q,X,Y,Z,$,ee,te,re,ie,ne,le,se,ae,ue;return r.__generator(this,(function(r){for(t=e&&e.signal,i=this._parseTileData(this._pbfTiles),l=this._layers,s=this._level,o=[],f=this._tileClippers,c={},h={},_=l.length-1;_>=0;_--)(u=l[_]).minzoom&&s<Math.floor(u.minzoom)||u.maxzoom&&s>=u.maxzoom||u.layout&&u.layout.visibility&&\"none\"===u.layout.visibility||0!==u.type&&i[u.source]&&f[u.source]&&(z=i[u.source],y=f[u.source],Q=u.sourceLayer,(M=z[Q])&&((v=h[u.source])||(v=h[u.source]=new Set),v.add(u.sourceLayer),(te=this._createBucket(u))&&(te.layerIndex=_,te.layerExtent=M.extent,te.tileClipper=y,(O=c[u.source])||(O=c[u.source]={}),(B=O[Q])||(B=O[Q]=[]),B.push(te))));for(x=10*this._level,g=10*(this._level+1),d=[],k=[],D=[],m=[],b=new Set,w={},I=[],C=[],V=function(e){h[e].forEach((function(t){I.push(t),C.push(e)}))},F=0,L=Object.keys(h);F<L.length;F++)J=L[F],V(J);for(T=0;T<I.length;T++)if(J=C[T],S=I[T],i[J]&&c[J]&&(z=i[J],M=z[S],O=c[J],(X=O[S])&&0!==X.length)){if(n.isAborted(t))return[2,void 0];for(j=M.getData();j.next(2);){if(K=j.getMessage(),A=new a(K,M),K.release(),E=A.values){if((H=E._minzoom)&&H>=g)continue;if((U=E._maxzoom)&&U<=x)continue}for(W=0,q=X;W<q.length;W++)(te=q[W]).pushFeature(A)}}for(G=this._tile,N=0,R=Object.keys(c);N<R.length;N++)for(Q in J=R[N],P=c[J])for(X=P[Q],Y=0,Z=X;Y<Z.length;Y++)(te=Z[Y]).hasFeatures()&&(3===te.layer.type?(d.push(te),G.addBucket(te)):te.layer.refLayerId?D.push(te):(k.push(te),m[te.layer.id]=te));for($=0,ee=d;$<ee.length;$++)te=ee[$],(re=te).getResources(re.tileClipper,b,w);if(this._tile.status===p.TileStatus.INVALID)return[2,n.resolve([])];for(ae in ie=[],ne=this._tile.getWorkerTileHandler(),b.size>0&&(le=ne.fetchSprites(b,this._client,e),ie.push(le)),w)(ue=w[ae]).size>0&&(se=ne.fetchGlyphs(this._tile.tileKey,ae,ue,this._client,e),ie.push(se));return[2,n.all(ie).then((function(){for(var e=0,t=k;e<t.length;e++){var r=t[e];r.processFeatures(r.tileClipper),o.push(r)}for(var i=0,n=D;i<n.length;i++){var l=n[i],s=m[l.layer.refLayerId];s&&(s.assignBufferInfo(l),o.push(l))}for(var a=0,u=d;a<u.length;a++){var f=u[a];f.processFeatures(f.tileClipper),o.push(f)}return o.sort((function(e,t){return e.layerIndex-t.layerIndex})),o}))]}))}))},e.prototype._parseTileData=function(e){for(var t={},r=0,i=Object.keys(e);r<i.length;r++){for(var n=i[r],l=e[n],s={};l.next();)switch(l.tag()){case 3:var a=l.getMessage(),u=new f(a);a.release(),s[u.name]=u;break;default:l.skip()}t[n]=s}return t},e.prototype._createBucket=function(e){switch(e.type){case 0:return this._createBackgroundBucket(e);case 1:return this._createFillBucket(e);case 2:return this._createLineBucket(e);case 4:return this._createCircleBucket(e);case 3:return this._createSymbolBucket(e)}},e.prototype._createBackgroundBucket=function(e){return new l(e,this._level)},e.prototype._createFillBucket=function(e){var t=this._tile;return new u(e,this._level,e.hasDataDrivenFill?t.fillDDVertexBuffer:t.fillVertexBuffer,t.fillIndexBuffer,e.hasDataDrivenOutline?t.outlineDDVertexBuffer:t.outlineVertexBuffer,t.outlineIndexBuffer)},e.prototype._createLineBucket=function(e){var t=this._tile;return new o(e,this._level,e.hasDataDrivenLine?t.lineDDVertexBuffer:t.lineVertexBuffer,t.lineIndexBuffer)},e.prototype._createCircleBucket=function(e){var t=this._tile;return new s(e,this._level,t.circleVertexBuffer,t.circleIndexBuffer)},e.prototype._createSymbolBucket=function(e){var t=this._tile;return new c(e,this._level,e.hasDataDrivenIcon?t.iconDDVertexBuffer:t.iconVertexBuffer,t.iconIndexBuffer,e.hasDataDrivenText?t.textDDVertexBuffer:t.textVertexBuffer,t.textIndexBuffer,t.placementEngine,t.getWorkerTileHandler())},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TileParser.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/VertexMemoryBuffer.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ./GeometryUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/GeometryUtils.js\"),__webpack_require__(/*! ./MemoryBuffer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/MemoryBuffer.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,r,i,e,n){Object.defineProperty(r,\"__esModule\",{value:!0});var a=new Float32Array(1),o=new Uint32Array(a.buffer),u=function(t){function r(r){var i=t.call(this,r?20:12)||this;return i._isDataDriven=r,i}return i.__extends(r,t),r.prototype.isDataDriven=function(){return this._isDataDriven},r.prototype.add=function(t,r,i,e,u,s,h,p){var v=this.array,f=n.i1616to32(t,r);v.push(f);if(f=n.i8888to32(Math.round(31*i),Math.round(31*e),Math.round(31*u),Math.round(31*s)),v.push(f),f=n.i1616to32(h,0),v.push(f),this._isDataDriven){if(!p)throw new Error(\"Expecting data driven values.\");var c=p.color,d=c[3]*p.opacity*255;v.push(n.i8888to32(c[0]*d,c[1]*d,c[2]*d,d)),a[0]=p.size,v.push(o[0])}},r}(n);r.LineVertexBuffer=u;var s=function(t){function r(r){var i=t.call(this,r?8:4)||this;return i._isDataDriven=r,i}return i.__extends(r,t),r.prototype.isDataDriven=function(){return this._isDataDriven},r.prototype.add=function(t,r,i){var e=this.array;if(e.push(n.i1616to32(t,r)),this._isDataDriven){if(!i)throw new Error(\"Expecting data driven values.\");var a=i.color,o=a[3]*i.opacity*255;e.push(n.i8888to32(a[0]*o,a[1]*o,a[2]*o,o))}},r}(n);r.FillVertexBuffer=s;var h=function(t){function r(r){var i=t.call(this,r?12:8)||this;return i._isDataDriven=r,i}return i.__extends(r,t),r.prototype.isDataDriven=function(){return this._isDataDriven},r.prototype.add=function(t,r,i,e,a,o,u){var s=this.array,h=this.index,p=n.i1616to32(t,r);s.push(p);if(p=n.i8888to32(Math.round(15*i),Math.round(15*e),a,o),s.push(p),this._isDataDriven){if(!u)throw new Error(\"Expecting data driven values.\");var v=u.color,f=v[3]*u.opacity*255;s.push(n.i8888to32(v[0]*f,v[1]*f,v[2]*f,f))}return h},r}(n);r.OutlineVertexBuffer=h;var p=function(t){function r(r){var i=t.call(this,r?28:20)||this;return i._isDataDriven=r,i}return i.__extends(r,t),r.prototype.isDataDriven=function(){return this._isDataDriven},r.prototype.add=function(t,r,i,u,s,h,p,v,f,c,d,D,l){var y=this.array,_=n.i1616to32(t,r);if(y.push(_),_=n.i1616to32(Math.round(8*i),Math.round(8*u)),y.push(_),_=n.i8888to32(s/4,h/4,0,0),y.push(_),_=n.i8888to32(Math.ceil(10*D),e.radToByte(p),10*c,Math.min(10*d,255)),y.push(_),_=n.i8888to32(v,f,0,0),y.push(_),this._isDataDriven){if(!l)throw new Error(\"Expecting data driven values.\");var x=l.color,M=x[3]*l.opacity*255;y.push(n.i8888to32(x[0]*M,x[1]*M,x[2]*M,M)),a[0]=l.size,y.push(o[0])}},r}(n);r.SymbolVertexBuffer=p;var v=function(t){function r(){return t.call(this,16)||this}return i.__extends(r,t),r.prototype.add=function(t,r,i,e,a,o,u,s,h,p,v){var f=this.array,c=n.i1616to32(2*t+i,2*r+e);f.push(c);var d=o[3]*u*255;c=n.i8888to32(o[0]*d,o[1]*d,o[2]*d,d),f.push(c);var D=p[3]*v*255;c=n.i8888to32(p[0]*D,p[1]*D,p[2]*D,D),f.push(c),c=n.i8888to32(Math.min(32*s,255),Math.min(4*h,255),Math.min(a,255),0),f.push(c)},r}(n);r.CircleVertexBuffer=v}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/VertexMemoryBuffer.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTile.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../../../core/maybe */ \"./node_modules/arcgis-js-api/core/maybe.js\"),__webpack_require__(/*! ../../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ./BackgroundBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/BackgroundBucket.js\"),__webpack_require__(/*! ./CircleBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/CircleBucket.js\"),__webpack_require__(/*! ./FillBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/FillBucket.js\"),__webpack_require__(/*! ./GeometryUtils */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/GeometryUtils.js\"),__webpack_require__(/*! ./IndexMemoryBuffer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/IndexMemoryBuffer.js\"),__webpack_require__(/*! ./LineBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/LineBucket.js\"),__webpack_require__(/*! ./Placement */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/Placement.js\"),__webpack_require__(/*! ./SymbolBucket */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/SymbolBucket.js\"),__webpack_require__(/*! ./TileParser */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/TileParser.js\"),__webpack_require__(/*! ./VertexMemoryBuffer */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/VertexMemoryBuffer.js\"),__webpack_require__(/*! ../../tiling/enums */ \"./node_modules/arcgis-js-api/views/2d/tiling/enums.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,f,s,n,i,u,o,a,l,B,h,x,I,c){return function(){function e(){this.rotation=0,this.status=c.TileStatus.INITIALIZED,this._symbolBuckets=[],this.placementEngine=new B.PlacementEngine,this.fillVertexBuffer=new I.FillVertexBuffer(!1),this.fillDDVertexBuffer=new I.FillVertexBuffer(!0),this.fillIndexBuffer=new a.TriangleIndexBuffer,this.outlineVertexBuffer=new I.OutlineVertexBuffer(!1),this.outlineDDVertexBuffer=new I.OutlineVertexBuffer(!0),this.outlineIndexBuffer=new a.TriangleIndexBuffer,this.lineVertexBuffer=new I.LineVertexBuffer(!1),this.lineDDVertexBuffer=new I.LineVertexBuffer(!0),this.lineIndexBuffer=new a.TriangleIndexBuffer,this.iconVertexBuffer=new I.SymbolVertexBuffer(!1),this.iconDDVertexBuffer=new I.SymbolVertexBuffer(!0),this.iconIndexBuffer=new a.TriangleIndexBuffer,this.textVertexBuffer=new I.SymbolVertexBuffer(!1),this.textDDVertexBuffer=new I.SymbolVertexBuffer(!0),this.textIndexBuffer=new a.TriangleIndexBuffer,this.circleVertexBuffer=new I.CircleVertexBuffer,this.circleIndexBuffer=new a.TriangleIndexBuffer}return e.prototype.initialize=function(e,t,r,f){void 0===f&&(f=0),this.tileKey=e,this.refKeys=t,this._workerTileHandler=r,this.rotation=f,this.placementEngine.setAngle(o.C_DEG_TO_RAD*f)},e.prototype.release=function(){this.tileKey=\"\",this.refKeys=null,this.status=c.TileStatus.INITIALIZED,this.rotation=0,this.resetData(),this._workerTileHandler=null},e.prototype.resetData=function(){this.fillVertexBuffer.reset(),this.fillDDVertexBuffer.reset(),this.fillIndexBuffer.reset(),this.outlineVertexBuffer.reset(),this.outlineDDVertexBuffer.reset(),this.outlineIndexBuffer.reset(),this.lineVertexBuffer.reset(),this.lineDDVertexBuffer.reset(),this.lineIndexBuffer.reset(),this.iconVertexBuffer.reset(),this.iconDDVertexBuffer.reset(),this.iconIndexBuffer.reset(),this.textVertexBuffer.reset(),this.textDDVertexBuffer.reset(),this.textIndexBuffer.reset(),this.circleVertexBuffer.reset(),this.circleIndexBuffer.reset(),this.placementEngine.reset(),this._symbolBuckets.length=0},e.prototype.reparse=function(e){return this.resetData(),this.setDataAndParse(this._data,e)},e.prototype.setDataAndParse=function(e,t){var r=this,s=t&&t.signal;if(f.isSome(s)){var o=function(){s.removeEventListener(\"abort\",o),r.status=c.TileStatus.INVALID};s.addEventListener(\"abort\",o)}return this._data=e,this._parse(e,t).then((function(e){r.status=c.TileStatus.READY;for(var t=[1,r.fillVertexBuffer.sizeInBytes,2,r.fillDDVertexBuffer.sizeInBytes,3,r.fillIndexBuffer.sizeInBytes,4,r.outlineVertexBuffer.sizeInBytes,5,r.outlineDDVertexBuffer.sizeInBytes,6,r.outlineIndexBuffer.sizeInBytes,7,r.lineVertexBuffer.sizeInBytes,8,r.lineDDVertexBuffer.sizeInBytes,9,r.lineIndexBuffer.sizeInBytes,10,r.iconVertexBuffer.sizeInBytes,11,r.iconDDVertexBuffer.sizeInBytes,12,r.iconIndexBuffer.sizeInBytes,13,r.textVertexBuffer.sizeInBytes,14,r.textDDVertexBuffer.sizeInBytes,15,r.textIndexBuffer.sizeInBytes,16,r.circleVertexBuffer.sizeInBytes,17,r.circleIndexBuffer.sizeInBytes],f=new Uint32Array(t),s=[],o=e.length,a=0;a<o;a++){var B=e[a];if(B instanceof u)s.push(B.layerIndex),s.push(1),s.push(B.fillIndexStart),s.push(B.fillIndexCount),s.push(B.outlineIndexStart),s.push(B.outlineIndexCount);else if(B instanceof l)s.push(B.layerIndex),s.push(2),s.push(B.lineIndexStart),s.push(B.lineIndexCount);else if(B instanceof h){s.push(B.layerIndex),s.push(3),s.push(B.sdfMarker?1:0);var x=B.markerPageMap;s.push(x.size),x.forEach((function(e,t){s.push(t),s.push(e[0]),s.push(e[1])}));var I=B.glyphsPageMap;s.push(I.size),I.forEach((function(e,t){s.push(t),s.push(e[0]),s.push(e[1])}))}else B instanceof i?(s.push(B.layerIndex),s.push(4),s.push(B.circleIndexStart),s.push(B.circleIndexCount)):B instanceof n&&(s.push(B.layerIndex),s.push(0))}var p=new Uint32Array(s),y=r.fillVertexBuffer.toBuffer(),D=r.fillDDVertexBuffer.toBuffer(),d=r.fillIndexBuffer.toBuffer(),V=r.outlineVertexBuffer.toBuffer(),v=r.outlineDDVertexBuffer.toBuffer(),z=r.outlineIndexBuffer.toBuffer(),b=r.lineVertexBuffer.toBuffer(),g=r.lineDDVertexBuffer.toBuffer(),m=r.lineIndexBuffer.toBuffer(),w=r.iconVertexBuffer.toBuffer(),T=r.iconDDVertexBuffer.toBuffer(),k=r.iconIndexBuffer.toBuffer(),S=r.textVertexBuffer.toBuffer(),_=r.textDDVertexBuffer.toBuffer(),E=r.textIndexBuffer.toBuffer(),A=r.circleVertexBuffer.toBuffer(),L=r.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:f.buffer,bucketDataInfo:p.buffer,bufferData:[y,D,d,V,v,z,b,g,m,w,T,k,S,_,E,A,L]},transferList:[y,D,d,V,v,z,b,g,m,w,T,k,S,_,E,A,L,f.buffer,p.buffer]}}))},e.prototype.addBucket=function(e){this._symbolBuckets.push(e)},e.prototype.updateSymbols=function(e,t){var r=this,n=this._symbolBuckets;if(!n||0===n.length)return s.resolve();var i=t&&t.signal;if(f.isSome(i)){var u=function(){i.removeEventListener(\"abort\",u),r.status=c.TileStatus.INVALID};i.addEventListener(\"abort\",u)}this.rotation=e;var a=this.placementEngine;a.reset(),a.setAngle(e/256*360*o.C_DEG_TO_RAD);var l=this.iconVertexBuffer;l.reset();var B=this.iconDDVertexBuffer;B.reset();var h=this.iconIndexBuffer;h.reset();var x=this.textVertexBuffer;x.reset();var I=this.textDDVertexBuffer;I.reset();var p=this.textIndexBuffer;p.reset();for(var y=[],D=0;D<n.length;D++){var d=n[D];if(d&&d.layer){var V=d.layer,v=d.copy(V.hasDataDrivenIcon?B:l,h,V.hasDataDrivenText?I:x,p,a);v&&(y.push(v),v.updateSymbols())}}if(this.status===c.TileStatus.INVALID||this.status===c.TileStatus.INITIALIZED||0===l.sizeInBytes&&0===B.sizeInBytes&&0===h.sizeInBytes&&0===x.sizeInBytes&&0===I.sizeInBytes&&0===p.sizeInBytes)return s.reject();var z=[10,l.sizeInBytes,11,B.sizeInBytes,12,h.sizeInBytes,13,x.sizeInBytes,14,I.sizeInBytes,15,p.sizeInBytes],b=new Uint32Array(z),g=[];for(D=0;D<y.length;D++){var m=y[D];g.push(m.layerIndex),g.push(3),g.push(m.sdfMarker?1:0);var w=m.markerPageMap;g.push(w.size),w.forEach((function(e,t){g.push(t),g.push(e[0]),g.push(e[1])}));var T=m.glyphsPageMap;g.push(T.size),T.forEach((function(e,t){g.push(t),g.push(e[0]),g.push(e[1])}))}var k=new Uint32Array(g),S=l.toBuffer(),_=B.toBuffer(),E=h.toBuffer(),A=x.toBuffer(),L=I.toBuffer(),M=p.toBuffer();return s.resolve({result:{bufferDataInfo:b.buffer,bucketDataInfo:k.buffer,bufferData:[S,_,E,A,L,M]},transferList:[S,_,E,A,L,M,b.buffer,k.buffer]})},e.prototype.setObsolete=function(){this.status=c.TileStatus.INVALID},e.prototype.getLayers=function(){return this._workerTileHandler.getLayers()},e.prototype.getWorkerTileHandler=function(){return this._workerTileHandler},e.prototype._parse=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return 0===Object.keys(e).length?[2,[]]:(this.status=c.TileStatus.MODIFIED,[2,new x(e,this,t.client).parse(t)])}))}))},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTile.js?')},\"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTileHandler.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ./WorkerTile */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTile.js\"),__webpack_require__(/*! ./style/StyleRepository */ \"./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/style/StyleRepository.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,n,i){return function(){function e(){this._tiles=new Map,this._spriteInfo={},this._glyphInfo={}}return e.prototype.reset=function(){this._spriteInfo={},this._glyphInfo={};var e=this._tiles;return e.forEach((function(e){return e.setObsolete()})),e.clear(),r.resolve()},e.prototype.getLayers=function(){return this._layers},e.prototype.setLayers=function(e){var t=new i(e.style);return this._layers=t.layers,this._enableCachingTiles=e.enableCachingTiles,r.resolve({data:\"\"})},e.prototype.createTileAndParse=function(e,t){for(var i=this,o=e.key,s=new n,a={},l=0,h=Object.keys(e.sourceName2DataAndRefKey);l<h.length;l++){var u=h[l],f=e.sourceName2DataAndRefKey[u];a[u]=f.refKey}return s.initialize(o,a,this,e.rotation),s.setDataAndParse(e.sourceName2DataAndRefKey,t).then((function(e){return i._enableCachingTiles&&i._tiles.set(o,s),e})).catch((function(e){if(s.setObsolete(),s.release(),!r.isAbortError(e))throw e}))},e.prototype.updateSymbols=function(e,t){var n=this._tiles.get(e.key);return n?n.updateSymbols(e.rotation,t):r.reject()},e.prototype.updateStyle=function(e,t){var n=new i(e);return this._layers=n.layers,this._tiles.forEach((function(e){e.reparse(t).then((function(r){t.client.invoke(\"updateTileData\",{tileId:e.tileKey,tileData:r.result})}))})),r.resolve({data:\"\"})},e.prototype.destructTileData=function(e){if(this._enableCachingTiles){var t=this._tiles.get(e);t&&(t.release(),this._tiles.delete(e))}},e.prototype.fetchSprites=function(e,t,n){var i=[],o=this._spriteInfo;return e.forEach((function(e){void 0===o[e]&&i.push(e)})),0===i.length?r.resolve():t.invoke(\"getSprites\",i,{signal:n&&n.signal}).then((function(e){for(var t in e){var r=e[t];o[t]=r}}))},e.prototype.getSpriteItems=function(){return this._spriteInfo},e.prototype.fetchGlyphs=function(e,t,n,i,o){var s=[],a=this._glyphInfo[t];return a?n.forEach((function(e){a[e]||s.push(e)})):(a=this._glyphInfo[t]=[],n.forEach((function(e){return s.push(e)}))),0===s.length?r.resolve():i.invoke(\"getGlyphs\",{tileID:e,font:t,codePoints:s},o).then((function(e){for(var t=0;t<e.length;t++)e[t]&&(a[t]=e[t])}))},e.prototype.getGlyphItems=function(e){return this._glyphInfo[e]},e}()}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/engine/vectorTiles/WorkerTileHandler.js?')},\"./node_modules/arcgis-js-api/views/2d/tiling/enums.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(I,e){Object.defineProperty(e,\"__esModule\",{value:!0}),function(I){I[I.INITIALIZED=0]=\"INITIALIZED\",I[I.NO_DATA=1]=\"NO_DATA\",I[I.READY=2]=\"READY\",I[I.MODIFIED=3]=\"MODIFIED\",I[I.INVALID=4]=\"INVALID\"}(e.TileStatus||(e.TileStatus={}))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/views/2d/tiling/enums.js?')}}]);","extractedComments":[]}