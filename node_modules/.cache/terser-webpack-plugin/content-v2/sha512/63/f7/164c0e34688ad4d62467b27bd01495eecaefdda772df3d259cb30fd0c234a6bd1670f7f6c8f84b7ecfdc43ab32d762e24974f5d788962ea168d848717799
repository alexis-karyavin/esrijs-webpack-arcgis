{"code":"(function(){(this||window).webpackJsonp.registerAbsMids({\"esri/layers/support/ExportWMSImageParameters\":\"./node_modules/arcgis-js-api/layers/support/ExportWMSImageParameters.js\",\"esri/layers/support/wmsUtils\":\"./node_modules/arcgis-js-api/layers/support/wmsUtils.js\"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{\"./node_modules/arcgis-js-api/layers/support/ExportWMSImageParameters.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.js\"),__webpack_require__(/*! ../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\"),__webpack_require__(/*! ../../core/Handles */ \"./node_modules/arcgis-js-api/core/Handles.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ./wmsUtils */ \"./node_modules/arcgis-js-api/layers/support/wmsUtils.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,n,a,s,i){var l={visible:\"visibleSublayers\"},o=[102100,3857,102113,900913],p=[3395,54004];return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._layerHandles=new a,r.extent=null,r._scale=null,r.view=null,r}return t.__extends(r,e),Object.defineProperty(r.prototype,\"layer\",{set:function(e){var r=this;this._get(\"layer\")!==e&&(this._set(\"layer\",e),this._layerHandles&&(this._layerHandles.removeAll(),this._layerHandles=null),e&&(this._layerHandles||(this._layerHandles=new a),this._layerHandles.add([e.sublayers.on(\"change\",(function(){return r.notifyChange(\"visibleSublayers\")})),e.on(\"wms-sublayer-update\",(function(e){return r.notifyChange(l[e.propertyName])}))])))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"layers\",{get:function(){return this.visibleSublayers.filter((function(e){return e.name})).map((function(e){return e.name})).join(\",\")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"scale\",{get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange(\"scale\"))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"version\",{get:function(){return(this._get(\"version\")||0)+1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"visibleSublayers\",{get:function(){var e=this.layer,r=this.scale,t=e.sublayers,n=[],a=function(e){var t=e.minScale,s=e.maxScale,i=e.sublayers;e.visible&&(0===r||(0===t||r<=t)&&(0===s||r>=s))&&(n.unshift(e),i&&i.forEach(a))};return t&&t.forEach(a),n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"wkid\",{get:function(){var e=this.extent,r=this.layer.spatialReferences,t=e.spatialReference&&e.spatialReference.wkid;r&&-1===r.indexOf(t)&&e.spatialReference.latestWkid&&(t=e.spatialReference.latestWkid);var n=o.some((function(e){return e===t}));if(!r)return t;if(n){var a=[];r.forEach((function(e){o.indexOf(e)>-1&&a.push(e)})),a.length||r.forEach((function(e){p.indexOf(e)>-1&&a.push(e)})),t=a.length>0?a[0]:o[0]}return t},enumerable:!0,configurable:!0}),r.prototype.toJSON=function(){var e=this.extent,r=this.layer,n=this.layers,a=r.imageFormat,s=r.imageTransparency,l=r.spatialReferences,o=r.version,p=this.wkid;l&&-1===l.indexOf(p)&&e.spatialReference.latestWkid&&(p=e.spatialReference.latestWkid);var c=e.xmin,u=e.ymin,y=e.xmax,d=e.ymax,f={bbox:\"1.3.0\"===r.version&&i.coordsReversed(p)?u+\",\"+c+\",\"+d+\",\"+y:c+\",\"+u+\",\"+y+\",\"+d,format:a,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:s,version:o};return isNaN(p)||(\"1.3.0\"===o?f.crs=\"EPSG:\"+p:f.srs=\"EPSG:\"+p),t.__assign(t.__assign({},f),{layers:n})},t.__decorate([s.property()],r.prototype,\"extent\",void 0),t.__decorate([s.property()],r.prototype,\"layer\",null),t.__decorate([s.property({readOnly:!0,dependsOn:[\"visibleSublayers\"]})],r.prototype,\"layers\",null),t.__decorate([s.property({type:Number,dependsOn:[\"view.scale\"]})],r.prototype,\"scale\",null),t.__decorate([s.property()],r.prototype,\"view\",void 0),t.__decorate([s.property({dependsOn:[\"layers\",\"layer.imageTransparency\"],readOnly:!0})],r.prototype,\"version\",null),t.__decorate([s.property({readOnly:!0,dependsOn:[\"layer.sublayers\",\"scale\"]})],r.prototype,\"visibleSublayers\",null),t.__decorate([s.property()],r.prototype,\"wkid\",null),r=t.__decorate([s.subclass(\"esri.layers.support.ExportWMSImageParameters\")],r)}(n)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/ExportWMSImageParameters.js?')},\"./node_modules/arcgis-js-api/layers/support/wmsUtils.js\":function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2020 Esri\\n//\\n// All rights reserved under the copyright laws of the United States\\n// and applicable international laws, treaties, and conventions.\\n//\\n// This material is licensed for use under the Esri Master License\\n// Agreement (MLA), and is bound by the terms of that agreement.\\n// You may redistribute and use this code without modification,\\n// provided you adhere to the terms of the MLA and include this\\n// copyright notice.\\n//\\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\\n//\\n// For additional information, contact:\\n// Environmental Systems Research Institute, Inc.\\n// Attn: Contracts and Legal Services Department\\n// 380 New York Street\\n// Redlands, California, USA 92373\\n// USA\\n//\\n// email: contracts@esri.com\\n//\\n// See http://js.arcgis.com/4.16/esri/copyright.txt for details.\\n\\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ../../geometry/SpatialReference */ \"./node_modules/arcgis-js-api/geometry/SpatialReference.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,n,a,i){Object.defineProperty(t,\"__esModule\",{value:!0});var l=[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],u={84:4326,83:4269,27:4267};function o(e){return l.some((function(t){var r=t[0],n=t[1];return e>=r&&e<=n}))}function s(e,t){var r=t&&t.getElementsByTagName(e);return r&&r.length>0?r[0]:null}function f(e,t,r){var n=s(e,t);return n?n.textContent:r}function c(e,t,r){if(!e)return null;var n,l,u,o,s=parseFloat(e.getAttribute(\"minx\")),f=parseFloat(e.getAttribute(\"miny\")),c=parseFloat(e.getAttribute(\"maxx\")),p=parseFloat(e.getAttribute(\"maxy\"));r?(n=isNaN(f)?-Number.MAX_VALUE:f,l=isNaN(s)?-Number.MAX_VALUE:s,u=isNaN(p)?Number.MAX_VALUE:p,o=isNaN(c)?Number.MAX_VALUE:c):(n=isNaN(s)?-Number.MAX_VALUE:s,l=isNaN(f)?-Number.MAX_VALUE:f,u=isNaN(c)?Number.MAX_VALUE:c,o=isNaN(p)?Number.MAX_VALUE:p);var m=new i({wkid:t});return new a({xmin:n,ymin:l,xmax:u,ymax:o,spatialReference:m})}function p(e,t){var r=s(t,e),a=s(\"DCPType\",r);if(a){var i=s(\"HTTP\",a);if(i){var l=s(\"Get\",i);if(l){var u=function(e,t,r,n){var a=s(e,r);return a?a.getAttribute(t):n}(\"OnlineResource\",\"xlink:href\",l,null);if(u)return u.indexOf(\"&\")===u.length-1&&(u=u.substring(0,u.length-1)),function(e,t){var r=[],a=n.urlToObject(e);for(var i in a.query)a.query.hasOwnProperty(i)&&-1===t.indexOf(i.toLowerCase())&&r.push(i+\"=\"+a.query[i]);return a.path+(r.length?\"?\"+r.join(\"&\"):\"\")}(u,[\"service\",\"request\"])}}}return null}function m(e,t){var r=e.getElementsByTagName(\"Operation\");if(!r||!r.length){var n=s(t,e).getElementsByTagName(\"Format\");return Array.prototype.slice.call(n).map((function(e){return e.textContent}))}var a=Array.prototype.slice.call(r),i=[];return a.forEach((function(e){if(e.getAttribute(\"name\")===t){var r=e.getElementsByTagName(\"Format\");Array.prototype.slice.call(r).forEach((function(e){i.push(e.textContent)}))}})),i}function d(e,t,r){var n=function(e,t){for(var r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(n.nodeType===Node.ELEMENT_NODE&&n.nodeName===e)return n}return null}(t,e);if(!n)return r;var a=n.textContent;if(null==a||\"\"===a)return r;var i=Number(a);return isNaN(i)?r:i}function x(e,t,r){if(!e)return null;var n={id:r.idCounter++,fullExtents:[],parentLayerId:null,queryable:\"1\"===e.getAttribute(\"queryable\"),spatialReferences:[],sublayers:null},l=s(\"LatLonBoundingBox\",e),p=s(\"EX_GeographicBoundingBox\",e),m=null;l&&(m=c(l,4326)),p&&((m=new a(0,0,0,0,new i({wkid:4326}))).xmin=parseFloat(f(\"westBoundLongitude\",p,0)),m.ymin=parseFloat(f(\"southBoundLatitude\",p,0)),m.xmax=parseFloat(f(\"eastBoundLongitude\",p,0)),m.ymax=parseFloat(f(\"northBoundLatitude\",p,0))),l||p||(m=new a(-180,-90,180,90,new i({wkid:4326}))),n.minScale=d(e,\"MaxScaleDenominator\",0),n.maxScale=d(e,\"MinScaleDenominator\",0);var y=[\"1.0.0\",\"1.1.0\",\"1.1.1\"].indexOf(t)>-1?\"SRS\":\"CRS\";return Array.prototype.slice.call(e.childNodes).forEach((function(e){if(\"Name\"===e.nodeName)n.name=e.textContent||\"\";else if(\"Title\"===e.nodeName)n.title=e.textContent||\"\";else if(\"Abstract\"===e.nodeName)n.description=e.textContent||\"\";else if(\"BoundingBox\"===e.nodeName){var a=e.getAttribute(y);if(a&&0===a.indexOf(\"EPSG:\"))0===(l=parseInt(a.substring(5),10))||isNaN(l)||m||(m=\"1.3.0\"===t?c(e,l,o(l)):c(e,l));var i=a&&a.indexOf(\":\");if(i&&i>-1){var l;0===(l=parseInt(a.substring(i+1,a.length),10))||isNaN(l)||(l=u[l]?u[l]:l);var f=\"1.3.0\"===t?c(e,l,o(l)):c(e,l);n.fullExtents.push(f)}}else if(e.nodeName===y){e.textContent.split(\" \").forEach((function(e){0===(e=e.indexOf(\":\")>-1?parseInt(e.split(\":\")[1],10):parseInt(e,10))||isNaN(e)||(u[e]&&(e=u[e]),-1===n.spatialReferences.indexOf(e)&&n.spatialReferences.push(e))}))}else if(\"Style\"!==e.nodeName||n.legendURL){if(\"Layer\"===e.nodeName){var p=x(e,t,r);p&&(p.parentLayerId=n.id,n.sublayers||(n.sublayers=[]),n.sublayers.push(p))}}else{var d=s(\"LegendURL\",e);if(d){var N=s(\"OnlineResource\",d);N&&(n.legendURL=N.getAttribute(\"xlink:href\"))}}})),n.extent=m&&m.toJSON(),n}t.parseCapabilities=function(e){if(!e)return null;var t={idCounter:-1};\"string\"==typeof e&&(e=(new DOMParser).parseFromString(e,\"text/xml\"));var n=e.documentElement;if(\"ServiceExceptionReport\"===n.nodeName){var i=Array.prototype.slice.call(n.childNodes).map((function(e){return e.textContent})).join(\"\\\\r\\\\n\");throw new r(\"wmslayer:wms-capabilities-xml-is-not-valid\",\"The server returned errors when the WMS capabilities were requested.\",i)}var l=s(\"Layer\",n);if(!l)return null;var u,o,c,d,y=\"WMS_Capabilities\"===n.nodeName||\"WMT_MS_Capabilities\"===n.nodeName?n.getAttribute(\"version\"):\"1.3.0\",N=s(\"Service\",n),h=f(\"Title\",N,\"\")||f(\"Name\",N,\"\"),g=f(\"AccessConstraints\",N,\"\"),v=f(\"Abstract\",N,\"\"),b=parseInt(f(\"MaxWidth\",N,5e3),10),E=parseInt(f(\"MaxHeight\",N,5e3),10),A=s(\"Capability\",n),L=m(n,\"GetMap\"),S=p(n,\"GetMap\"),M=x(l,y,t),w=0;if(Array.prototype.slice.call(A.childNodes).forEach((function(e){\"Layer\"===e.nodeName&&(0===w?u=e:1===w?(M.name&&(M.name=\"\",M.sublayers.push(x(u,y,t))),M.sublayers.push(x(e,y,t))):M.sublayers.push(x(e,y,t)),w++)})),!M)return null;var C=M.fullExtents;if((o=M.sublayers)||(o=[]),0===o.length&&o.push(M),!(c=M.extent)){var O=new a(o[0].extent);M.extent=O.toJSON(),c=M.extent}if(!(d=M.spatialReferences).length&&o.length>0){var R=function(e){var t=[];return e.sublayers.forEach((function(e){!t.length&&e.spatialReferences.length&&(t=e.spatialReferences||R(e))})),t};o.forEach((function(e){d.length||(d=e.spatialReferences||R(e))}))}var F,I=p(n,\"GetFeatureInfo\");if(I){var T=m(n,\"GetFeatureInfo\");T.indexOf(\"text/html\")>-1?F=\"text/html\":T.indexOf(\"text/plain\")>-1&&(F=\"text/plain\")}if(!F){var _=function(e){e&&(e.queryable=!1,e.sublayers&&e.sublayers.forEach((function(e){_(e)})))};_(M)}var B=function e(t){var r=[];return t.forEach((function(t){r.push(t),t.sublayers&&t.sublayers.length&&(r=r.concat(e(t.sublayers)),delete t.sublayers)})),r}(o),U=M.minScale||0;return{copyright:g,description:v,extent:c,fullExtents:C,featureInfoFormat:F,featureInfoUrl:I,mapUrl:S,maxImageWidth:b,maxImageHeight:E,maxScale:M.maxScale||0,minScale:U,layers:B,spatialReferences:d,supportedImageFormatTypes:L,title:h,version:y}},t.coordsReversed=o,t.getPopupLayers=function(e){return e.length?e.filter((function(e){return e.popupEnabled&&e.name&&e.queryable})).map((function(e){return e.name})).join(\",\"):\"\"}}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/wmsUtils.js?')}}]);","extractedComments":[]}